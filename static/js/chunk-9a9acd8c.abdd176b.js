(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a9acd8c"],{"0c7c":function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var s=I(n("14a3")),a=I(n("b547")),o=I(n("8de2")),r=I(n("d28b0")),u=I(n("0fa5")),l=n("2809"),c=n("b62d"),d=n("bf81"),h=n("9703"),f=n("ce5d"),_=n("5e98"),p=n("d4b2"),m=n("706b"),y=I(n("84cc")),v=I(n("be58")),g=I(n("2dd1")),b=n("1820"),S=I(n("b874")),C=I(n("8937")),k=n("b49b");function I(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function A(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function O(e,t,n){return O="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=B(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(n):s.value}},O(e,t,n||e)}function B(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=T(e),null===e)break;return e}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function E(e){var t=N();return function(){var n,i=T(e);if(t){var s=T(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var P="dx-menu",V=P+"-item",R=V+"-expanded",H="dx-menu-phone-overlay",j=P+"-items-container",$=V+"-wrapper",W="dx-submenu",L="dx-context-menu",G="dx-has-context-menu",q="dx-state-disabled",U="dx-state-focused",J="dx-state-hover",Q="up",X="down",z="left",Y="right",Z="first",ee="last",te=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],ne=[Q,X,Z,ee],ie="dxcontextmenu",se=function(e){M(n,e);var t=E(n);function n(){return x(this,n),t.apply(this,arguments)}return A(n,[{key:"getShowEvent",value:function(e){var t=null;return(0,c.isObject)(e)?null!==e.name&&(t=e.name||ie):t=e,t}},{key:"getShowDelay",value:function(e){return(0,c.isObject)(e)&&e.delay}},{key:"_getDefaultOptions",value:function(){return(0,p.extend)(O(T(n.prototype),"_getDefaultOptions",this).call(this),{showEvent:ie,closeOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}},{key:"_defaultOptionsRules",value:function(){return O(T(n.prototype),"_defaultOptionsRules",this).call(this).concat([{device:function(){return!(0,m.hasWindow)()},options:{animation:null}}])}},{key:"_initActions",value:function(){var e=this;this._actions={},(0,f.each)(te,(function(t,n){e._actions[n]=e._createActionByOption(n)||l.noop}))}},{key:"_setOptionsByReference",value:function(){O(T(n.prototype),"_setOptionsByReference",this).call(this),(0,p.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})}},{key:"_focusInHandler",value:function(){}},{key:"_itemContainer",value:function(){return this._overlay?this._overlay.$content():(0,s.default)()}},{key:"_eventBindingTarget",value:function(){return this._itemContainer()}},{key:"itemsContainer",value:function(){return this._overlay?this._overlay.$content():void 0}},{key:"_supportedKeys",value:function(){var e=this,t=function(){var t=(0,s.default)(e.option("focusedElement"));e.hide(),t.length&&e._isSelectionEnabled()&&e.selectItem(t[0])};return(0,p.extend)(O(T(n.prototype),"_supportedKeys",this).call(this),{space:t,esc:this.hide})}},{key:"_getActiveItem",value:function(){var e=this._getAvailableItems(),t=e.filter(".".concat(U)),i=e.filter(".".concat(J)),s=i.closest(".".concat(j));return s.find(".".concat(V)).index(t)>=0?t:i.length?i:O(T(n.prototype),"_getActiveItem",this).call(this)}},{key:"_moveFocus",value:function(e){var t,i=this._getItemsByLocation(e),a=this._getActiveItem(!0),o=this.itemsContainer().find(".".concat(J)),r=(0,s.default)(this.option("focusedElement")),u=!(!r.length&&!o.length);switch(e){case Q:t=u?this._prevItem(i):a,a.is(i.first())&&this._actions.onLeftFirstItem(a);break;case X:t=u?this._nextItem(i):a,a.is(i.last())&&this._actions.onLeftLastItem(a);break;case Y:t=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(i,e);break;case z:t=this.option("rtlEnabled")?this._expandSubmenuHandler(i,e):this._hideSubmenuHandler();break;case Z:t=i.first();break;case ee:t=i.last();break;default:return O(T(n.prototype),"_moveFocus",this).call(this,e)}0!==t.length&&this.option("focusedElement",(0,h.getPublicElement)(t))}},{key:"_getItemsByLocation",value:function(e){var t,n=this._getActiveItem(!0);return(0,_.inArray)(e,ne)>=0&&(t=n.closest(".".concat(j)).children().children()),t=this._getAvailableItems(t),t}},{key:"_getAriaTarget",value:function(){return this.$element()}},{key:"_refreshActiveDescendant",value:function(){if((0,c.isDefined)(this._overlay)){var e=this._overlay.$content();O(T(n.prototype),"_refreshActiveDescendant",this).call(this,e)}}},{key:"_hideSubmenuHandler",value:function(){var e=this._getActiveItem(!0),t=e.parents(".".concat(R)).first();return t.length?(this._hideSubmenusOnSameLevel(t),this._hideSubmenu(e.closest(".".concat(W))),t):(this._actions.onCloseRootSubmenu(e),e)}},{key:"_expandSubmenuHandler",value:function(e,t){var n=this._getActiveItem(!0),i=this._getItemData(n),s=this._dataAdapter.getNodeByItem(i),a=this._hasSubmenu(s),o=n.children(".".concat(W));return a&&!n.hasClass(q)?(o.length&&"hidden"!==o.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t))):(this._actions.onExpandLastSubmenu(n),n)}},{key:"_clean",value:function(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),O(T(n.prototype),"_clean",this).call(this)}},{key:"_initMarkup",value:function(){this.$element().addClass(G),O(T(n.prototype),"_initMarkup",this).call(this)}},{key:"_render",value:function(){O(T(n.prototype),"_render",this).call(this),this._renderVisibility(this.option("visible")),this._addWidgetClass()}},{key:"_renderContentImpl",value:function(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}},{key:"_attachKeyboardEvents",value:function(){!this._keyboardListenerId&&this._focusTarget().length&&O(T(n.prototype),"_attachKeyboardEvents",this).call(this)}},{key:"_renderContextMenuOverlay",value:function(){if(!this._overlay){var e=this._getOverlayOptions();this._overlay=this._createComponent((0,s.default)("<div>").appendTo(this._$element),S.default,e);var t=this._overlay.$content();t.addClass(L),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}}},{key:"_itemContextMenuHandler",value:function(e){O(T(n.prototype),"_itemContextMenuHandler",this).call(this,e),e.stopPropagation()}},{key:"_addPlatformDependentClass",value:function(e){g.default.current().phone&&e.addClass(H)}},{key:"_detachShowContextMenuEvents",value:function(e){var t=this.getShowEvent(this.option("showEvent"));if(t){var n=(0,b.addNamespace)(t,this.NAME);this._showContextMenuEventHandler?o.default.off(a.default.getDocument(),n,e,this._showContextMenuEventHandler):o.default.off((0,s.default)(e),n)}}},{key:"_attachShowContextMenuEvents",value:function(){var e=this,t=this._getTarget(),n=this.getShowEvent(this.option("showEvent"));if(n){var i=(0,b.addNamespace)(n,this.NAME),r=this._createAction((function(t){var n=e.getShowDelay(e.option("showEvent"));n?setTimeout((function(){return e._show(t.event)}),n):e._show(t.event)}),{validatingTargetName:"target"}),u=function(e){return r({event:e,target:(0,s.default)(e.currentTarget)})};r=this._createAction(r),(0,c.isRenderer)(t)||t.nodeType||(0,c.isWindow)(t)?(this._showContextMenuEventHandler=void 0,o.default.on(t,i,u)):(this._showContextMenuEventHandler=u,o.default.on(a.default.getDocument(),i,t,this._showContextMenuEventHandler))}}},{key:"_hoverEndHandler",value:function(e){O(T(n.prototype),"_hoverEndHandler",this).call(this,e),e.stopPropagation()}},{key:"_renderDimensions",value:function(){}},{key:"_renderContainer",value:function(e,t){var i=t||this._itemContainer();e=(0,s.default)("<div>"),e.appendTo(i).addClass(W).css("visibility",t?"hidden":"visible");var a=O(T(n.prototype),"_renderContainer",this).call(this,e);return t?a:this.option("width")?a.css("minWidth",this.option("width")):this.option("height")?a.css("minHeight",this.option("height")):a}},{key:"_renderSubmenuItems",value:function(e,t){this._renderItems(this._getChildNodes(e),t),this._actions.onSubmenuCreated({itemElement:(0,h.getPublicElement)(t),itemData:e.internalFields.item,submenuElement:(0,h.getPublicElement)(t.children(".".concat(W)))})}},{key:"_getOverlayOptions",value:function(){var e=this.option("position"),t={focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,closeOnOutsideClick:this._closeOnOutsideClickHandler.bind(this),propagateOutsideClick:!0,closeOnTargetScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this)};return t}},{key:"_overlayShownActionHandler",value:function(e){this._actions.onShown(e)}},{key:"_overlayHidingActionHandler",value:function(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}},{key:"_overlayHiddenActionHandler",value:function(e){this._actions.onHidden(e)}},{key:"_closeOnOutsideClickHandler",value:function(e){var t=this.option("closeOnOutsideClick");if((0,c.isFunction)(t))return t(e);if(!t)return!1;if(a.default.isDocument(e.target))return!0;var n=this._getActiveItemsContainer(e.target),i=this._getItemsContainers(),s=this._searchActiveItem(e.target),o=this.$element().parents(".".concat(V)),r=s[0]===o[0]&&s.length&&o.length,u=this._isIncludeOverlay(n,i)&&s.length;return!u&&!r||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(s),!1)}},{key:"_getActiveItemsContainer",value:function(e){return(0,s.default)(e).closest(".".concat(j))}},{key:"_getItemsContainers",value:function(){return this._overlay._$content.find(".".concat(j))}},{key:"_searchActiveItem",value:function(e){return(0,s.default)(e).closest(".".concat(V)).eq(0)}},{key:"_isIncludeOverlay",value:function(e,t){var n=!1;return(0,f.each)(t,(function(t,i){e.is(i)&&!n&&(n=!0)})),n}},{key:"_hideAllShownChildSubmenus",value:function(e){var t=this,n=e.find(".".concat(W)),i=(0,p.extend)([],this._shownSubmenus);n.length>0&&(0,f.each)(i,(function(n,i){var s=t._searchActiveItem(i.context).parent();s.parent().is(e.parent().parent())&&!s.is(e.parent())&&t._hideSubmenu(i)}))}},{key:"_showSubmenu",value:function(e){var t=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),this._hasSubmenu(t)){var i=e.children(".".concat(W)),s=i.length;O(T(n.prototype),"_showSubmenu",this).call(this,e),s||this._renderSubmenuItems(t,e),this._isSubmenuVisible(i)||this._drawSubmenu(e)}}},{key:"_hideSubmenusOnSameLevel",value:function(e){var t=e.parent(".".concat($)).siblings().find(".".concat(R));t.length&&(t.removeClass(R),this._hideSubmenu(t.find(".".concat(W))))}},{key:"_hideSubmenuGroup",value:function(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}},{key:"_isSubmenuVisible",value:function(e){return"visible"===e.css("visibility")}},{key:"_drawSubmenu",value:function(e){var t=this.option("animation")?this.option("animation").show:{},n=e.children(".".concat(W)),i=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&((0,c.isDefined)(this._shownSubmenus)||(this._shownSubmenus=[]),(0,_.inArray)(n,this._shownSubmenus)&&this._shownSubmenus.push(n),t&&y.default.stop(n),v.default.setup(n,i),t&&((0,c.isPlainObject)(t.to)&&(t.to.position=i),this._animate(n,t)),n.css("visibility","visible"))}},{key:"_animate",value:function(e,t){y.default.animate(e,t)}},{key:"_getSubmenuPosition",value:function(e){var t=this.option("submenuDirection").toLowerCase(),n=e.parent(".".concat($)),i={collision:"flip",of:n,offset:{h:0,v:-1}};switch(t){case"left":i.at="left top",i.my="right top";break;case"right":i.at="right top",i.my="left top";break;default:this.option("rtlEnabled")?(i.at="left top",i.my="right top"):(i.at="right top",i.my="left top")}return i}},{key:"_updateSubmenuVisibilityOnClick",value:function(e){if(e.args.length){var t=e.args[0].itemData,n=this._dataAdapter.getNodeByItem(t);if(n){var i=(0,s.default)(e.args[0].itemElement),a=i.find(".".concat(W)),o=this._hasSubmenu(n)&&!a.length;if(o&&(this._renderSubmenuItems(n,i),a=i.find(".".concat(W))),i.context!==a.context||"visible"!==a.css("visibility")){var r=t&&!1===t.closeMenuOnClick;if(t&&!t.disabled&&!r)if(this._updateSelectedItemOnClick(e),0===a.length){var u=(0,s.default)(i.parents(".".concat(W))[0]);this._hideSubmenu(u),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(a)&&this._hideSubmenu(a),this._showSubmenu(i)}}}}},{key:"_hideSubmenu",value:function(e){var t=this,n=(0,p.extend)([],this._shownSubmenus);(0,f.each)(n,(function(n,i){(e.is(i)||(0,d.contains)(e[0],i[0]))&&(i.parent().removeClass(R),t._hideSubmenuCore(i))}))}},{key:"_hideSubmenuCore",value:function(e){var t=(0,_.inArray)(e,this._shownSubmenus),n=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden")}},{key:"_stopAnimate",value:function(e){y.default.stop(e,!0)}},{key:"_hideAllShownSubmenus",value:function(){var e=this,t=(0,p.extend)([],this._shownSubmenus),n=this._overlay.$content().find(".".concat(R));n.removeClass(R),(0,f.each)(t,(function(t,n){e._hideSubmenu(n)}))}},{key:"_visibilityChanged",value:function(e){e&&this._renderContentImpl()}},{key:"_optionChanged",value:function(e){if((0,_.inArray)(e.name,te)>-1)this._initActions();else switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":break;default:O(T(n.prototype),"_optionChanged",this).call(this,e)}}},{key:"_renderVisibility",value:function(e){return e?this._show():this._hide()}},{key:"_toggleVisibility",value:function(){}},{key:"_show",value:function(e){var t={jQEvent:e},n=(new k.Deferred).reject().promise();if(this._actions.onShowing(t),t.cancel)return n;var i=this._positionContextMenu(e);return i&&(this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())),this._setOptionWithoutOptionChange("visible",!0),this._overlay.option("position",i),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes()),n}},{key:"_setAriaAttributes",value:function(){this._overlayContentId="dx-".concat(new r.default),this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}},{key:"_cleanAriaAttributes",value:function(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}},{key:"_getTarget",value:function(){return this.option("target")||this.option("position").of||(0,s.default)(a.default.getDocument())}},{key:"_getContextMenuPosition",value:function(){return(0,p.extend)({},this.option("position"),{of:this._getTarget()})}},{key:"_positionContextMenu",value:function(e){var t=this._getContextMenuPosition(),n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning",s);e&&e.preventDefault&&n&&(t.of=e);var s={position:t,event:e};return i(s),s.cancel?t=null:s.event&&(s.event.cancel=!0,e.preventDefault()),t}},{key:"_refresh",value:function(){if((0,m.hasWindow)())if(this._overlay){var e=this._overlay.option("position");O(T(n.prototype),"_refresh",this).call(this),this._overlay&&this._overlay.option("position",e)}else O(T(n.prototype),"_refresh",this).call(this);else O(T(n.prototype),"_refresh",this).call(this)}},{key:"_hide",value:function(){var e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||(new k.Deferred).reject().promise()}},{key:"toggle",value:function(e){var t=this.option("visible");return e=void 0===e?!t:e,this._renderVisibility(e)}},{key:"show",value:function(){return this.toggle(!0)}},{key:"hide",value:function(){return this.toggle(!1)}}]),n}(C.default);(0,u.default)("dxContextMenu",se);var ae=se;t.default=ae,e.exports=t.default},"3c03":function(e,t,n){"use strict";t.default=void 0;var i=o(n("7072")),s=n("d4b2"),a=o(n("070e"));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default.inherit({NAME:"actionSheet",_getMenuItemTemplate:function(){return this._toolbar._getTemplate("actionSheetItem")},render:function(){this._hasVisibleMenuItems()&&this.callBase()},_menuWidgetClass:function(){return a.default},_menuContainer:function(){return this._toolbar.$element()},_widgetOptions:function(){return(0,s.extend)({},this.callBase(),{target:this._$button,showTitle:!1})},_menuButtonOptions:function(){return(0,s.extend)({},this.callBase(),{icon:"overflow"})},_toggleMenu:function(){this.callBase.apply(this,arguments),this._menu.toggle(this._menuShown),this._menuShown=!1}}),u=r;t.default=u,e.exports=t.default},"52eb":function(e,t,n){"use strict";t.default=void 0;var i=r(n("14a3")),s=r(n("0fa5")),a=n("ce5d"),o=n("5c394");function r(e){return e&&e.__esModule?e:{default:e}}var u="dx-toolbar-menu-action",l="dx-toolbar-hidden-button",c="dx-toolbar-hidden-button-group",d="dx-toolbar-menu-section",h="dx-toolbar-menu-last-section",f=o.ListBase.inherit({_activeStateUnit:"."+u,_initMarkup:function(){this._renderSections(),this.callBase()},_getSections:function(){return this._itemContainer().children()},_itemElements:function(){return this._getSections().children(this._itemSelector())},_renderSections:function(){var e=this,t=this._itemContainer();(0,a.each)(["before","center","after","menu"],(function(){var n="_$"+this+"Section",s=e[n];s||(e[n]=s=(0,i.default)("<div>").addClass(d)),s.appendTo(t)}))},_renderItems:function(){this.callBase.apply(this,arguments),this._updateSections()},_updateSections:function(){var e=this.$element().find("."+d);e.removeClass(h),e.not(":empty").eq(-1).addClass(h)},_renderItem:function(e,t,n,i){var s=t.location||"menu",a=this["_$"+s+"Section"],o=this.callBase(e,t,a,i);return this._getItemTemplateName({itemData:t})&&o.addClass("dx-toolbar-menu-custom"),("menu"===s||"dxButton"===t.widget||t.isAction)&&o.addClass(u),"dxButton"===t.widget&&o.addClass(l),"dxButtonGroup"===t.widget&&o.addClass(c),o.addClass(t.cssClass),o},_getItemTemplateName:function(e){var t=this.callBase(e),n=e.itemData,i=n&&n.menuItemTemplate;return i||t},_itemClickHandler:function(e,t,n){(0,i.default)(e.target).closest("."+u).length&&this.callBase(e,t,n)},_clean:function(){this._getSections().empty(),this.callBase()}});(0,s.default)("dxToolbarMenu",f);var _=f;t.default=_,e.exports=t.default},"5a6c":function(e,t,n){"use strict";t.default=void 0;var i=_(n("14a3")),s=n("cb15"),a=n("d4b2"),o=n("ce5d"),r=_(n("2dd1")),u=n("0814"),l=_(n("a373")),c=_(n("df00")),d=n("6f5b"),h=n("b62d"),f=n("2809");function _(e){return e&&e.__esModule?e:{default:e}}var p="dx-state-disabled",m=c.default.inherit({_getDefaultOptions:function(){return(0,a.extend)(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===r.default.real().deviceType&&!r.default.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataSource:function(){this.callBase(),this._dataSource&&this._dataSource.paginate(!1)},_initDataAdapter:function(){var e=this._createDataAdapterAccessors();this._dataAdapter=new l.default((0,a.extend)({dataAccessors:{getters:e.getters,setters:e.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:f.noop,_initDynamicTemplates:function(){var e=this;this._templateManager.addDefaultTemplates({item:new d.BindableTemplate(function(t,n){t.html(n.html).append(this._getIconContainer(n)).append(this._getTextContainer(n)).append(this._getPopoutContainer(n)),e._addContentClasses(n,t.parent())}.bind(this),["text","html","items","icon"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})},_getIconContainer:function(e){return e.icon?(0,u.getImageContainer)(e.icon):void 0},_getTextContainer:function(e){return(0,i.default)("<span>").text(e.text)},_getPopoutContainer:f.noop,_addContentClasses:f.noop,_initAccessors:function(){var e=this;(0,o.each)(this._getAccessors(),(function(t,n){e._compileAccessor(n)})),this._compileDisplayGetter()},_getAccessors:function(){return["key","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(e){var t=this,n=[];return(0,o.each)(e.internalFields.childrenKeys,(function(e,i){var s=t._dataAdapter.getNodeByKey(i);n.push(s)})),n},_hasChildren:function(e){return e&&e.internalFields.childrenKeys.length},_compileAccessor:function(e){var t="_"+e+"Getter",n="_"+e+"Setter",i=this.option(e+"Expr");return i?(0,h.isFunction)(i)?(this[n]=function(e,t){e[i()]=t},void(this[t]=function(e){return e[i()]})):(this[t]=(0,s.compileGetter)(i),void(this[n]=(0,s.compileSetter)(i))):(this[t]=f.noop,void(this[n]=f.noop))},_createDataAdapterAccessors:function(){var e=this,t={getters:{},setters:{}};return(0,o.each)(this._getAccessors(),(function(n,i){var s="_"+i+"Getter",a="_"+i+"Setter",o="parentId"===i?"parentKey":i;t.getters[o]=e[s],t.setters[o]=e[a]})),t.getters.display=this._displayGetter?this._displayGetter:function(e){return e.text},t},_initMarkup:function(){this.callBase(),this._addWidgetClass()},_addWidgetClass:function(){this._focusTarget().addClass(this._widgetClass())},_widgetClass:f.noop,_renderItemFrame:function(e,t){var n=this.callBase.apply(this,arguments);return n.toggleClass(p,!!this._disabledGetter(t)),n},_optionChanged:function(e){switch(e.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(e);break;default:this.callBase(e)}}}),y=m;t.default=y,e.exports=t.default},"61e9":function(e,t,n){"use strict";t.default=void 0;var i=o(n("14a3")),s=n("ce5d"),a=o(n("5217"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){var t=m();return function(){var n,i=y(e);if(t){var s=y(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var v=function(e){d(n,e);var t=f(n);function n(){return u(this,n),t.apply(this,arguments)}return c(n,[{key:"_getPlainItems",value:function(){return(0,s.map)(this._collectionWidget.option("items"),(function e(t){return t.items?[t].concat((0,s.map)(t.items,e)):t}))}},{key:"_stringifyItem",value:function(e){var t=this;return JSON.stringify(e,(function(e,n){return"template"===e?t._getTemplateString(n):n}))}},{key:"_getTemplateString",value:function(e){var t;return t="object"===r(e)?(0,i.default)(e).text():e.toString(),t}}]),n}(a.default),g=v;t.default=g,e.exports=t.default},7072:function(e,t,n){"use strict";t.default=void 0;var i=l(n("14a3")),s=n("2809"),a=n("ce5d"),o=n("cb15"),r=l(n("e6aa")),u=l(n("5cf5"));function l(e){return e&&e.__esModule?e:{default:e}}var c=r.default.abstract,d="dx-toolbar-menu-container",h="dx-toolbar-menu-button",f=r.default.inherit({ctor:function(e){this._toolbar=e},render:function(){this._renderMenuButton(),this._renderWidget()},_widgetOptions:function(){var e=this._toolbar._createActionByOption("onItemClick");return{itemTemplate:this._getMenuItemTemplate.bind(this),onItemClick:function(t){this._toggleMenu(!1,!0),e(t)}.bind(this)}},_getMenuItemTemplate:function(){return this._toolbar._getTemplateByOption("menuItemTemplate")},_renderWidget:function(){var e=(0,i.default)("<div>").appendTo(this._menuContainer());this._menu=this._toolbar._createComponent(e,this._menuWidgetClass(),this._widgetOptions()),this.renderMenuItems()},_menuContainer:c,_menuWidgetClass:c,_hasVisibleMenuItems:function(e){var t=e||this._toolbar.option("items"),n=!1,i=(0,o.compileGetter)("visible"),s=(0,o.compileGetter)("locateInMenu");return(0,a.each)(t,(function(e,t){var a=i(t,{functionsAsIs:!0}),o=s(t,{functionsAsIs:!0});(!1===a||"auto"!==o&&"always"!==o)&&"menu"!==t.location||(n=!0)})),n},_getMenuItems:function(){return this._toolbar._getMenuItems()},_updateMenuVisibility:s.noop,_renderMenuButton:function(){var e=this._menuButtonOptions();this._renderMenuButtonContainer(),this._$button=(0,i.default)("<div>").appendTo(this._$menuButtonContainer).addClass(h),this._toolbar._createComponent(this._$button,u.default,e)},_menuButtonOptions:function(){return{onClick:this._menuButtonClickHandler.bind(this)}},_menuButtonClickHandler:function(){this._toggleMenu(!this._menuShown,!0)},_renderMenuButtonContainer:function(){var e=this._toolbar._$afterSection;this._$menuButtonContainer=(0,i.default)("<div>").appendTo(e).addClass(this._toolbar._buttonClass()).addClass(d)},renderMenuItems:function(){this._menu&&this._menu.option("items",this._getMenuItems())},toggleMenuVisibility:function(e,t){this._menu&&this._toggleMenu(e,t)},_toggleMenu:function(e){this._menuShown=e},getMenuWidget:function(){return this._menu},widgetOption:function(e,t){this._menu&&this._menu.option(e,t)},handleToolbarVisibilityChange:s.noop}),_=f;t.default=_,e.exports=t.default},8634:function(e,t,n){"use strict";t.default=void 0;var i=n("d4b2"),s=r(n("7072")),a=r(n("52eb")),o=r(n("372f"));function r(e){return e&&e.__esModule?e:{default:e}}var u="dx-state-invisible",l=s.default.inherit({NAME:"dropDownMenu",render:function(){this._hasVisibleMenuItems()&&(this._renderMenuButtonContainer(),this._renderWidget())},renderMenuItems:function(){this._menu||this.render(),this.callBase(),this._menu&&!this._menu.option("items").length&&this._menu.close()},_menuWidgetClass:function(){return o.default},_widgetOptions:function(){var e=this;return(0,i.extend)(this.callBase(),{deferRendering:!0,container:e._toolbar.option("menuContainer"),menuWidget:a.default,onOptionChanged:function(t){"items"===t.name&&e._updateMenuVisibility(t.value)},popupPosition:{at:"bottom right",my:"top right"}})},_updateMenuVisibility:function(e){var t=e||this._getMenuItems(),n=t.length&&this._hasVisibleMenuItems(t);this._toggleMenuVisibility(n)},_toggleMenuVisibility:function(e){this._menuContainer()&&this._menuContainer().toggleClass(u,!e)},_menuContainer:function(){return this._$menuButtonContainer}}),c=l;t.default=c,e.exports=t.default},8937:function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var s=_(n("14a3")),a=n("2809"),o=n("b62d"),r=n("ce5d"),u=n("d4b2"),l=n("c94a"),c=_(n("5a6c")),d=_(n("61e9")),h=_(n("2dd1")),f=_(n("f108"));function _(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t,n){return v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=g(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(n):s.value}},v(e,t,n||e)}function g(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=w(e),null===e)break;return e}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function C(e){var t=x();return function(){var n,i=w(e);if(t){var s=w(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var A="dx-menu",O=A+"-no-icons",B="dx-menu-base",M=A+"-item",D=M+"-content",E=M+"-selected",K=M+"-wrapper",F=A+"-items-container",N=M+"-expanded",T=A+"-separator",P=A+"-last-group-item",V=M+"-has-text",R=M+"-has-icon",H=M+"-has-submenu",j=M+"-popout",$=j+"-container",W=M+"-text",L="single",G={show:50,hide:300},q=function(e){b(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return y(n,[{key:"_getDefaultOptions",value:function(){return(0,u.extend)(v(w(n.prototype),"_getDefaultOptions",this).call(this),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}},{key:"_itemDataKey",value:function(){return"dxMenuItemDataKey"}},{key:"_itemClass",value:function(){return M}},{key:"_setAriaSelected",value:function(){}},{key:"_selectedItemClass",value:function(){return E}},{key:"_widgetClass",value:function(){return B}},{key:"_focusTarget",value:function(){return this._itemContainer()}},{key:"_clean",value:function(){this.option("focusedElement",null),v(w(n.prototype),"_clean",this).call(this)}},{key:"_supportedKeys",value:function(){var e=this,t=function(){var t=(0,s.default)(e.option("focusedElement"));t.length&&e._isSelectionEnabled()&&e.selectItem(t[0])};return(0,u.extend)(v(w(n.prototype),"_supportedKeys",this).call(this),{space:t,pageUp:a.noop,pageDown:a.noop})}},{key:"_isSelectionEnabled",value:function(){return this.option("selectionMode")===L}},{key:"_init",value:function(){this._activeStateUnit=".".concat(M),v(w(n.prototype),"_init",this).call(this),this._renderSelectedItem(),this._initActions()}},{key:"_getTextContainer",value:function(e){var t=e.text,n=(0,s.default)("<span>").addClass(W),i=(0,o.isPlainObject)(e)?t:String(e);return t&&n.text(i)}},{key:"_getPopoutContainer",value:function(e){var t,n=e.items;if(n&&n.length){var i=(0,s.default)("<div>").addClass(j);t=(0,s.default)("<span>").addClass($).append(i)}return t}},{key:"_getDataAdapterOptions",value:function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}},{key:"_selectByItem",value:function(e){if(e){var t=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}}},{key:"_renderSelectedItem",value:function(){var e=this._dataAdapter.getSelectedNodesKeys(),t=e.length&&e[0],n=this.option("selectedItem");if(t){var i=this._dataAdapter.getNodeByKey(t);!1!==i.selectable&&(n?n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(t,!1),this._selectByItem(n)):this.option("selectedItem",i.internalFields.item))}else this._selectByItem(n)}},{key:"_initActions",value:function(){}},{key:"_initMarkup",value:function(){v(w(n.prototype),"_initMarkup",this).call(this),this._addCustomCssClass(this.$element()),this.option("useInkRipple")&&this._renderInkRipple()}},{key:"_renderInkRipple",value:function(){this._inkRipple=(0,l.render)()}},{key:"_toggleActiveState",value:function(e,t,i){if(v(w(n.prototype),"_toggleActiveState",this).apply(this,arguments),this._inkRipple){var s={element:e,event:i};t?this._inkRipple.showWave(s):this._inkRipple.hideWave(s)}}},{key:"_getShowSubmenuMode",value:function(){var e="onClick",t=this.option("showSubmenuMode");return t=(0,o.isObject)(t)?t.name:t,this._isDesktopDevice()?t:e}},{key:"_initSelectedItems",value:function(){}},{key:"_isDesktopDevice",value:function(){return"desktop"===h.default.real().deviceType}},{key:"_initEditStrategy",value:function(){var e=d.default;this._editStrategy=new e(this)}},{key:"_addCustomCssClass",value:function(e){e.addClass(this.option("cssClass"))}},{key:"_itemWrapperSelector",value:function(){return".".concat(K)}},{key:"_hoverStartHandler",value:function(e){var t=this._getItemElementByEventArgs(e);t&&!this._isItemDisabled(t)&&(e.stopPropagation(),"onHover"===this._getShowSubmenuMode()&&(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,t),this._getSubmenuDelay("show"))))}},{key:"_getAvailableItems",value:function(e){return v(w(n.prototype),"_getAvailableItems",this).call(this,e).filter((function(){return"hidden"!==(0,s.default)(this).css("visibility")}))}},{key:"_isItemDisabled",value:function(e){return this._disabledGetter(e.data(this._itemDataKey()))}},{key:"_showSubmenu",value:function(e){this._addExpandedClass(e)}},{key:"_addExpandedClass",value:function(e){(0,s.default)(e).addClass(N)}},{key:"_getSubmenuDelay",value:function(e){var t=this.option("showSubmenuMode"),n=t.delay;return(0,o.isDefined)(n)?(0,o.isObject)(n)?n[e]:n:G[e]}},{key:"_getItemElementByEventArgs",value:function(e){var t=(0,s.default)(e.target);if(t.hasClass(this._itemClass())||t.get(0)===e.currentTarget)return t;while(!t.hasClass(this._itemClass()))if(t=t.parent(),t.hasClass("dx-submenu"))return null;return t}},{key:"_hoverEndHandler",value:function(){clearTimeout(this._showSubmenusTimeout)}},{key:"_hasSubmenu",value:function(e){return e&&e.internalFields.childrenKeys.length}},{key:"_renderContentImpl",value:function(){this._renderItems(this._dataAdapter.getRootNodes())}},{key:"_renderItems",value:function(e,t){var n=this;if(e.length){this.hasIcons=!1;var i=this._renderContainer(this.$element(),t),s=-1,a=-1;(0,r.each)(e,(function(e,t){var o=!1!==t.visible;o&&s<0&&(s=e);var r=s<e&&(t.beginGroup||e===a);r&&(a=o?e:e+1),e===a&&s<e&&n._renderSeparator(i),n._renderItem(e,t,i)})),this.hasIcons||i.addClass(O)}}},{key:"_renderContainer",value:function(e){var t=(0,s.default)("<ul>");return this.setAria("role","none",t),t.appendTo(e).addClass(F)}},{key:"_createDOMElement",value:function(e){var t=(0,s.default)("<li>");return this.setAria("role","none",t),t.appendTo(e).addClass(K)}},{key:"_renderItem",value:function(e,t,i,s){var a=this.option("items"),o=s||this._createDOMElement(i);a[e+1]&&a[e+1].beginGroup&&o.addClass(P);var r=v(w(n.prototype),"_renderItem",this).call(this,e,t.internalFields.item,o);t.internalFields.item===this.option("selectedItem")&&r.addClass(E),r.attr("tabIndex",-1),this._hasSubmenu(t)&&this.setAria("haspopup","true",r)}},{key:"_renderItemFrame",value:function(e,t,i){var s=i.children(".".concat(M));return s.length?s:v(w(n.prototype),"_renderItemFrame",this).apply(this,arguments)}},{key:"_refreshItem",value:function(e,t){var n=this._dataAdapter.getNodeByItem(t),i=e.data(this._itemIndexKey()),s=e.closest("ul"),a=e.closest("li");this._renderItem(i,n,s,a)}},{key:"_addContentClasses",value:function(e,t){var n=!!e.text&&!!e.text.length,i=!!e.icon,s=!!e.items&&!!e.items.length;t.toggleClass(V,n),t.toggleClass(R,i),this.hasIcons||(this.hasIcons=i),t.toggleClass(H,s)}},{key:"_getItemContent",value:function(e){var t=v(w(n.prototype),"_getItemContent",this).call(this,e);return t.length||(t=e.children(".".concat(D))),t}},{key:"_postprocessRenderItem",value:function(e){var t=(0,s.default)(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();if(n.length&&this._selectedGetter(e.itemData)&&this._isItemSelectable(e.itemData)){var i=this._dataAdapter.getNodeByItem(e.itemData);i.internalFields.key===n[0]?(t.addClass(this._selectedItemClass()),this._setAriaSelected(t,"true")):this._setAriaSelected(t,"false")}else this._setAriaSelected(t,"false")}},{key:"_isItemSelectable",value:function(e){return!1!==e.selectable}},{key:"_renderSeparator",value:function(e){(0,s.default)("<li>").appendTo(e).addClass(T)}},{key:"_itemClickHandler",value:function(e){if(!e._skipHandling){var t=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{afterExecute:t.bind(this)}),e._skipHandling=!0}}},{key:"_updateSubmenuVisibilityOnClick",value:function(e){this._updateSelectedItemOnClick(e),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(e.args[0].itemElement)}},{key:"_updateSelectedItemOnClick",value:function(e){var t=e.args?e.args[0]:e;if(this._isItemSelectionAllowed(t.itemData)){var n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),i&&i.internalFields.item===t.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(t.itemData)}}},{key:"_isItemSelectionAllowed",value:function(e){var t=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&t&&this._isItemSelectable(e)&&!this._itemsGetter(e)}},{key:"_isContainerEmpty",value:function(){return this._itemContainer().is(":empty")}},{key:"_syncSelectionOptions",value:function(){return(0,a.asyncNoop)()}},{key:"_optionChanged",value:function(e){switch(e.name){case"showSubmenuMode":break;case"selectedItem":var t=this._dataAdapter.getNodeByItem(e.value),i=this._dataAdapter.getSelectedNodesKeys()[0];if(t&&t.internalFields.key!==i){if(!1===t.selectable)break;i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(t,!0),this._updateSelectedItems()}break;case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:v(w(n.prototype),"_optionChanged",this).call(this,e)}}},{key:"_toggleItemSelection",value:function(e,t){var n=this._getElementByItem(e.internalFields.item);n&&(0,s.default)(n).toggleClass(E),this._dataAdapter.toggleSelection(e.internalFields.key,t)}},{key:"_getElementByItem",value:function(e){var t,n=this;return(0,r.each)(this._itemElements(),(function(i,a){return(0,s.default)(a).data(n._itemDataKey())!==e||(t=a,!1)})),t}},{key:"_updateSelectedItems",value:function(e,t){(e||t)&&this._fireSelectionChangeEvent(t,e)}},{key:"_fireSelectionChangeEvent",value:function(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})}},{key:"selectItem",value:function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),s=this._dataAdapter.getNodeByItem(t);s.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(s,!0),this._updateSelectedItems(i,t),this._setOptionWithoutOptionChange("selectedItem",t))}},{key:"unselectItem",value:function(e){var t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))}}]),n}(c.default);q.ItemClass=f.default;var U=q;t.default=U,e.exports=t.default},a19f:function(e,t,n){"use strict";t.default=void 0;var i=u(n("e6aa")),s=n("d4b2"),a=u(n("0fc0")),o=n("ce5d"),r=n("b62d");function u(e){return e&&e.__esModule?e:{default:e}}var l=i.default.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(e,t){var n=this;(0,o.each)(e,(function(e,i){var s=(0,r.isDefined)(t)?t:n._getParentId(i),a=n._convertItemToNode(i,s);n._dataStructure.push(a),n._checkForDuplicateId(a.internalFields.key),n._indexByKey[a.internalFields.key]=n._dataStructure.length-1,n._itemHasChildren(i)&&n._convertItemsToNodes(n._dataAccessors.getters.items(i),a.internalFields.key)}))},_checkForDuplicateId:function(e){if((0,r.isDefined)(this._indexByKey[e]))throw a.default.Error("E1040",e)},_getParentId:function(e){return"plain"===this._dataType?this._dataAccessors.getters.parentKey(e):void 0},_itemHasChildren:function(e){if("plain"!==this._dataType){var t=this._dataAccessors.getters.items(e);return t&&t.length}},_getUniqueKey:function(e){var t=this._dataAccessors.getters.key,n=t(e),i=t&&(n||0===n)&&(0,r.isPrimitive)(n);return i?n:this.getItemsCount()},_convertItemToNode:function(e,t){this._itemsCount++,!1!==e.visible&&this._visibleItemsCount++;var n=this,i={internalFields:{disabled:n._dataAccessors.getters.disabled(e,{defaultValue:!1}),expanded:n._dataAccessors.getters.expanded(e,{defaultValue:!1}),selected:n._dataAccessors.getters.selected(e,{defaultValue:!1}),key:n._getUniqueKey(e),parentKey:(0,r.isDefined)(t)?t:n._rootValue,item:n._makeObjectFromPrimitive(e),childrenKeys:[]}};return(0,s.extend)(i,e),delete i.items,i},setChildrenKeys:function(){var e=this;(0,o.each)(this._dataStructure,(function(t,n){if(n.internalFields.parentKey!==e._rootValue){var i=e.getParentNode(n);i&&i.internalFields.childrenKeys.push(n.internalFields.key)}}))},_makeObjectFromPrimitive:function(e){if((0,r.isPrimitive)(e)){var t=e;e={},this._dataAccessors.setters.key(e,t)}return e},_convertToPublicNode:function(e,t){if(!e)return null;var n={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:t||null,itemData:e.internalFields.item,children:[],items:[]};return n.parent&&(n.parent.children.push(n),n.parent.items.push(n)),n},convertToPublicNodes:function(e,t){if(!e.length)return[];var n=this,i=[];return(0,o.each)(e,(function(e,s){s=(0,r.isPrimitive)(s)?n._getByKey(s):s;var a=n._convertToPublicNode(s,t);a.children=n.convertToPublicNodes(s.internalFields.childrenKeys,a),i.push(a),s.internalFields.publicNode=a})),i},setDataAccessors:function(e){this._dataAccessors=e},_getByKey:function(e){return this._dataStructure[this.getIndexByKey(e)]||null},getParentNode:function(e){return this._getByKey(e.internalFields.parentKey)},getByKey:function(e,t){if(null===t||void 0===t)return null;var n=null,i=this,s=function(e,t){return(0,o.each)(e,(function(e,s){var a=s.internalFields&&s.internalFields.key||i._dataAccessors.getters.key(s);if(a.toString()===t.toString())return n=s,!1})),n};return s(e,t)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},updateIndexByKey:function(){var e=this;this._indexByKey={},(0,o.each)(this._dataStructure,(function(t,n){e._checkForDuplicateId(n.internalFields.key),e._indexByKey[n.internalFields.key]=t}))},updateChildrenKeys:function(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys:function(){this._indexByKey={},(0,o.each)(this._dataStructure,(function(e,t){t.internalFields.childrenKeys=[]}))},getIndexByKey:function(e){return this._indexByKey[e]},createPlainStructure:function(e,t,n){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=n,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}}),c=l;t.default=c,e.exports=t.default},a373:function(e,t,n){"use strict";t.default=void 0;var i=_(n("e6aa")),s=n("2809"),a=n("ce5d"),o=n("b62d"),r=n("d4b2"),u=_(n("0fc0")),l=_(n("c2a0")),c=n("5e98"),d=_(n("43bb")),h=_(n("2041")),f=_(n("a19f"));function _(e){return e&&e.__esModule?e:{default:e}}var p="expanded",m="selected",y="disabled",v=i.default.inherit({ctor:function(e){this.options={},(0,r.extend)(this.options,this._defaultOptions(),e),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption:function(e,t){this.options[e]=t,"recursiveSelection"===e&&this._updateSelection()},_defaultOptions:function(){return{dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new f.default,onNodeChanged:s.noop,sort:null}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(m)},_updateExpansion:function(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(p)},_updateNodesKeysArray:function(e){var t=this,n=[];return(0,a.each)(t._getDataBySelectionMode(),(function(i,s){t._isNodeVisible(s)&&s.internalFields[e]&&(e===p||t.options.multipleSelection?n.push(s.internalFields.key):(n.length&&t.toggleSelection(n[0],!1,!0),n=[s.internalFields.key]))})),n},_getDataBySelectionMode:function(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:function(e){return!1!==e.internalFields.item.visible},_getByKey:function(e,t){return e===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(e,t)},_setChildrenSelection:function(){var e=this;(0,a.each)(this._dataStructure,(function(t,n){if(n.internalFields.childrenKeys.length){var i=n.internalFields.selected;!0===i&&e._toggleChildrenSelection(n,i)}}))},_setParentSelection:function(){var e=this;(0,a.each)(this._dataStructure,(function(t,n){var i=e.options.dataConverter.getParentNode(n);i&&n.internalFields.parentKey!==e.options.rootValue&&e._iterateParents(n,(function(t){var n=e._calculateSelectedState(t);e._setFieldState(t,m,n)}))}))},_setParentExpansion:function(){var e=this;(0,a.each)(this._dataStructure,(function(t,n){n.internalFields.expanded&&e._updateOneBranch(n.internalFields.key)}))},_updateOneBranch:function(e){var t=this,n=this.getNodeByKey(e);t._iterateParents(n,(function(e){t._setFieldState(e,p,!0)}))},_iterateChildren:function(e,t,n,i){if((0,o.isFunction)(n)){var s=this,r=e.internalFields.key;i=i||[],-1===i.indexOf(r)&&(i.push(r),(0,a.each)(e.internalFields.childrenKeys,(function(e,a){var o=s.getNodeByKey(a);n(o),o.internalFields.childrenKeys.length&&t&&s._iterateChildren(o,t,n,i)})))}},_iterateParents:function(e,t,n){if(e.internalFields.parentKey!==this.options.rootValue&&(0,o.isFunction)(t)){n=n||[];var i=e.internalFields.key;if(-1===n.indexOf(i)){n.push(i);var s=this.options.dataConverter.getParentNode(e);s&&(t(s),s.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(s,t,n))}}},_calculateSelectedState:function(e){for(var t=e.internalFields.childrenKeys.length,n=0,i=0,s=!1,a=0;a<=t-1;a++){var o=this.getNodeByKey(e.internalFields.childrenKeys[a]),r=!1===o.internalFields.item.visible,u=o.internalFields.selected;r?i++:u?n++:void 0===u&&(n+=.5)}return n&&(s=n===t-i||void 0),s},_toggleChildrenSelection:function(e,t){var n=this;this._iterateChildren(e,!0,(function(e){n._isNodeVisible(e)&&n._setFieldState(e,m,t)}))},_setFieldState:function(e,t,n){e.internalFields[t]!==n&&(e.internalFields[t]=n,e.internalFields.publicNode&&(e.internalFields.publicNode[t]=n),this.options.dataAccessors.setters[t](e.internalFields.item,n),this.options.onNodeChanged(e))},_markChildren:function(e){var t=this;(0,a.each)(e,(function(e,n){var i=t.getIndexByKey(n),s=t.getNodeByKey(n);t._dataStructure[i]=0,s.internalFields.childrenKeys.length&&t._markChildren(s.internalFields.childrenKeys)}))},_removeNode:function(e){var t=this.getNodeByKey(e);this._dataStructure[this.getIndexByKey(e)]=0,this._markChildren(t.internalFields.childrenKeys);var n=this,i=0,s=(0,r.extend)([],this._dataStructure);(0,a.each)(s,(function(e,t){t||(n._dataStructure.splice(e-i,1),i++)}))},_addNode:function(e){var t=this.options.dataConverter,n=t._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(n),this._initialDataStructure=this._initialDataStructure.concat(n),t._dataStructure=t._dataStructure.concat(n)},_updateFields:function(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getFullData:function(){return this._initialDataStructure},getNodeByItem:function(e){var t=null;return(0,a.each)(this._dataStructure,(function(n,i){if(i.internalFields.item===e)return t=i,!1})),t},getNodesByItems:function(e){var t=this,n=[];return(0,a.each)(e,(function(e,i){var s=t.getNodeByItem(i);s&&n.push(s)})),n},getNodeByKey:function(e,t){return this._getByKey(t||this._getDataBySelectionMode(),e)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(e){return e.internalFields.publicNode},getRootNodes:function(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes:function(e){return(0,d.default)(this._dataStructure).filter(["internalFields.parentKey",e]).toArray()},getIndexByKey:function(e){return this.options.dataConverter.getIndexByKey(e)},addItem:function(e){this._addNode(e),this._updateFields()},removeItem:function(e){this._removeNode(e),this._updateFields()},toggleSelection:function(e,t,n){var i=this._isSingleModeUnselect(t),s=this._getByKey(n||i?this._initialDataStructure:this._dataStructure,e);this._setFieldState(s,m,t),this.options.recursiveSelection&&!n&&(t?this._setChildrenSelection():this._toggleChildrenSelection(s,t),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(m)},_isSingleModeUnselect:function(e){return!this.options.multipleSelection&&!e},toggleNodeDisabledState:function(e,t){var n=this.getNodeByKey(e);this._setFieldState(n,y,t)},toggleSelectAll:function(e){if((0,o.isDefined)(e)){var t=this,n=t._selectedNodesKeys[t._selectedNodesKeys.length-1],i=t._isSingleModeUnselect(e)?this._initialDataStructure:this._dataStructure;(0,a.each)(i,(function(n,i){t._isNodeVisible(i)&&t._setFieldState(i,m,e)})),t._selectedNodesKeys=t._updateNodesKeysArray(m),!e&&t.options.selectionRequired&&t.toggleSelection(n,!0)}},isAllSelected:function(){return!!this.getSelectedNodesKeys().length&&(this.getSelectedNodesKeys().length===this.getVisibleItemsCount()||void 0)},toggleExpansion:function(e,t){var n=this.getNodeByKey(e);this._setFieldState(n,p,t),t&&this._updateExpansion(e),this._expandedNodesKeys=this._updateNodesKeysArray(p)},isFiltered:function(e){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[e]).length},_createCriteria:function(e,t,n){var i=[];return Array.isArray(e)?((0,a.each)(e,(function(e,s){i.push([s,n,t],"or")})),i.pop(),i):[e,n,t]},_filterDataStructure:function(e,t){var n=this.options.searchExpr||this.options.dataAccessors.getters.display,i=l.default.getOperationBySearchMode(this.options.searchMode),s=this._createCriteria(n,e,i);return t=t||this._initialDataStructure,(0,d.default)(t).filter(s).toArray()},search:function(e){var t=this,n=this._filterDataStructure(e),i=this.options.dataConverter;function s(e,n){var a=e.length;while(n<a){var o=e[n];if(o.internalFields.parentKey!==t.options.rootValue){var r=i.getParentNode(o);r?(r.internalFields.expanded||t._setFieldState(r,p,!0),(0,c.inArray)(r,e)>-1?n++:(e.splice(n,0,r),s(e,n))):(u.default.log("W1007",o.internalFields.parentKey,o.internalFields.key),n++)}else n++}}return s(n,0),this.options.sort&&(n=h.default.queryByOptions((0,d.default)(n),{sort:this.options.sort}).toArray()),i._indexByKey={},(0,a.each)(n,(function(e,t){t.internalFields.childrenKeys=[],i._indexByKey[t.internalFields.key]=e})),i._dataStructure=n,i.setChildrenKeys(),i._dataStructure}}),g=v;t.default=g,e.exports=t.default},a522:function(e,t,n){"use strict";t.default=void 0;var i=f(n("14a3")),s=f(n("0fa5")),a=n("2809"),o=n("d4b2"),r=n("5e98"),u=n("ce5d"),l=f(n("3c03")),c=f(n("8634")),d=f(n("0100")),h=n("9410");function f(e){return e&&e.__esModule?e:{default:e}}var _={actionSheet:l.default,dropDownMenu:c.default},p="dx-toolbar-item-auto-hide",m="dx-toolbar-text-auto-hide",y="dx-toolbar-item-invisible",v=d.default.inherit({_getDefaultOptions:function(){return(0,o.extend)(this.callBase(),{menuItemTemplate:"menuItem",submenuType:"dropDownMenu",menuContainer:void 0})},_dimensionChanged:function(e){"height"!==e&&(this._menuStrategy.toggleMenuVisibility(!1,!0),this.callBase(),this._menuStrategy.renderMenuItems())},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({actionSheetItem:new h.ChildDefaultTemplate("item")})},_initMarkup:function(){this.callBase(),this._renderMenu()},_postProcessRenderItems:function(){var e=this;this._hideOverflowItems(),this._menuStrategy._updateMenuVisibility(),this.callBase(),(0,a.deferRender)((function(){e._menuStrategy.renderMenuItems()}))},_renderItem:function(e,t,n,i){var s=this.callBase(e,t,n,i);return"auto"===t.locateInMenu&&s.addClass(p),"dxButton"===t.widget&&"inMenu"===t.showText&&s.toggleClass(m),s},_getItemsWidth:function(){return this._getSummaryItemsWidth([this._$beforeSection,this._$centerSection,this._$afterSection])},_hideOverflowItems:function(e){var t=this.$element().find("."+p);if(t.length){e=e||this.$element().width(),(0,i.default)(t).removeClass(y);var n=this._getItemsWidth();while(t.length&&e<n){var s=t.eq(-1);n-=s.outerWidth(),s.addClass(y),t.splice(-1,1)}}},_getMenuItems:function(){var e=this,t=(0,a.grep)(this.option("items")||[],(function(t){return e._isMenuItem(t)})),n=this._itemContainer().children("."+p+"."+y).not(".dx-state-invisible");this._restoreItems=this._restoreItems||[];var s=[].slice.call(n).map((function(t){var n=e._getItemData(t),s=(0,i.default)(t).children(),a=s.children();return(0,o.extend)({menuItemTemplate:function(){e._restoreItems.push({container:s,item:a});var t=(0,i.default)("<div>").addClass(p);return t.append(a)}},n)}));return(0,r.merge)(s,t)},_getToolbarItems:function(){var e=this;return(0,a.grep)(this.option("items")||[],(function(t){return!e._isMenuItem(t)}))},_renderMenu:function(){var e=this;this._renderMenuStrategy(),(0,a.deferRender)((function(){e._menuStrategy.render()}))},_renderMenuStrategy:function(){var e=this.option("submenuType");this._requireDropDownStrategy()&&(e="dropDownMenu");var t=_[e];this._menuStrategy&&this._menuStrategy.NAME===e||(this._menuStrategy=new t(this))},_requireDropDownStrategy:function(){var e=this.option("items")||[],t=!1;return(0,u.each)(e,(function(e,n){("auto"===n.locateInMenu||"always"===n.locateInMenu&&n.widget)&&(t=!0)})),t},_arrangeItems:function(){if(!this.$element().is(":hidden")){this._$centerSection.css({margin:"0 auto",float:"none"}),(0,u.each)(this._restoreItems||[],(function(e,t){(0,i.default)(t.container).append(t.item)})),this._restoreItems=[];var e=this.$element().width();this._hideOverflowItems(e),this.callBase(e)}},_itemOptionChanged:function(e,t,n){this._isMenuItem(e)?this._menuStrategy.renderMenuItems():this._isToolbarItem(e)?this.callBase(e,t,n):(this.callBase(e,t,n),this._menuStrategy.renderMenuItems()),"location"===t&&this.repaint()},_isMenuItem:function(e){return"menu"===e.location||"always"===e.locateInMenu},_isToolbarItem:function(e){return void 0===e.location||"never"===e.locateInMenu},_optionChanged:function(e){var t=e.name,n=e.value;switch(t){case"submenuType":this._invalidate();break;case"visible":this.callBase.apply(this,arguments),this._menuStrategy.handleToolbarVisibilityChange(n);break;case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(n));break;case"onItemClick":this._changeMenuOption(t,n),this.callBase.apply(this,arguments);break;case"menuContainer":this._changeMenuOption("container",n);break;default:this.callBase.apply(this,arguments)}},_changeMenuOption:function(e,t){this._menuStrategy.widgetOption(e,t)}});(0,s.default)("dxToolbar",v);var g=v;t.default=g,e.exports=t.default,e.exports.default=e.exports},ceb6:function(e,t,n){"use strict";t.default=void 0;var i=s(n("0c7c"));function s(e){return e&&e.__esModule?e:{default:e}}var a=i.default;t.default=a,e.exports=t.default,e.exports.default=e.exports}}]);