(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06a06b0f"],{"0093":function(e,t,n){"use strict";t.default=void 0;var i=n("b62d"),o=n("5e98"),r=n("ce5d"),a=["year","month","day"],s=["year","month","day","hour","minute"],l=function(e){return"date"===e||"datetime"===e},d=function(e){var t,n=[],r=["year","month","day","hour","minute","second"],d=e.headerFilter&&e.headerFilter.groupInterval,u="quarter"===d?"month":d;return l(e.dataType)&&null!==d?(n="datetime"===e.dataType?s:a,t=(0,o.inArray)(u,r),t>=0?(n=r.slice(0,t),n.push(d),n):n):(0,i.isDefined)(d)?Array.isArray(d)?d:[d]:void 0},u=function(){var e=function(e,t){var n=e.dataField||e.selector;return"search"===t&&(n=e.displayField||e.calculateDisplayValue||n),n},t=function(e){return e.getHours()+e.getMinutes()+e.getSeconds()+e.getMilliseconds()<1},n=function(e){return(0,i.isDate)(e)?[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()]:(0,r.map)((""+e).split("/"),(function(e,t){return 1===t?Number(e)-1:Number(e)}))},o=function(n,o){var r,a,s,d=this,u=e(d,o);if(Array.isArray(n)&&(0,i.isDefined)(n[0])&&(0,i.isDefined)(n[1]))return a=[u,">=",n[0]],s=[u,"<=",n[1]],l(d.dataType)&&t(n[1])&&(r=new Date(n[1].getTime()),"date"===d.dataType&&r.setDate(n[1].getDate()+1),s=[u,"<",r]),[a,"and",s]},a=function(t,i,o){var r,a,s,l=this,u=n(t),c=e(l,o);switch("headerFilter"===o?s=d(l)[u.length-1]:"datetime"===l.dataType&&(s="minute"),s){case"year":r=new Date(u[0],0,1),a=new Date(u[0]+1,0,1);break;case"month":r=new Date(u[0],u[1],1),a=new Date(u[0],u[1]+1,1);break;case"quarter":r=new Date(u[0],3*u[1],1),a=new Date(u[0],3*u[1]+3,1);break;case"hour":r=new Date(u[0],u[1],u[2],u[3]),a=new Date(u[0],u[1],u[2],u[3]+1);break;case"minute":r=new Date(u[0],u[1],u[2],u[3],u[4]),a=new Date(u[0],u[1],u[2],u[3],u[4]+1);break;case"second":r=new Date(u[0],u[1],u[2],u[3],u[4],u[5]),a=new Date(u[0],u[1],u[2],u[3],u[4],u[5]+1);break;default:r=new Date(u[0],u[1],u[2]),a=new Date(u[0],u[1],u[2]+1)}switch(i){case"<":return[c,"<",r];case"<=":return[c,"<",a];case">":return[c,">=",a];case">=":return[c,">=",r];case"<>":return[[c,"<",r],"or",[c,">=",a]];default:return[[c,">=",r],"and",[c,"<",a]]}},s=function(t,n,o){var r=this,a=e(r,o),s=d(r);if("headerFilter"===o&&s&&(0,i.isDefined)(t)){var l=(""+t).split("/"),u=Number(l[l.length-1]),c=s[l.length-1],h=[a,">=",u],p=[a,"<",u+c],f=[h,"and",p];return f}return[a,n||"=",t]};return{defaultCalculateFilterExpression:function(t,n,r){var d=this,u=e(d,r),c=d.calculateDisplayValue&&"search"===r,h=c&&d.lookup&&d.lookup.dataType||d.dataType,p=null;if("headerFilter"!==r&&"filterBuilder"!==r||null!==t)if("string"!==h||d.lookup&&!c){if("between"===n)return o.apply(d,[t,r]);if(l(h)&&(0,i.isDefined)(t))return a.apply(d,arguments);if("number"===h)return s.apply(d,arguments);"object"!==h&&(p=[u,n||"=",t])}else p=[u,n||"contains",t];else p=[u,n||"=",null],"string"===h&&(p=[p,"="===n?"or":"and",[u,n||"=",""]]);return p},getGroupInterval:d}}();t.default=u,e.exports=t.default},"009f":function(e,t,n){"use strict";t.default=void 0;var i=v(n("832e")),o=v(n("0fc0")),r=n("2809"),a=n("b62d"),s=n("ce5d"),l=n("cb15"),d=n("d4b2"),u=v(n("f12e")),c=n("2253"),h=v(n("5767")),p=v(n("43bb")),f=v(n("336b")),g=n("b49b"),m=v(n("2041"));function v(e){return e&&e.__esModule?e:{default:e}}var _=m.default.queryByOptions,y="id",C=function(e){return"fullBranch"===e.option("filterMode")},w=f.default.inherit(function(){var e=function(e,t){var n=[];return t.forEach((function(t){var i=e.getNodeByKey(t);i&&i.children.forEach((function(e){n.push(e.key)}))})),n};return{_createKeyGetter:function(){var e=this.getKeyExpr();return(0,l.compileGetter)(e)},_createKeySetter:function(){var e=this.getKeyExpr();return(0,a.isFunction)(e)?e:(0,l.compileSetter)(e)},_createParentIdGetter:function(){return(0,l.compileGetter)(this.option("parentIdExpr"))},createParentIdSetter:function(){var e=this.option("parentIdExpr");return(0,a.isFunction)(e)?e:(0,l.compileSetter)(e)},_createItemsGetter:function(){return(0,l.compileGetter)(this.option("itemsExpr"))},_createHasItemsGetter:function(){var e=this.option("hasItemsExpr");return e&&(0,l.compileGetter)(e)},_createHasItemsSetter:function(){var e=this.option("hasItemsExpr");return(0,a.isFunction)(e)?e:e&&(0,l.compileSetter)(e)},_updateIndexByKeyObject:function(e){var t=this;t._indexByKey={},(0,s.each)(e,(function(e,n){t._indexByKey[n.key]=e}))},_calculateHasItems:function(e,t){var n,i=this,o=t.storeLoadOptions.parentIds,r=C(i);return i._hasItemsGetter&&(o||!t.storeLoadOptions.filter||r)&&(n=i._hasItemsGetter(e.data)),void 0===n&&(n=!(i._isChildrenLoaded[e.key]||!t.remoteOperations.filtering||!o&&!r)||(t.loadOptions.filter&&!t.remoteOperations.filtering&&r?e.children.length:e.hasChildren)),!!n},_createVisibleItemsByNodes:function(e,t){for(var n=this,i=[],o=0;o<e.length;o++)e[o].visible&&i.push(e[o]),(n.isRowExpanded(e[o].key,t)||!e[o].visible)&&e[o].hasChildren&&e[o].children.length&&(i=i.concat(n._createVisibleItemsByNodes(e[o].children,t)));return i},_convertItemToNode:function(e,t,n){var i=this._keyGetter(e),o=this._parentIdGetter(e);o=(0,a.isDefined)(o)?o:t;var r=n[o]=n[o]||{key:o,children:[]},s=n[i]=n[i]||{key:i,children:[]};return s.data=e,s.parent=r,s},_createNodesByItems:function(e,t){var n,i=this,o=i.option("rootValue"),r={},a=i._nodeByKey={};if(t)for(n=0;n<t.length;n++)r[this._keyGetter(t[n])]=!0;for(n=0;n<e.length;n++){var s=i._convertItemToNode(e[n],o,a);if(void 0===s.key)return;s.visible=!t||!!r[s.key],s.parent&&s.parent.children.push(s)}var l=a[o]||{key:o,children:[]};return l.level=-1,l},_convertDataToPlainStructure:function(e,t,n){var i;if(this._itemsGetter&&!e.isConverted){n=n||[];for(var o=0;o<e.length;o++){var r=(0,c.createObjectWithChanges)(e[o]);i=this._keyGetter(r),void 0===i&&(i=n.length+1,this._keySetter(r,i)),this._parentIdSetter(r,void 0===t?this.option("rootValue"):t),n.push(r);var s=this._itemsGetter(r);if(s&&s.length){this._convertDataToPlainStructure(s,i,n);var l=this.option("itemsExpr");(0,a.isFunction)(l)||delete r[l]}}return n.isConverted=!0,n}return e},_createIdFilter:function(e,t){for(var n=[],i=0;i<t.length;i++)n.push([e,"=",t[i]]);return u.default.combineFilters(n,"or")},_customizeRemoteOperations:function(e,t){this.callBase.apply(this,arguments),e.remoteOperations.paging=!1;var n=!1;this.option("autoExpandAll")&&(e.remoteOperations.sorting=!1,e.remoteOperations.filtering=!1,this._lastLoadOptions&&(!t.filtering||e.storeLoadOptions.filter)||e.isCustomLoading||(n=!0)),e.isCustomLoading||(this._isReload=this._isReload||t.reload,e.cachedStoreData||(this._isChildrenLoaded={},this._isReload&&(this._nodeByKey={})),this.option("expandNodesOnFiltering")&&(t.filtering||this._isReload&&e.storeLoadOptions.filter)&&(e.storeLoadOptions.filter?n=!0:e.collapseVisibleNodes=!0)),e.expandVisibleNodes=n},_getParentIdsToLoad:function(e){for(var t=[],n=0;n<e.length;n++){var i=this.getNodeByKey(e[n]);(!i||i.hasChildren&&!i.children.length)&&t.push(e[n])}return t},_handleDataLoading:function(e){var t=this.option("rootValue"),n=this.option("parentIdExpr"),i=e.storeLoadOptions.parentIds;if(i&&(e.isCustomLoading=!1),this.callBase.apply(this,arguments),e.remoteOperations.filtering&&!e.isCustomLoading&&(C(this)&&e.cachedStoreData||!e.storeLoadOptions.filter)){var o=e.collapseVisibleNodes?[]:this.option("expandedRowKeys");i=[t].concat(o).concat(i||[]);var r=e.data?this._getParentIdsToLoad(i):i;r.length&&(e.cachedPagingData=void 0,e.data=void 0,e.mergeStoreLoadData=!0),e.storeLoadOptions.parentIds=r,e.storeLoadOptions.filter=this._createIdFilter(n,r)}},_generateInfoToLoad:function(e,t){var n,i,o=this,r={},a={},s=[],l=o.option("rootValue");for(i=0;i<e.length;i++)n=t?o._parentIdGetter(e[i]):o._keyGetter(e[i]),r[n]=!0;for(i=0;i<e.length;i++){n=t?o._keyGetter(e[i]):o._parentIdGetter(e[i]);var d=t?o.isRowExpanded(n):n!==l;r[n]||a[n]||!d||(a[n]=!0,s.push(n))}return{keyMap:a,keys:s}},_loadParentsOrChildren:function(e,t,n){var i,o,r=this,a=this,s=a._generateInfoToLoad(e,n),l=s.keys,u=s.keyMap,c=new g.Deferred,f=t.remoteOperations.filtering,m=a.option("maxFilterLengthInRequest"),v=f?t.storeLoadOptions:t.loadOptions;function _(t){return f&&(a._cachedStoreData=a._cachedStoreData.concat(t)),e.concat(t)}if(!l.length)return c.resolve(e);var y=l.map((function(e){return r.getNodeByKey(e)})).filter((function(e){return e&&e.data}));if(y.length===l.length&&(n&&(y=y.reduce((function(e,t){return e.concat(t.children)}),[])),y.length))return a._loadParentsOrChildren(_(y.map((function(e){return e.data}))),t,n);var C=n?a.option("parentIdExpr"):a.getKeyExpr();i=a._createIdFilter(C,l);var w=encodeURI(JSON.stringify(i)).length;w>m&&(i=function(e){return u[a._keyGetter(e)]},o=f),v=(0,d.extend)({},v,{filter:o?null:i});var x=t.fullData?new h.default(t.fullData):a._dataSource.store();return a.loadFromStore(v,x).done((function(r){r.length?(o&&(r=(0,p.default)(r).filter(i).toArray()),a._loadParentsOrChildren(_(r),t,n).done(c.resolve).fail(c.reject)):c.resolve(e)})).fail(c.reject),c},_loadParents:function(e,t){return this._loadParentsOrChildren(e,t)},_loadChildrenIfNeed:function(e,t){return C(this)?this._loadParentsOrChildren(e,t,!0):(0,g.when)(e)},_updateHasItemsMap:function(e){var t=e.storeLoadOptions.parentIds;if(t)for(var n=0;n<t.length;n++)this._isChildrenLoaded[t[n]]=!0},_getKeyInfo:function(){return{key:function(){return"key"},keyOf:function(e){return e.key}}},_applyBatch:function(e){var t=this,n=[];e.forEach((function(e){"insert"===e.type?n=n.concat(t._applyInsert(e)):"remove"===e.type?n=n.concat(t._applyRemove(e)):"update"===e.type&&n.push({type:e.type,key:e.key,data:{data:e.data}})})),this.callBase(n)},_setHasItems:function(e,t){var n=this._hasItemsSetter;e.hasChildren=t,n&&e.data&&n(e.data,t)},_applyInsert:function(e){var t=this,n=[],i=t.parentKeyOf(e.data),o=t.getNodeByKey(i);if(o){var r=t.option("rootValue"),a=t._convertItemToNode(e.data,r,t._nodeByKey);if(a.hasChildren=!1,a.level=o.level+1,a.visible=!0,o.children.push(a),t._isChildrenLoaded[a.key]=!0,t._setHasItems(o,!0),(!o.parent||t.isRowExpanded(o.key))&&void 0!==e.index){var s=t.items().indexOf(o)+1;s+=e.index>=0?Math.min(e.index,o.children.length):o.children.length,n.push({type:e.type,data:a,index:s})}}return n},_applyRemove:function(e){var t=[],n=this.getNodeByKey(e.key),i=n&&n.parent;if(i){var o=i.children.indexOf(n);o>=0&&(i.children.splice(o,1),i.children.length||this._setHasItems(i,!1),t.push(e),t=t.concat(this.getChildNodeKeys(e.key).map((function(t){return{type:e.type,key:t}}))))}return t},_handleDataLoaded:function(e){var t=e.data=this._convertDataToPlainStructure(e.data);!e.remoteOperations.filtering&&e.loadOptions.filter&&(e.fullData=_((0,p.default)(e.data),{sort:e.loadOptions&&e.loadOptions.sort}).toArray()),this._updateHasItemsMap(e),this.callBase(e),t.isConverted&&this._cachedStoreData&&(this._cachedStoreData.isConverted=!0)},_fillNodes:function(e,t,n,o){var r=C(this);o=o||0;for(var a=0;a<e.length;a++){var s=e[a],l=!1;this._fillNodes(e[a].children,t,n,o+1),s.level=o,s.hasChildren=this._calculateHasItems(s,t),s.visible&&s.hasChildren&&(r?s.children.filter((function(e){return e.visible})).length?l=!0:s.children.length&&i.default.foreachNodes(s.children,(function(e){e.visible=!0})):l=!0,t.expandVisibleNodes&&l&&n.push(s.key)),(s.visible||s.hasChildren)&&(s.parent.hasChildren=!0)}},_processTreeStructure:function(e,t){var n=e.data,i=e.storeLoadOptions.parentIds,r=[];if(i&&i.length||this._isReload){if(e.fullData&&e.fullData.length>e.data.length&&(n=e.fullData,t=t||e.data),this._rootNode=this._createNodesByItems(n,t),!this._rootNode)return void(e.data=(new g.Deferred).reject(o.default.Error("E1046",this.getKeyExpr())));this._fillNodes(this._rootNode.children,e,r),this._isNodesInitializing=!0,(e.collapseVisibleNodes||r.length)&&this.option("expandedRowKeys",r),this._isReload=!1,this.executeAction("onNodesInitialized",{root:this._rootNode}),this._isNodesInitializing=!1}n=this._createVisibleItemsByNodes(this._rootNode.children,e),e.data=n,this._totalItemsCount=n.length},_handleDataLoadedCore:function(e){var t,n=this,i=e.data,o=n.callBase,r=e.storeLoadOptions.filter||e.loadOptions.filter,a=n.option("filterMode"),s=e.storeLoadOptions.parentIds,l=r&&(!s||!s.length)&&"standard"!==a;if(!e.isCustomLoading){if(l){var d=e.data=new g.Deferred;return"matchOnly"===a&&(t=i),n._loadParents(i,e).done((function(i){n._loadChildrenIfNeed(i,e).done((function(i){e.data=i,n._processTreeStructure(e,t),o.call(n,e),d.resolve(e.data)}))})).fail(d.reject)}n._processTreeStructure(e)}n.callBase(e)},_handlePush:function(e){var t=this._dataSource._reshapeOnPush,n=t&&!!e.length;n&&(this._isReload=!0),this.callBase.apply(this,arguments)},init:function(e,t){this.callBase.apply(this,arguments);var n=this.option("dataStructure");this._keyGetter=this._createKeyGetter(),this._parentIdGetter=this._createParentIdGetter(),this._hasItemsGetter=this._createHasItemsGetter(),this._hasItemsSetter=this._createHasItemsSetter(),"tree"===n&&(this._itemsGetter=this._createItemsGetter(),this._keySetter=this._createKeySetter(),this._parentIdSetter=this.createParentIdSetter()),this._nodeByKey={},this._isChildrenLoaded={},this._totalItemsCount=0,this.createAction("onNodesInitialized")},getKeyExpr:function(){var e=this.store(),t=e&&e.key(),n=this.option("keyExpr");if((0,a.isDefined)(t)&&(0,a.isDefined)(n)&&!(0,r.equalByValue)(t,n))throw o.default.Error("E1044");return t||n||y},keyOf:function(e){return this._keyGetter&&this._keyGetter(e)},parentKeyOf:function(e){return this._parentIdGetter&&this._parentIdGetter(e)},getRootNode:function(){return this._rootNode},totalItemsCount:function(){return this._totalItemsCount},isRowExpanded:function(e,t){if(t){var n=t.isExpandedByKey;return n||(n=t.isExpandedByKey={},this.option("expandedRowKeys").forEach((function(e){n[e]=!0}))),!!n[e]}var i=u.default.getIndexByKey(e,this.option("expandedRowKeys"),null);return i>=0},_changeRowExpandCore:function(e){var t=this.option("expandedRowKeys").slice(),n=u.default.getIndexByKey(e,t,null);n<0?t.push(e):t.splice(n,1),this.option("expandedRowKeys",t)},changeRowExpand:function(e){return this._changeRowExpandCore(e),this._isNodesInitializing?(new g.Deferred).resolve():this.load()},getNodeByKey:function(e){if(this._nodeByKey)return this._nodeByKey[e]},getNodeLeafKeys:function(){var e=this,t=[],n=e._rootNode?[e._rootNode.key]:[];return n.forEach((function(n){var o=e.getNodeByKey(n);o&&i.default.foreachNodes([o],(function(e){!e.children.length&&t.push(e.key)}))})),t},getChildNodeKeys:function(e){var t=this.getNodeByKey(e),n=[];return t&&i.default.foreachNodes(t.children,(function(e){n.push(e.key)})),n},loadDescendants:function(t,n){var i=this,o=new g.Deferred,r=i.remoteOperations();if(t=(0,a.isDefined)(t)?Array.isArray(t)?t:[t]:i.getNodeLeafKeys(),!r.filtering||!t.length)return o.resolve();var s=i._dataSource._createStoreLoadOptions();return s.parentIds=t,i.load(s).done((function(){if(!n){var r=e(i,t);if(r.length)return void i.loadDescendants(r,n).done(o.resolve).fail(o.reject)}o.resolve()})).fail(o.reject),o.promise()},forEachNode:function(){var e,t=[];if(1===arguments.length){e=arguments[0];var n=this.getRootNode();t=n&&n.children||[]}else 2===arguments.length&&(e=arguments[1],t=arguments[0],t=Array.isArray(t)?t:[t]);i.default.foreachNodes(t,e)}}}()),x={extend:function(e){w=w.inherit(e)},create:function(e){return new w(e)}};t.default=x,e.exports=t.default},"022c":function(e,t,n){"use strict";t.DataController=void 0;var i=n("d4b2"),o=n("b49b"),r=d(n("832e")),a=n("2809"),s=d(n("009f")),l=d(n("cae8"));function d(e){return e&&e.__esModule?e:{default:e}}var u=l.default.controllers.data.inherit(function(){return{_getDataSourceAdapter:function(){return s.default},_getNodeLevel:function(e){var t=-1;while(e.parent)e.visible&&t++,e=e.parent;return t},_generateDataItem:function(e,t){return{rowType:"data",node:e,key:e.key,data:e.data,isExpanded:this.isRowExpanded(e.key,t),level:this._getNodeLevel(e)}},_loadOnOptionChange:function(){this._dataSource.load()},_isItemEquals:function(e,t){return!!this.callBase.apply(this,arguments)&&((!e.node||!t.node||e.node.hasChildren===t.node.hasChildren)&&e.level===t.level)},init:function(){this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed"),this.callBase.apply(this,arguments)},keyOf:function(e){var t=this._dataSource;if(t)return t.keyOf(e)},key:function(){var e=this._dataSource;if(e)return e.getKeyExpr()},publicMethods:function(){return this.callBase().concat(["expandRow","collapseRow","isRowExpanded","getRootNode","getNodeByKey","loadDescendants","forEachNode"])},changeRowExpand:function(e){if(this._dataSource){var t=this,n={key:e},i=this.isRowExpanded(e);if(t.executeAction(i?"onRowCollapsing":"onRowExpanding",n),!n.cancel)return t._dataSource.changeRowExpand(e).done((function(){t.executeAction(i?"onRowCollapsed":"onRowExpanded",n)}))}return(new o.Deferred).resolve()},isRowExpanded:function(e,t){return this._dataSource&&this._dataSource.isRowExpanded(e,t)},expandRow:function(e){return this.isRowExpanded(e)?(new o.Deferred).resolve():this.changeRowExpand(e)},collapseRow:function(e){return this.isRowExpanded(e)?this.changeRowExpand(e):(new o.Deferred).resolve()},getRootNode:function(){return this._dataSource&&this._dataSource.getRootNode()},optionChanged:function(e){switch(e.name){case"rootValue":case"parentIdExpr":case"itemsExpr":case"filterMode":case"expandNodesOnFiltering":case"autoExpandAll":case"hasItemsExpr":case"dataStructure":this._columnsController.reset(),this._items=[],this._refreshDataSource(),e.handled=!0;break;case"expandedRowKeys":case"onNodesInitialized":!this._dataSource||this._dataSource._isNodesInitializing||(0,a.equalByValue)(e.value,e.previousValue)||this._loadOnOptionChange(),e.handled=!0;break;case"maxFilterLengthInRequest":e.handled=!0;break;default:this.callBase(e)}},getNodeByKey:function(e){if(this._dataSource)return this._dataSource.getNodeByKey(e)},getChildNodeKeys:function(e){if(this._dataSource)return this._dataSource.getChildNodeKeys(e)},loadDescendants:function(e,t){if(this._dataSource)return this._dataSource.loadDescendants(e,t)},forEachNode:function(){this._dataSource.forEachNode.apply(this,arguments)}}}());t.DataController=u,r.default.registerModule("data",{defaultOptions:function(){return(0,i.extend)({},l.default.defaultOptions(),{itemsExpr:"items",parentIdExpr:"parentId",rootValue:0,dataStructure:"plain",expandedRowKeys:[],filterMode:"withAncestors",expandNodesOnFiltering:!0,autoExpandAll:!1,onNodesInitialized:null,maxFilterLengthInRequest:1500,paging:{enabled:!1}})},controllers:{data:u}})},"0538":function(e,t,n){"use strict";var i=n("d4b2"),o=a(n("832e")),r=a(n("976f4"));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.extend)({},r.default.extenders.controllers.editing);delete s.processItems,delete s.processDataItem,o.default.registerModule("validating",{defaultOptions:r.default.defaultOptions,controllers:r.default.controllers,extenders:{controllers:{editing:s,editorFactory:r.default.extenders.controllers.editorFactory},views:r.default.extenders.views}})},"0561":function(e,t,n){"use strict";t.default=void 0;var i=r(n("f12e")),o=r(n("1981"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=s(s(s({},o.default),i.default),{},{modules:[]});t.default=d,e.exports=t.default},"066d":function(e,t,n){"use strict";t.default=void 0;var i=l(n("14a3")),o=n("d4b2"),r=l(n("d0cd")),a=l(n("f12e")),s=l(n("b876"));function l(e){return e&&e.__esModule?e:{default:e}}var d="dx-command-drag",u="dx-cell-focus-disabled",c="drag-icon",h="rowsview",p="dx-sortable-without-handle",f={init:function(){this.callBase.apply(this,arguments),this._updateHandleColumn()},_allowReordering:function(){var e=this.option("rowDragging");return!(!e||!(e.allowReordering||e.allowDropInsideItem||e.group))},_updateHandleColumn:function(){var e=this.option("rowDragging"),t=this._allowReordering(),n=this._columnsController,i=t&&e.showDragIcons;n&&n.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",cssClass:d,width:"auto",cellTemplate:this._getHandleTemplate(),visible:i}),n.columnOption("type:drag","visible",i)},_renderContent:function(){var e=this,t=this.option("rowDragging"),n=this._allowReordering(),i=this.callBase.apply(this,arguments),a=this._isFixedTableRendering,l="_sortable",u="_sortableFixed",c=a?u:l,h=a?l:u,f=function(t){var n;null===(n=e[u])||void 0===n||n.$element().css("pointerEvents",t?"auto":"")};return n&&i.length&&(this[c]=this._createComponent(i,r.default,(0,o.extend)({component:this.component,contentTemplate:null,filter:"> table > tbody > .dx-row:not(.dx-freespace-row):not(.dx-virtual-row)",dragTemplate:this._getDraggableRowTemplate(),handle:t.showDragIcons&&".".concat(d),dropFeedbackMode:"indicate"},t,{onDragStart:function(e){var n,i=e.component.getVisibleRows()[e.fromIndex];e.itemData=i&&i.data;var o=i&&"data"===i.rowType;e.cancel=!o,null===(n=t.onDragStart)||void 0===n||n.call(t,e)},onDragEnter:function(){f(!0)},onDragLeave:function(){f(!1)},onDragEnd:function(e){var n;f(!1),null===(n=t.onDragEnd)||void 0===n||n.call(t,e)},dropFeedbackMode:s.default.msie?"indicate":t.dropFeedbackMode,onOptionChanged:function(t){var n=e[u];n&&("fromIndex"!==t.name&&"toIndex"!==t.name||e[h].option(t.name,t.value))}})),i.toggleClass(p,!t.showDragIcons)),i},_resizeCore:function(){this.callBase.apply(this,arguments);var e=this._dataController.getRowIndexOffset();[this._sortable,this._sortableFixed].forEach((function(t){null===t||void 0===t||t.option("offset",e),null===t||void 0===t||t.update()}))},_getDraggableGridOptions:function(e){var t=this.option(),n=this.getColumns(),o=(0,i.default)(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:!1},pager:{visible:!1},loadingTimeout:void 0,columnFixing:t.columnFixing,columnAutoWidth:t.columnAutoWidth,showColumnLines:t.showColumnLines,columns:n.map((function(e){return{width:e.width||e.visibleWidth,fixed:e.fixed,fixedPosition:e.fixedPosition}})),onRowPrepared:function(e){var t=e.component.getView("rowsView");(0,i.default)(e.rowElement).replaceWith(o.eq(t._isFixedTableRendering?1:0).clone())}}},_getDraggableRowTemplate:function(){var e=this;return function(t){var n=e.component.$element(),o=(0,i.default)("<div>").width(n.width()),r=e._dataController.items(),a=r&&r[t.fromIndex],s=e._getDraggableGridOptions(a);return e._createComponent(o,e.component.NAME,s),o.find(".dx-gridbase-container").children(":not(.".concat(e.addWidgetPrefix(h),")")).hide(),o}},_getHandleTemplate:function(){var e=this;return function(t,n){if("data"===n.rowType)return(0,i.default)(t).addClass(u),(0,i.default)("<span>").addClass(e.addWidgetPrefix(c));a.default.setEmptyText((0,i.default)(t))}},optionChanged:function(e){"rowDragging"===e.name&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),this.callBase.apply(this,arguments)}},g={defaultOptions:function(){return{rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}},extenders:{views:{rowsView:f}}};t.default=g,e.exports=t.default},"084b":function(e,t,n){"use strict";t.default=void 0;var i=l(n("1981")),o=l(n("df12")),r=n("5e98"),a=n("b62d"),s=n("706b");function l(e){return e&&e.__esModule?e:{default:e}}var d="pager",u=10,c=function(e){return 1+(parseInt(e.pageIndex())||0)},h=i.default.View.inherit({init:function(){var e=this,t=e.getController("data");e._isVisible=!1,t.changed.add((function(n){if(n&&n.repaintChangesOnly){var i=e._getPager();i?i.option({pageIndex:c(t),pageSize:t.pageSize(),pageCount:t.pageCount(),totalCount:t.totalCount(),hasKnownLastPage:t.hasKnownLastPage()}):e.render()}else(!n||"update"!==n.changeType&&"updateSelection"!==n.changeType)&&e.render()}))},_getPager:function(){var e=this.element();return e&&e.data("dxPager")},_renderCore:function(){var e=this,t=e.element().addClass(e.addWidgetPrefix(d)),n=e.option("pager")||{},i=e.getController("data"),r=e.getController("keyboardNavigation"),s={maxPagesCount:u,pageIndex:c(i),pageCount:i.pageCount(),pageSize:i.pageSize(),showPageSizes:n.showPageSizeSelector,showInfo:n.showInfo,displayMode:n.displayMode,pagesNavigatorVisible:n.visible,showNavigationButtons:n.showNavigationButtons,pageSizes:e.getPageSizes(),totalCount:i.totalCount(),hasKnownLastPage:i.hasKnownLastPage(),pageIndexChanged:function(e){i.pageIndex()!==e-1&&setTimeout((function(){i.pageIndex(e-1)}))},pageSizeChanged:function(e){setTimeout((function(){i.pageSize(e)}))},onKeyDown:function(e){return r&&r.executeAction("onKeyDown",e)},useLegacyKeyboardNavigation:this.option("useLegacyKeyboardNavigation"),useKeyboard:this.option("keyboardNavigation.enabled")};(0,a.isDefined)(n.infoText)&&(s.infoText=n.infoText),e._createComponent(t,o.default,s)},getPageSizes:function(){var e=this,t=e.getController("data"),n=e.option("pager"),i=n&&n.allowedPageSizes,o=t.pageSize();return(0,a.isDefined)(e._pageSizes)&&-1!==(0,r.inArray)(o,e._pageSizes)||(e._pageSizes=[],n&&(Array.isArray(i)?e._pageSizes=i:i&&o>1&&(e._pageSizes=[Math.floor(o/2),o,2*o]))),e._pageSizes},isVisible:function(){var e=this,t=e.getController("data"),n=e.option("pager"),i=n&&n.visible,o=e.option("scrolling");return!!e._isVisible||("auto"===i&&(i=(!o||"virtual"!==o.mode&&"infinite"!==o.mode)&&(t.pageCount()>1||t.isLoaded()&&!t.hasKnownLastPage())),e._isVisible=i,i)},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){var t=this,n=e.name,i="pager"===n,o="paging"===n,r="dataSource"===n,a="scrolling"===n,l=t.getController("data");if(i||o||a||r){if(e.handled=!0,l.skipProcessingPagingChange(e.fullName))return;(i||o)&&(t._pageSizes=null),(i||o||a)&&(t._isVisible=!1),r||(t._invalidate(),(0,s.hasWindow)()&&i&&t.component&&t.component.resize())}}}),p={defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto"}}},views:{pagerView:h}};t.default=p,e.exports=t.default},"085a":function(e,t,n){"use strict";var i=a(n("832e")),o=n("d4b2"),r=a(n("9da1"));function a(e){return e&&e.__esModule?e:{default:e}}var s=r.default.extenders.controllers.stateStoring.applyState;i.default.registerModule("stateStoring",(0,o.extend)(!0,{},r.default,{extenders:{controllers:{stateStoring:{applyState:function(e){s.apply(this,arguments),Object.prototype.hasOwnProperty.call(e,"expandedRowKeys")&&this.option("expandedRowKeys",e.expandedRowKeys&&e.expandedRowKeys.slice())}},data:{getUserState:function(){var e=this.callBase.apply(this,arguments);return this.option("autoExpandAll")||(e.expandedRowKeys=this.option("expandedRowKeys")),e}}}}}))},"0dda":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("b587"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("adaptivity",o.default)},"0f06":function(e,t,n){"use strict";t.default=void 0;var i=C(n("14a3")),o=n("706b"),r=C(n("8de2")),a=n("2809"),s=n("9ba4"),l=n("b62d"),d=n("ce5d"),u=n("d4b2"),c=n("5e04"),h=n("4ecb"),p=n("cb15"),f=C(n("f12e")),g=n("1d99"),m=C(n("640d")),v=C(n("7c61")),_=C(n("8a64")),y=C(n("b876"));function C(e){return e&&e.__esModule?e:{default:e}}var w="rowsview",x="content",b="nowrap",T="dx-group-row",I="dx-group-cell",S="dx-data-row",k="dx-freespace-row",E="dx-row-lines",D="dx-column-lines",R="dx-row-alt",O="dx-last-row-border",M="dx-empty",P="row-inserted-animation",V=200;function A(e){return e?e.scrollWidth()-e.clientWidth():0}var F={defaultOptions:function(){return{hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:_.default.format("Loading"),width:200,height:90,showIndicator:!0,indicatorSrc:"",showPane:!0},rowTemplate:null,columnAutoWidth:!1,noDataText:_.default.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:g.ColumnsView.inherit(function(){var e=function(e,t){var n=(0,h.isEmpty)(t.text)&&"data"===t.rowType,i=t.text,o=e.get(0);n?f.default.setEmptyText(e):t.column.encodeHtml?o.textContent=i:o.innerHTML=i},t=function(e){var t=e.getScrollable();return t?Math.ceil(parseFloat(t.$content().css("paddingBottom"))):0};return{_getDefaultTemplate:function(t){switch(t.command){case"empty":return function(e){e.html("&nbsp;")};default:return e}},_getDefaultGroupTemplate:function(e){var t=this,n=t.option("summary.texts");return function(t,i){var o=i.data,r=i.column.caption+": "+i.text,a=t.get(0);i.summaryItems&&i.summaryItems.length&&(r+=" "+f.default.getGroupRowSummaryText(i.summaryItems,n)),o&&(i.groupContinuedMessage&&i.groupContinuesMessage?r+=" ("+i.groupContinuedMessage+". "+i.groupContinuesMessage+")":i.groupContinuesMessage?r+=" ("+i.groupContinuesMessage+")":i.groupContinuedMessage&&(r+=" ("+i.groupContinuedMessage+")")),t.addClass(I),e.encodeHtml?a.textContent=r:a.innerHTML=r}},_update:function(){},_getCellTemplate:function(e){var t,n=this,i=e.column;return t="group"!==e.rowType||!(0,l.isDefined)(i.groupIndex)||i.showWhenGrouped||i.command?("data"===e.rowType||i.command)&&i.cellTemplate?i.cellTemplate:{allowRenderToDetachedContainer:!0,render:n._getDefaultTemplate(i)}:i.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:n._getDefaultGroupTemplate(i)},t},_createRow:function(e){var t=this.callBase(e);if(e){var n="group"===e.rowType,i="data"===e.rowType;if(i&&t.addClass(S),i&&this.option("showRowLines")&&t.addClass(E),this.option("showColumnLines")&&t.addClass(D),!1===e.visible&&t.hide(),n){t.addClass(T);var o=e.isExpanded;this.setAria("role","row",t),this.setAria("expanded",(0,l.isDefined)(o)&&o.toString(),t)}}return t},_rowPrepared:function(e,t,n){var i=this;"data"===t.rowType&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&e.addClass(R),t.watch&&t.watch((function(){return i._isAltRow(n)}),(function(t){e.toggleClass(R,t)}))),this._setAriaRowIndex(t,e),t.watch&&t.watch((function(){return t.rowIndex}),(function(){return i._setAriaRowIndex(t,e)}))),this.callBase.apply(this,arguments)},_setAriaRowIndex:function(e,t){var n=this.component,i="standard"===n.option("scrolling.mode")&&"virtual"!==n.option("scrolling.rowRenderingMode"),o=e.rowIndex+1;i?o=n.pageIndex()*n.pageSize()+o:o+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",o,t)},_afterRowPrepared:function(e){var t=this,n=e.args[0],i=this._dataController,o=i.getVisibleRows()[n.rowIndex],a=this.option("integrationOptions.watchMethod");if(n.data&&"data"===n.rowType&&!n.isNewRow&&this.option("twoWayBindingEnabled")&&a&&o){var s=a((function(){return i.generateDataValues(n.data,n.columns)}),(function(){i.repaintRows([o.rowIndex],t.option("repaintChangesOnly"))}),{deep:!0,skipImmediate:!0});r.default.on(n.rowElement,v.default,s)}},_renderScrollable:function(e){var t=this,n=t.element();if(n.children().length||n.append("<div>"),!e&&t._loadPanel||t._renderLoadPanel(n,n.parent(),t._dataController.isLocalStore()),(e||!t.getScrollable())&&t._dataController.isLoaded()){for(var i=t.getColumns(),o=!0,r=0;r<i.length;r++)if(!i[r].width&&!i[r].minWidth){o=!1;break}(t.option("columnAutoWidth")||t._hasHeight||o||t._columnsController._isColumnFixing())&&t._renderScrollableCore(n)}},_handleScroll:function(e){var t=this,n=t.option("rtlEnabled");t._isScrollByEvent=!!e.event,t._scrollTop=e.scrollOffset.top,t._scrollLeft=e.scrollOffset.left,n&&(this._scrollRight=A(e.component)-this._scrollLeft),t.scrollChanged.fire(e.scrollOffset,t.name)},_renderScrollableCore:function(e){var t=this,n=t._createScrollableOptions(),i=t._handleScroll.bind(t);n.onScroll=i,n.onStop=i,t._scrollable=t._createComponent(e,m.default,n),t._scrollableContainer=t._scrollable&&t._scrollable._$container},_renderLoadPanel:f.default.renderLoadPanel,_renderContent:function(e,t){return e.empty().append(t),this._findContentElement()},_updateContent:function(e,t){var n=this,i=n._getTableElement(),o=n._findContentElement(),r=t&&t.changeType,a=[],s=this.option("highlightChanges"),u=this.addWidgetPrefix(P);switch(r){case"update":(0,d.each)(t.rowIndices,(function(o,r){var d=n._getRowElements(e).eq(o),c=t.changeTypes&&t.changeTypes[o],h=t.items&&t.items[o];a.push((function(){var e=n._getRowElements(),a=e.eq(r);switch(c){case"update":if(h){var p=t.columnIndices&&t.columnIndices[o];(0,l.isDefined)(h.visible)&&h.visible!==a.is(":visible")?a.toggle(h.visible):p?n._updateCells(a,d,p):a.replaceWith(d)}break;case"insert":e.length?a.length?d.insertBefore(a):d.insertAfter(e.last()):i&&d.prependTo(i.children("tbody")),s&&t.isLiveUpdate&&d.addClass(u);break;case"remove":a.remove()}}))})),(0,d.each)(a,(function(){this()})),e.remove();break;default:n._setTableElement(e),o.addClass(n.addWidgetPrefix(x)),n._renderContent(o,e)}},_createEmptyRow:function(e,t,n){var i,o=this,r=o._createRow(),a=t?this.getFixedColumns():this.getColumns();r.addClass(e).toggleClass(D,o.option("showColumnLines"));for(var s=0;s<a.length;s++)i=o._createCell({column:a[s],rowType:"freeSpace",columnIndex:s,columns:a}),(0,l.isNumeric)(n)&&i.css("height",n),r.append(i);return o.setAria("role","presentation",r),r},_appendEmptyRow:function(e,t,n){var i=this._getBodies(e),o=!i.length||t.is("tbody"),r=o?e:i;if("top"===n){if(r.first().prepend(t),o){var a=r.children("colgroup");r.prepend(a)}}else r.last().append(t)},_renderFreeSpaceRow:function(e){var t=this._createEmptyRow(k);t=this._wrapRowIfNeed(e,t),this._appendEmptyRow(e,t)},_checkRowKeys:function(e){var t=this,n=t._getRows(e),i=t._dataController.store()&&t._dataController.store().key();i&&n.some((function(e){if("data"===e.rowType&&void 0===e.key)return t._dataController.fireError("E1046",i),!0}))},_needUpdateRowHeight:function(e){return e>0&&!this._rowHeight},_getRowsHeight:function(e){var t=e.children("tbody").children().not(".dx-virtual-row").not("."+k);return t.toArray().reduce((function(e,t){return e+(0,c.getBoundingRect)(t).height}),0)},_updateRowHeight:function(){var e=this,t=e._getTableElement(),n=e._dataController.items().length;if(t&&e._needUpdateRowHeight(n)){var i=e._getRowsHeight(t);e._rowHeight=i/n}},_findContentElement:function(){var e=this.element(),t=this.getScrollable();if(e)return t&&(e=t.$content()),e.children().first()},_getRowElements:function(e){var t=this.callBase(e);return t&&t.not("."+k)},_getFreeSpaceRowElements:function(e){var t=e||this.getTableElements();return t&&t.children("tbody").children("."+k)},_getNoDataText:function(){return this.option("noDataText")},_rowClick:function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",(0,u.extend)({evaluate:function(e){var n=(0,p.compileGetter)(e);return n(t.data)}},e,t))},_rowDblClick:function(e){var t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",(0,u.extend)({},e,t))},_getColumnsCountBeforeGroups:function(e){for(var t=0;t<e.length;t++)if("groupExpand"===e[t].type)return t;return 0},_getGroupCellOptions:function(e){var t=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+t;return{columnIndex:n,colspan:e.columns.length-n-1}},_renderCells:function(e,t){"group"===t.row.rowType?this._renderGroupedCells(e,t):t.row.values&&this.callBase(e,t)},_renderGroupedCells:function(e,t){for(var n,i,o=t.row,r=t.columns,a=o.rowIndex,s=this._getGroupCellOptions(t),l=0;l<=s.columnIndex;l++)l===s.columnIndex&&r[l].allowCollapsing&&"infinite"!==t.scrollingMode?(i=!!o.isExpanded,n=r[l]):(i=null,n={command:"expand",cssClass:r[l].cssClass}),this._renderCell(e,{value:i,row:o,rowIndex:a,column:n,columnIndex:l});var d=(0,c.getDefaultAlignment)(this.option("rtlEnabled")),h=(0,u.extend)({},r[s.columnIndex],{command:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:d});s.colspan>1&&(h.colspan=s.colspan),this._renderCell(e,{value:o.values[o.groupIndex],row:o,rowIndex:a,column:h,columnIndex:s.columnIndex})},_renderRows:function(e,t){var n=this,i=n.option("scrolling.mode");n.callBase(e,(0,u.extend)({scrollingMode:i},t)),n._checkRowKeys(t.change),n._renderFreeSpaceRow(e),n._hasHeight||n.updateFreeSpaceRowHeight(e)},_renderRow:function(e,t){var n=this,i=t.row,o=n.option("rowTemplate");"data"!==i.rowType&&"group"!==i.rowType||(0,l.isDefined)(i.groupIndex)||!o?n.callBase(e,t):n.renderTemplate(e,o,(0,u.extend)({columns:t.columns},i),!0)},_renderTable:function(e){var t=this,n=t.callBase(e),i=function e(){var n=t.getScrollable();n&&t.element().closest((0,o.getWindow)().document).length&&(t.resizeCompleted.remove(e),n._visibilityChanged(!0))};return(0,l.isDefined)(t._getTableElement())?t._renderScrollable():(t._setTableElement(n),t._renderScrollable(!0),t.resizeCompleted.add(i)),n},_createTable:function(){var e=this.callBase.apply(this,arguments);return this.option("rowTemplate")&&e.appendTo(this.component.$element()),e},_renderCore:function(e){var t=this,n=t.element();n.addClass(t.addWidgetPrefix(w)).toggleClass(t.addWidgetPrefix(b),!t.option("wordWrapEnabled")),n.toggleClass(M,0===t._dataController.items().length),t.setAria("role","presentation",n);var i=t._renderTable({change:e});t._updateContent(i,e),t.callBase(e),t._lastColumnWidths=null},_getRows:function(e){return e&&e.items||this._dataController.items()},_getCellOptions:function(e){var t=this,n=e.column,i=e.row,o=i.data,r=i&&i.summaryCells,a=e.value,s=f.default.getDisplayValue(n,a,o,i.rowType),d=this.callBase(e);if(d.value=a,d.oldValue=e.oldValue,d.displayValue=s,d.row=i,d.key=i.key,d.data=o,d.rowType=i.rowType,d.values=i.values,d.text=n.command?"":f.default.formatValue(s,n),d.rowIndex=i.rowIndex,d.summaryItems=r&&r[e.columnIndex],d.resized=n.resizedCallbacks,(0,l.isDefined)(n.groupIndex)&&!n.command){var u=t.option("grouping.texts"),c=t.option("scrolling.mode");"virtual"!==c&&"infinite"!==c&&(d.groupContinuesMessage=o&&o.isContinuationOnNextPage&&u&&u.groupContinuesMessage,d.groupContinuedMessage=o&&o.isContinuation&&u&&u.groupContinuedMessage)}return d},_setRowsOpacityCore:function(e,t,n,o){var r=this._columnsController,a=r.getColumns(),s=a&&a[n],u=s&&s.isBand&&s.index;(0,d.each)(e,(function(a,s){if(!(0,i.default)(s).hasClass(T))for(var d=0;d<t.length;d++)if(((0,l.isNumeric)(u)&&r.isParentBandColumn(t[d].index,u)||t[d].index===n)&&(e.eq(a).children().eq(d).css({opacity:o}),!(0,l.isNumeric)(u)))break}))},_getDevicePixelRatio:function(){return(0,o.getWindow)().devicePixelRatio},renderNoDataText:f.default.renderNoDataText,getCellOptions:function(e,t){var n,i,o=this._dataController.items()[e];return o&&(i=(0,l.isString)(t)?this._columnsController.columnOption(t):this._columnsController.getVisibleColumns()[t],i&&(n=this._getCellOptions({value:i.calculateCellValue(o.data),rowIndex:o.rowIndex,row:o,column:i}))),n},getRow:function(e){if(e>=0){var t=this._getRowElements();if(t.length>e)return(0,i.default)(t[e])}},updateFreeSpaceRowHeight:function(e){var t=this,n=this._dataController,i=n.items(!0).length,o=this._findContentElement(),r=this._getFreeSpaceRowElements(e);if(r&&o&&n.totalCount()>=0){var l=!1;if(i>0)if(this._hasHeight)r.hide(),(0,a.deferUpdate)((function(){var n=t.getScrollbarWidth(!0),i=t.element().height()-n,s=o.outerHeight(),d=i-s>0,u=t._getRowsHeight(o.children().first()),c=e||t.getTableElements(),h=Math.ceil(parseFloat(c.css("borderTopWidth"))),p=t._getHeightCorrection(),f=i-u-h-p;d&&(0,a.deferRender)((function(){r.css("height",f),l=!0,r.show()})),(0,a.deferRender)((function(){return t._updateLastRowBorder(l)}))}));else{var d=n.pageSize()-i,u=this.option("scrolling.mode");d>0&&n.pageCount()>1&&"virtual"!==u&&"infinite"!==u&&((0,s.setHeight)(r,d*this._rowHeight),l=!0),!l&&e?(0,s.setHeight)(r,0):r.toggle(l),this._updateLastRowBorder(l)}else r.css("height",0),r.show(),this._updateLastRowBorder(!0)}},_getHeightCorrection:function(){var e=y.default.webkit&&this._getDevicePixelRatio()>=2,t=y.default.mozilla&&y.default.version>=70&&!this.option("showRowLines");return e||t?1:0},_columnOptionChanged:function(e){var t=e.optionNames;e.changeTypes.grouping||(t.width||t.visibleWidth)&&(this.callBase(e),this._fireColumnResizedCallbacks())},getScrollable:function(){return this._scrollable},init:function(){var e=this,t=e.getController("data");e.callBase(),e._editorFactoryController=e.getController("editorFactory"),e._rowHeight=0,e._scrollTop=0,e._scrollLeft=-1,e._scrollRight=0,e._hasHeight=!1,t.loadingChanged.add((function(t,n){e.setLoading(t,n)})),t.dataSourceChanged.add((function(){e._scrollLeft>=0&&e._handleScroll({component:e.getScrollable(),scrollOffset:{top:e._scrollTop,left:e._scrollLeft}})}))},_handleDataChanged:function(e){var t=this;switch(e.changeType){case"refresh":case"prepend":case"append":case"update":t.render(null,e);break;default:t._update(e)}},publicMethods:function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]},contentWidth:function(){return this.element().width()-this.getScrollbarWidth()},getScrollbarWidth:function(e){var n=this._scrollableContainer&&this._scrollableContainer.get(0),i=0;return n&&(e?(i=n.clientHeight?n.offsetHeight-n.clientHeight:0,i+=t(this)):i=n.clientWidth?n.offsetWidth-n.clientWidth:0),i>0?i:0},_fireColumnResizedCallbacks:function(){for(var e=this,t=e._lastColumnWidths||[],n=[],i=e.getColumns(),o=0;o<i.length;o++)n[o]=i[o].visibleWidth,i[o].resizedCallbacks&&!(0,l.isDefined)(i[o].groupIndex)&&t[o]!==n[o]&&i[o].resizedCallbacks.fire(n[o]);e._lastColumnWidths=n},_updateLastRowBorder:function(e){this.option("showBorders")&&this.option("showRowLines")&&!e?this.element().addClass(O):this.element().removeClass(O)},_updateScrollable:function(){var e=m.default.getInstance(this.element());e&&(e.update(),this._updateHorizontalScrollPosition())},_updateHorizontalScrollPosition:function(){var e=this.getScrollable(),t=e&&e.scrollOffset().left,n=this.option("rtlEnabled");if(n){var i=A(e),o=i-t;o!==this._scrollRight&&(this._scrollLeft=i-this._scrollRight)}this._scrollLeft>=0&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})},_resizeCore:function(){var e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),(0,a.deferRender)((function(){e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),(0,a.deferUpdate)((function(){e._updateScrollable()}))}))},scrollTo:function(e){var t=this.element(),n=t&&m.default.getInstance(t);n&&n.scrollTo(e)},height:function(e,t){var n=this,i=this.element();if(0===arguments.length)return i?i.outerHeight(!0):0;n._hasHeight=void 0===t?"auto"!==e:t,(0,l.isDefined)(e)&&i&&(0,s.setHeight)(i,e)},setLoading:function(e,t){var n=this,i=n._loadPanel,r=n._dataController,a=n.option("loadPanel")||{},s=r.isLoaded()?a.animation:null,l=n.element();if((0,o.hasWindow)()&&(!i&&void 0!==t&&r.isLocalStore()&&"auto"===a.enabled&&l&&(n._renderLoadPanel(l,l.parent()),i=n._loadPanel),i)){var d={message:t||a.text,animation:s,visible:e};clearTimeout(n._hideLoadingTimeoutID),i.option("visible")&&!e?n._hideLoadingTimeoutID=setTimeout((function(){i.option(d)}),V):i.option(d)}},setRowsOpacity:function(e,t){var n=this._getRowElements().not("."+T)||[];this._setRowsOpacityCore(n,this.getColumns(),e,t)},_getCellElementsCore:function(e){var t=this.callBase(e);if(t){var n=t.filter("."+I).index();if(n>=0&&t.length>n+1)return t.slice(0,n+1)}return t},getTopVisibleItemIndex:function(e){var t=this,n=0,i=0,o=0,r=t._scrollTop,a=t._findContentElement(),s=a&&a.offset().top,l=t._dataController.items(),d=t._getTableElement();if(l.length&&d){var u=t._getRowElements(d).filter(":visible");for(n=0;n<l.length;n++){i=o;var c=u.eq(n);if(c.length&&(o=c.offset().top-s,o>r)){n&&(e||2*r<Math.round(o+i))&&n--;break}}n&&n===l.length&&n--}return n},getTopVisibleRowData:function(){var e=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[e])return t[e].data},_scrollToElement:function(e,t){var n=this.getScrollable();n&&n.scrollToElement(e,t)},optionChanged:function(e){var t=this;switch(t.callBase(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"twoWayBindingEnabled":t._invalidate(!0,!0),e.handled=!0;break;case"scrolling":t._rowHeight=null,t._tableElement=null,e.handled=!0;break;case"rtlEnabled":t._rowHeight=null,t._tableElement=null;break;case"loadPanel":t._tableElement=null,t._invalidate(!0,"loadPanel.enabled"!==e.fullName),e.handled=!0;break;case"noDataText":t.renderNoDataText(),e.handled=!0}},dispose:function(){clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()},setScrollerSpacing:function(){}}}())}};t.default=F,e.exports=t.default},"0fce":function(e,t,n){"use strict";t.default=void 0;var i=n("b62d"),o=l(n("e6ef")),r=l(n("061a")),a=l(n("7585")),s=l(n("7960"));function l(e){return e&&e.__esModule?e:{default:e}}n("3626");var d=(0,s.default)({format:function(e,t){var n=(0,i.isString)(t)&&""!==t||(0,i.isPlainObject)(t)||(0,i.isFunction)(t),o=(0,i.isNumeric)(e)||(0,i.isDate)(e);return n&&o?(0,i.isFunction)(t)?t(e):((0,i.isString)(t)&&(t={type:t}),(0,i.isNumeric)(e)?r.default.format(e,t):(0,i.isDate)(e)?a.default.format(e,t):void 0):(0,i.isDefined)(e)?e.toString():""},getTimeFormat:function(e){return e?"longtime":"shorttime"},_normalizeFormat:function(e){return Array.isArray(e)?1===e.length?e[0]:function(t){return e.map((function(e){return a.default.format(t,e)})).join(" ")}:e},getDateFormatByDifferences:function(e,t){var n=[],i=t&&e.millisecond&&!(e.year||e.month||e.day);if(i){var o=function(e){return e.getSeconds()+e.getMilliseconds()/1e3+"s"};n.push(o)}else e.millisecond&&n.push("millisecond");if((e.hour||e.minute||!i&&e.second)&&n.unshift(this.getTimeFormat(e.second)),e.year&&e.month&&e.day)return t&&"month"===t?"monthandyear":(n.unshift("shortdate"),this._normalizeFormat(n));if(e.year&&e.month)return"monthandyear";if(e.year&&e.quarter)return"quarterandyear";if(e.year)return"year";if(e.quarter)return"quarter";if(e.month&&e.day){if(t){var r=function(e){return a.default.getMonthNames("abbreviated")[e.getMonth()]+" "+a.default.format(e,"day")};n.unshift(r)}else n.unshift("monthandday");return this._normalizeFormat(n)}if(e.month)return"month";if(e.day){if(t)n.unshift("day");else{var s=function(e){return a.default.format(e,"dayofweek")+", "+a.default.format(e,"day")};n.unshift(s)}return this._normalizeFormat(n)}return this._normalizeFormat(n)},getDateFormatByTicks:function(e){var t,n,i;if(e.length>1)for(t=o.default.getDatesDifferences(e[0],e[1]),i=1;i<e.length-1;i++)n=o.default.getDatesDifferences(e[i],e[i+1]),t.count<n.count&&(t=n);else t={year:!0,month:!0,day:!0,hour:e[0].getHours()>0,minute:e[0].getMinutes()>0,second:e[0].getSeconds()>0,millisecond:e[0].getMilliseconds()>0};var r=this.getDateFormatByDifferences(t);return r},getDateFormatByTickInterval:function(e,t,n){var r,a={week:"day"},s=function(e,t,n){switch(t){case"year":case"quarter":e.month=n;case"month":e.day=n;case"week":case"day":e.hour=n;case"hour":e.minute=n;case"minute":e.second=n;case"second":e.millisecond=n}},l=function(e,t,n){!n.getMilliseconds()&&n.getSeconds()?n.getSeconds()-t.getSeconds()===1&&(e.millisecond=!0,e.second=!1):!n.getSeconds()&&n.getMinutes()?n.getMinutes()-t.getMinutes()===1&&(e.second=!0,e.minute=!1):!n.getMinutes()&&n.getHours()?n.getHours()-t.getHours()===1&&(e.minute=!0,e.hour=!1):!n.getHours()&&n.getDate()>1?n.getDate()-t.getDate()===1&&(e.hour=!0,e.day=!1):1===n.getDate()&&n.getMonth()?n.getMonth()-t.getMonth()===1&&(e.day=!0,e.month=!1):!n.getMonth()&&n.getFullYear()&&n.getFullYear()-t.getFullYear()===1&&(e.month=!0,e.year=!1)};n=(0,i.isString)(n)?n.toLowerCase():n;var d=o.default.getDatesDifferences(e,t);e!==t&&l(d,e>t?t:e,e>t?e:t),r=o.default.getDateUnitInterval(d),s(d,r,!0),r=o.default.getDateUnitInterval(n||"second"),s(d,r,!1),d[a[r]||r]=!0;var u=this.getDateFormatByDifferences(d);return u}});t.default=d,e.exports=t.default},"0fd3b":function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var o=w(n("14a3")),r=n("b62d"),a=w(n("cc156")),s=w(n("0fa5")),l=n("cb15"),d=n("abda"),u=n("994b"),c=w(n("c3b7")),h=n("d4b2"),p=n("5e04"),f=n("706b"),g=w(n("1446")),m=w(n("a264")),v=n("d12e"),_=w(n("3db9")),y=n("9703"),C=n("536b");function w(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function T(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function I(e,t,n){return I="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=S(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},I(e,t,n||e)}function S(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=P(e),null===e)break;return e}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function D(e){var t=M();return function(){var n,i=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var V="dx-gantt",A="dx-gantt-view",F="dx-gantt-collapsable-row",B="dx-gantt-treelist-wrapper",N="dx-gantt-toolbar-wrapper",L="dx-gantt-main-wrapper",H="tasks",W="dependencies",z="resources",K="resourceAssignments",U="gantt_new_task_key",j=34,G=/(\w*)Expr/,$=function(e){k(n,e);var t=D(n);function n(){return x(this,n),t.apply(this,arguments)}return T(n,[{key:"_init",value:function(){I(P(n.prototype),"_init",this).call(this),this._cache=new C.GanttDataCache}},{key:"_initMarkup",value:function(){I(P(n.prototype),"_initMarkup",this).call(this),this.$element().addClass(V),this._$toolbarWrapper=(0,o.default)("<div>").addClass(N).appendTo(this.$element()),this._$toolbar=(0,o.default)("<div>").appendTo(this._$toolbarWrapper),this._$mainWrapper=(0,o.default)("<div>").addClass(L).appendTo(this.$element()),this._$treeListWrapper=(0,o.default)("<div>").addClass(B).appendTo(this._$mainWrapper),this._$treeList=(0,o.default)("<div>").appendTo(this._$treeListWrapper),this._$splitter=(0,o.default)("<div>").appendTo(this._$mainWrapper),this._$ganttView=(0,o.default)("<div>").addClass(A).appendTo(this._$mainWrapper),this._$dialog=(0,o.default)("<div>").appendTo(this.$element()),this._$loadPanel=(0,o.default)("<div>").appendTo(this.$element()),this._$contextMenu=(0,o.default)("<div>").appendTo(this.$element()),this._refreshDataSource(H),this._refreshDataSource(W),this._refreshDataSource(z),this._refreshDataSource(K)}},{key:"_renderContent",value:function(){this._renderBars(),this._renderTreeList(),this._renderSplitter()}},{key:"_renderTreeList",value:function(){var e=this,t=this.option(H),n=t.keyExpr,i=t.parentIdExpr;this._treeList=this._createComponent(this._$treeList,c.default,{dataSource:this._tasksRaw,keyExpr:n,parentIdExpr:i,columns:this.option("columns"),columnResizingMode:"nextColumn",height:this._getTreeListHeight(),width:this.option("taskListWidth"),selection:{mode:this._getSelectionMode(this.option("allowSelection"))},selectedRowKeys:this._getArrayFromOneElement(this.option("selectedRowKey")),sorting:{mode:"none"},scrolling:{showScrollbar:"onHover",mode:"virtual"},allowColumnResizing:!0,autoExpandAll:!0,showRowLines:this.option("showRowLines"),rootValue:this.option("rootValue"),onContentReady:function(t){e._onTreeListContentReady(t)},onSelectionChanged:function(t){e._onTreeListSelectionChanged(t)},onRowCollapsed:function(t){e._onTreeListRowCollapsed(t)},onRowExpanded:function(t){e._onTreeListRowExpanded(t)},onRowPrepared:function(t){e._onTreeListRowPrepared(t)},onContextMenuPreparing:function(t){e._onTreeListContextMenuPreparing(t)},onRowClick:function(t){e._onTreeListRowClick(t)},onRowDblClick:function(t){e._onTreeListRowDblClick(t)}})}},{key:"_renderSplitter",value:function(){this._splitter=this._createComponent(this._$splitter,m.default,{container:this.$element(),leftElement:this._$treeListWrapper,rightElement:this._$ganttView,onApplyPanelSize:this._onApplyPanelSize.bind(this)}),this._splitter.option("initialLeftPanelWidth",this.option("taskListWidth"))}},{key:"_renderBars",value:function(){this._bars=[],this._toolbar=new u.GanttToolbar(this._$toolbar,this),this._updateToolbarContent(),this._bars.push(this._toolbar),this._contextMenuBar=new u.GanttContextMenuBar(this._$contextMenu,this),this._updateContextMenu(),this._bars.push(this._contextMenuBar)}},{key:"_initGanttView",value:function(){var e=this;this._ganttView||(this._ganttView=this._createComponent(this._$ganttView,d.GanttView,{width:"100%",height:this._treeList._$element.get(0).offsetHeight,rowHeight:this._getTreeListRowHeight(),headerHeight:this._getTreeListHeaderHeight(),tasks:this._tasks,dependencies:this._dependencies,resources:this._resources,resourceAssignments:this._resourceAssignments,allowSelection:this.option("allowSelection"),selectedRowKey:this.option("selectedRowKey"),showResources:this.option("showResources"),taskTitlePosition:this.option("taskTitlePosition"),firstDayOfWeek:this.option("firstDayOfWeek"),showRowLines:this.option("showRowLines"),scaleType:this.option("scaleType"),editing:this.option("editing"),validation:this.option("validation"),stripLines:this.option("stripLines"),bars:this._bars,mainElement:this.$element(),onSelectionChanged:this._onGanttViewSelectionChanged.bind(this),onScroll:this._onGanttViewScroll.bind(this),onDialogShowing:this._showDialog.bind(this),onPopupMenuShowing:this._showPopupMenu.bind(this),onExpandAll:this._expandAll.bind(this),onCollapseAll:this._collapseAll.bind(this),modelChangesListener:this._createModelChangesListener(),taskTooltipContentTemplate:this._getTaskTooltipContentTemplateFunc(this.option("taskTooltipContentTemplate")),onTaskClick:function(t){e._onTreeListRowClick(t)},onTaskDblClick:function(t){e._onTreeListRowDblClick(t)}}),this._fireContentReadyAction())}},{key:"_onApplyPanelSize",value:function(e){this._setInnerElementsWidth(e)}},{key:"_onTreeListContentReady",value:function(e){e.component.getDataSource()&&(this._initGanttView(),this._initScrollSync(e.component))}},{key:"_onTreeListRowPrepared",value:function(e){"data"===e.rowType&&e.node.children.length>0&&(0,o.default)(e.rowElement).addClass(F)}},{key:"_onTreeListContextMenuPreparing",value:function(e){var t,n;"data"===(null===(t=e.row)||void 0===t?void 0:t.rowType)&&this._setTreeListOption("selectedRowKeys",[e.row.data[this.option("tasks.keyExpr")]]),e.items=[];var i={cancel:!1,event:e.event,type:"task",key:null===(n=e.row)||void 0===n?void 0:n.key,position:{x:e.event.pageX,y:e.event.pageY}};this._showPopupMenu(i)}},{key:"_onTreeListRowClick",value:function(e){this._raiseTaskClickAction(e.key,e.event)}},{key:"_onTreeListRowDblClick",value:function(e){this._raiseTaskDblClickAction(e.key,e.event)&&this._ganttView._ganttViewCore.commandManager.showTaskEditDialog.execute()}},{key:"_onTreeListSelectionChanged",value:function(e){var t=e.currentSelectedRowKeys[0];this._setGanttViewOption("selectedRowKey",t),this.option("selectedRowKey",t),this._raiseSelectionChangedAction(t)}},{key:"_onTreeListRowCollapsed",value:function(e){this._ganttView.changeTaskExpanded(e.key,!1),this._adjustHeight()}},{key:"_onTreeListRowExpanded",value:function(e){this._ganttView.changeTaskExpanded(e.key,!0),this._adjustHeight()}},{key:"_adjustHeight",value:function(){this._hasHeight||(this._setGanttViewOption("height",0),this._setGanttViewOption("height",this._treeList._$element.get(0).offsetHeight))}},{key:"_getTreeListHeight",value:function(){return this._$treeList.height()?this._$treeList.height():(this._hasHeight=(0,r.isDefined)(this.option("height"))&&""!==this.option("height"),this._hasHeight?"100%":"")}},{key:"_onGanttViewSelectionChanged",value:function(e){this._setTreeListOption("selectedRowKeys",this._getArrayFromOneElement(e.id))}},{key:"_onGanttViewScroll",value:function(e){var t=this._treeList.getScrollable();if(t){var n=e.scrollTop-t.scrollTop();0!==n&&t.scrollBy({left:0,top:n})}}},{key:"_onTreeListScroll",value:function(e){var t=this._ganttView.getTaskAreaContainer();t.scrollTop!==e.component.scrollTop()&&(t.scrollTop=e.component.scrollTop())}},{key:"_expandAll",value:function(){var e=this;this._treeList.forEachNode((function(t){t.children&&t.children.length&&(e._treeList.expandRow(t.key),e._ganttView.changeTaskExpanded(t.key,!0))}))}},{key:"_collapseAll",value:function(){var e=this;this._treeList.forEachNode((function(t){t.children&&t.children.length&&(e._treeList.collapseRow(t.key),e._ganttView.changeTaskExpanded(t.key,!1))}))}},{key:"_initScrollSync",value:function(e){var t=this,n=e.getScrollable();n&&(n.off("scroll"),n.on("scroll",(function(e){t._onTreeListScroll(e)})))}},{key:"_getTreeListRowHeight",value:function(){var e=this._treeList._$element.find(".dx-data-row"),t=e.length?(0,p.getBoundingRect)(e.last().get(0)).height:j;return t||j}},{key:"_getTreeListHeaderHeight",value:function(){return(0,p.getBoundingRect)(this._treeList._$element.find(".dx-treelist-headers").get(0)).height}},{key:"_setInnerElementsWidth",value:function(e){if((0,f.hasWindow)()){e||(e=this._getPanelsWidthByOption());var t=e.leftPanelWidth,n=e.rightPanelWidth;this._$treeListWrapper.width(t);var i=(0,r.isString)(t)&&"%"===t.slice(-1);this._$treeList.width(i?"100%":t),this._$ganttView.width(n),this._setGanttViewOption("width",this._$ganttView.width())}}},{key:"_getPanelsWidthByOption",value:function(){return{leftPanelWidth:this.option("taskListWidth"),rightPanelWidth:this._$element.width()-this.option("taskListWidth")}}},{key:"_setGanttViewOption",value:function(e,t){this._ganttView&&this._ganttView.option(e,t)}},{key:"_setTreeListOption",value:function(e,t){this._treeList&&this._treeList.option(e,t)}},{key:"_refreshDataSource",value:function(e){var t=this,n=this["_".concat(e,"Option")];n&&(n._disposeDataSource(),delete this["_".concat(e,"Option")],delete this["_".concat(e)]),this.option("".concat(e,".dataSource"))&&(n=new g.default(e,this._getLoadPanel(),(function(e,n){t._dataSourceChanged(e,n)})),n.option("dataSource",this._getSpecificDataSourceOption(e)),n._refreshDataSource(),this["_".concat(e,"Option")]=n)}},{key:"_getSpecificDataSourceOption",value:function(e){var t=this.option("".concat(e,".dataSource"));return Array.isArray(t)?{store:{type:"array",data:t,key:this.option("".concat(e,".keyExpr"))}}:t}},{key:"_compileGettersByOption",value:function(e){var t={},n=this.option(e);for(var i in n){var o=i.match(/(\w*)Expr/);o&&(t[o[1]]=(0,l.compileGetter)(n[o[0]]))}return t}},{key:"_compileSettersByOption",value:function(e){var t={},n=this.option(e);for(var i in n){var o=i.match(/(\w*)Expr/);o&&(t[o[1]]=(0,l.compileSetter)(n[o[0]]))}return t}},{key:"_getStoreObject",value:function(e,t){var n=this._compileSettersByOption(e);return Object.keys(n).reduce((function(e,i){return"key"!==i&&n[i](e,t[i]),e}),{})}},{key:"_prepareSetterMapHandler",value:function(e){return function(t){return Object.keys(e).reduce((function(n,i){var o="key"===i?"id":i;return e[i](n,t[o]),n}),{})}}},{key:"_prepareMapHandler",value:function(e){return function(t){return Object.keys(e).reduce((function(n,i){var o="key"===i?"id":i;return n[o]=e[i](t),n}),{})}}},{key:"_dataSourceChanged",value:function(e,t){var n=this,i=this._compileGettersByOption(e),o=t.map(this._prepareMapHandler(i));if(this["_".concat(e)]=o,this._setGanttViewOption(e,o),e===H){this._tasksRaw=t;var r=t.map((function(e){return e[n.option("tasks.parentIdExpr")]})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));this._setTreeListOption("expandedRowKeys",r),this._setTreeListOption("dataSource",t)}}},{key:"_createModelChangesListener",value:function(){var e=this;return{NotifyTaskCreated:function(t,n,i){e._onRecordInserted(H,t,n)},NotifyTaskRemoved:function(t,n){e._onRecordRemoved(H,t)},NotifyTaskTitleChanged:function(t,n,i){e._onRecordUpdated(H,t,"title",n)},NotifyTaskDescriptionChanged:function(t,n,i){e._onRecordUpdated(H,t,"description",n)},NotifyTaskStartChanged:function(t,n,i){e._onRecordUpdated(H,t,"start",n)},NotifyTaskEndChanged:function(t,n,i){e._onRecordUpdated(H,t,"end",n)},NotifyTaskProgressChanged:function(t,n,i){e._onRecordUpdated(H,t,"progress",n)},NotifyDependencyInserted:function(t,n,i){e._onRecordInserted(W,t,n)},NotifyDependencyRemoved:function(t,n){e._onRecordRemoved(W,t)},NotifyResourceCreated:function(t,n,i){e._onRecordInserted(z,t,n)},NotifyResourceRemoved:function(t,n){e._onRecordRemoved(z,t)},NotifyResourceAssigned:function(t,n,i){e._onRecordInserted(K,t,n)},NotifyResourceUnassigned:function(t,n){e._onRecordRemoved(K,t)},NotifyParentDataRecalculated:function(t){e._onParentTasksRecalculated(t)},NotifyTaskCreating:function(t){e._raiseInsertingAction(H,t)},NotifyTaskRemoving:function(t){e._raiseDeletingAction(H,t)},NotifyTaskUpdating:function(t){e._raiseUpdatingAction(H,t)},NotifyTaskMoving:function(t){e._raiseUpdatingAction(H,t,e._getTaskMovingAction())},NotifyTaskEditDialogShowing:function(t){e._raiseTaskEditDialogShowingAction(t)},NotifyDependencyInserting:function(t){e._raiseInsertingAction(W,t)},NotifyDependencyRemoving:function(t){e._raiseDeletingAction(W,t)},NotifyResourceCreating:function(t){e._raiseInsertingAction(z,t)},NotifyResourceRemoving:function(t){e._raiseDeletingAction(z,t)},NotifyResourceAssigning:function(t){e._raiseInsertingAction(K,t)},NotifyResourceUnassigning:function(t){e._raiseDeletingAction(K,t)}}}},{key:"_onRecordInserted",value:function(e,t,n){var i=this,o=this["_".concat(e,"Option")];if(o){var r=this._getStoreObject(e,t);e===H&&this._addCustomFieldsDataFromCache(U,r),o.insert(r,(function(o){var r=(0,l.compileGetter)(i.option("".concat(e,".keyExpr"))),a=r(o);if(n(a),e===H){i._updateTreeListDataSource();var s=t.parentId;if(void 0!==s){var d=i._treeList.option("expandedRowKeys");-1===d.indexOf(s)&&(d.push(s),i._treeList.option("expandedRowKeys",d))}i._setTreeListOption("selectedRowKeys",i._getArrayFromOneElement(a)),i._setTreeListOption("focusedRowKey",a)}}))}}},{key:"_onRecordRemoved",value:function(e,t){var n=this,i=this["_".concat(e,"Option")];i&&i.remove(t,(function(){e===H&&n._updateTreeListDataSource()}))}},{key:"_onRecordUpdated",value:function(e,t,n,i){var o=this,r=this["_".concat(e,"Option")],a=e===H;if(r){var s=(0,l.compileSetter)(this.option("".concat(e,".").concat(n,"Expr"))),d={};s(d,i);var u=a&&this._cache.hasData(t);u&&this._addCustomFieldsDataFromCache(t,d),r.update(t,d,(function(){a&&(u&&r._refreshDataSource(),o._updateTreeListDataSource())}))}}},{key:"_onParentTasksRecalculated",value:function(e){var t=this._compileSettersByOption(H),n=this._appendCustomFields(e.map(this._prepareSetterMapHandler(t)));this._setTreeListOption("dataSource",n)}},{key:"_appendCustomFields",value:function(e){var t=this._tasksOption&&this._tasksOption._getItems(),n=(0,l.compileGetter)(this.option("".concat(H,".keyExpr")));return e.reduce((function(e,i){var o=t&&t.filter((function(e){return n(e)===n(i)}))[0];if(o){var r={};for(var a in o)r[a]=Object.prototype.hasOwnProperty.call(i,a)?i[a]:o[a];e.push(r)}else e.push(i);return e}),[])}},{key:"_updateTreeListDataSource",value:function(){if(!this._skipUpdateTreeListDataSource()){var e=this.option("tasks.dataSource"),t=this._tasksOption._getStore()._array||e.items&&e.items();this._setTreeListOption("dataSource",t||e)}}},{key:"_skipUpdateTreeListDataSource",value:function(){return this.option("validation.autoUpdateParentTasks")}},{key:"_addCustomFieldsDataFromCache",value:function(e,t){this._cache.pullDataFromCache(e,t)}},{key:"_saveCustomFieldsDataToCache",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this._getCustomFieldsData(t);if(Object.keys(o).length>0){var r=function(e,t){var i=n["_".concat(H,"Option")];i&&t&&i.update(e,t,(function(){n._updateTreeListDataSource(),i._refreshDataSource()}))};this._cache.saveData(e,o,i?r:null)}}},{key:"_getLoadPanel",value:function(){return this._loadPanel||(this._loadPanel=this._createComponent(this._$loadPanel,_.default,{position:{of:this.$element()}})),this._loadPanel}},{key:"_createSelectionChangedAction",value:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")}},{key:"_createTaskClickAction",value:function(){this._taskClickAction=this._createActionByOption("onTaskClick")}},{key:"_createTaskDblClickAction",value:function(){this._taskDblClickAction=this._createActionByOption("onTaskDblClick")}},{key:"_createCustomCommandAction",value:function(){this._customCommandAction=this._createActionByOption("onCustomCommand")}},{key:"_createContextMenuPreparingAction",value:function(){this._contextMenuPreparingAction=this._createActionByOption("onContextMenuPreparing")}},{key:"_raiseSelectionChangedAction",value:function(e){this._selectionChangedAction||this._createSelectionChangedAction(),this._selectionChangedAction({selectedRowKey:e})}},{key:"_raiseCustomCommand",value:function(e){this._customCommandAction||this._createCustomCommandAction(),this._customCommandAction({name:e})}},{key:"_raiseContextMenuPreparing",value:function(e){this._contextMenuPreparingAction||this._createContextMenuPreparingAction(),this._contextMenuPreparingAction(e)}},{key:"_raiseInsertingAction",value:function(e,t){var n=this._getInsertingAction(e);if(n){var i={cancel:!1,values:this._convertCoreToMappedData(e,t.values)};n(i),t.cancel=i.cancel,t.values=this._convertMappedToCoreData(e,i.values),e===H&&this._saveCustomFieldsDataToCache(U,i.newValues)}}},{key:"_raiseDeletingAction",value:function(e,t){var n=this._getDeletingAction(e);if(n){var i={cancel:!1,key:t.key,values:this._convertCoreToMappedData(e,t.values)};n(i),t.cancel=i.cancel}}},{key:"_raiseUpdatingAction",value:function(e,t,n){if(n=n||this._getUpdatingAction(e),n){var i={cancel:!1,key:t.key,newValues:this._convertCoreToMappedData(e,t.newValues),values:this._convertCoreToMappedData(e,t.values)};n(i),t.cancel=i.cancel,t.newValues=this._convertMappedToCoreData(e,i.newValues),e===H&&this._saveCustomFieldsDataToCache(i.key,i.newValues)}}},{key:"_raiseTaskEditDialogShowingAction",value:function(e){var t=this._getTaskEditDialogShowingAction();if(t){var n={cancel:!1,key:e.key,values:this._convertCoreToMappedData(H,e.values),readOnlyFields:this._convertCoreToMappedFields(H,e.readOnlyFields),hiddenFields:this._convertCoreToMappedFields(H,e.hiddenFields)};t(n),e.cancel=n.cancel,e.values=this._convertMappedToCoreData(H,n.values),e.readOnlyFields=this._convertMappedToCoreFields(H,n.readOnlyFields),e.hiddenFields=this._convertMappedToCoreFields(H,n.hiddenFields)}}},{key:"_raiseTaskClickAction",value:function(e,t){this._taskClickAction||this._createTaskClickAction();var n={key:e,event:t,data:this.getTaskData(e)};this._taskClickAction(n)}},{key:"_raiseTaskDblClickAction",value:function(e,t){this._taskDblClickAction||this._createTaskDblClickAction();var n={cancel:!1,data:this.getTaskData(e),event:t,key:e};return this._taskDblClickAction(n),!n.cancel}},{key:"_getInsertingAction",value:function(e){switch(e){case H:return this._getTaskInsertingAction();case W:return this._getDependencyInsertingAction();case z:return this._getResourceInsertingAction();case K:return this._getResourceAssigningAction()}return function(){}}},{key:"_getDeletingAction",value:function(e){switch(e){case H:return this._getTaskDeletingAction();case W:return this._getDependencyDeletingAction();case z:return this._getResourceDeletingAction();case K:return this._getResourceUnassigningAction()}return function(){}}},{key:"_getUpdatingAction",value:function(e){switch(e){case H:return this._getTaskUpdatingAction()}return function(){}}},{key:"_getTaskInsertingAction",value:function(){return this._taskInsertingAction||this._createTaskInsertingAction(),this._taskInsertingAction}},{key:"_getTaskDeletingAction",value:function(){return this._taskDeletingAction||this._createTaskDeletingAction(),this._taskDeletingAction}},{key:"_getTaskUpdatingAction",value:function(){return this._taskUpdatingAction||this._createTaskUpdatingAction(),this._taskUpdatingAction}},{key:"_getTaskMovingAction",value:function(){return this._taskMovingAction||this._createTaskMovingAction(),this._taskMovingAction}},{key:"_getTaskEditDialogShowingAction",value:function(){return this._taskEditDialogShowingAction||this._createTaskEditDialogShowingAction(),this._taskEditDialogShowingAction}},{key:"_getDependencyInsertingAction",value:function(){return this._dependencyInsertingAction||this._createDependencyInsertingAction(),this._dependencyInsertingAction}},{key:"_getDependencyDeletingAction",value:function(){return this._dependencyDeletingAction||this._createDependencyDeletingAction(),this._dependencyDeletingAction}},{key:"_getResourceInsertingAction",value:function(){return this._resourceInsertingAction||this._createResourceInsertingAction(),this._resourceInsertingAction}},{key:"_getResourceDeletingAction",value:function(){return this._resourceDeletingAction||this._createResourceDeletingAction(),this._resourceDeletingAction}},{key:"_getResourceAssigningAction",value:function(){return this._resourceAssigningAction||this._createResourceAssigningAction(),this._resourceAssigningAction}},{key:"_getResourceUnassigningAction",value:function(){return this._resourceUnassigningAction||this._createResourceUnassigningAction(),this._resourceUnassigningAction}},{key:"_createResourceUnassigningAction",value:function(){this._resourceUnassigningAction=this._createActionByOption("onResourceUnassigning")}},{key:"_createTaskInsertingAction",value:function(){this._taskInsertingAction=this._createActionByOption("onTaskInserting")}},{key:"_createTaskDeletingAction",value:function(){this._taskDeletingAction=this._createActionByOption("onTaskDeleting")}},{key:"_createTaskUpdatingAction",value:function(){this._taskUpdatingAction=this._createActionByOption("onTaskUpdating")}},{key:"_createTaskMovingAction",value:function(){this._taskMovingAction=this._createActionByOption("onTaskMoving")}},{key:"_createTaskEditDialogShowingAction",value:function(){this._taskEditDialogShowingAction=this._createActionByOption("onTaskEditDialogShowing")}},{key:"_createDependencyInsertingAction",value:function(){this._dependencyInsertingAction=this._createActionByOption("onDependencyInserting")}},{key:"_createDependencyDeletingAction",value:function(){this._dependencyDeletingAction=this._createActionByOption("onDependencyDeleting")}},{key:"_createResourceInsertingAction",value:function(){this._resourceInsertingAction=this._createActionByOption("onResourceInserting")}},{key:"_createResourceDeletingAction",value:function(){this._resourceDeletingAction=this._createActionByOption("onResourceDeleting")}},{key:"_createResourceAssigningAction",value:function(){this._resourceAssigningAction=this._createActionByOption("onResourceAssigning")}},{key:"_convertCoreToMappedData",value:function(e,t){var n=this;return Object.keys(t).reduce((function(i,o){var r=n._getMappedFieldName(e,o);if(r){var a=(0,l.compileSetter)(r);a(i,t[o])}return i}),{})}},{key:"_convertMappedToCoreData",value:function(e,t){var n={};if(t){var i=this.option(e);for(var o in i){var r=o.match(G),a=r&&i[r[0]];if(a&&void 0!==t[a]){var s=(0,l.compileGetter)(a),d=r[1];n[d]=s(t)}}}return n}},{key:"_getMappedFieldName",value:function(e,t){var n=t;return"id"===t&&(n="key"),this.option("".concat(e,".").concat(n,"Expr"))}},{key:"_convertCoreToMappedFields",value:function(e,t){var n=this;return t.reduce((function(t,i){var o=n._getMappedFieldName(e,i);return o&&t.push(o),t}),[])}},{key:"_convertMappedToCoreFields",value:function(e,t){var n=[],i=this.option(e);for(var o in i){var r=o.match(G),a=r&&i[r[0]];if(a&&t.indexOf(a)>-1){var s=r[1];n.push(s)}}return n}},{key:"_getTaskMappedFieldNames",value:function(){var e=[],t=this.option(H);for(var n in t){var i=n.match(G),o=i&&t[i[0]];o&&e.push(o)}return e}},{key:"_getTaskCustomFields",value:function(){var e=this.option("columns"),t=e&&e.map((function(e){return e.dataField})),n=this._getTaskMappedFieldNames();return t?t.filter((function(e){return n.indexOf(e)<0})):[]}},{key:"_getCustomFieldsData",value:function(e){return this._getTaskCustomFields().reduce((function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}},{key:"_addCustomFieldsData",value:function(e,t){if(t)for(var n=this._tasksOption&&this._tasksOption._getItems(),i=(0,l.compileGetter)(this.option("".concat(H,".keyExpr"))),o=n&&n.filter((function(t){return i(t)===e}))[0],r=this._getTaskCustomFields(),a=0;a<r.length;a++){var s=r[a];Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}}},{key:"_getSelectionMode",value:function(e){return e?"single":"none"}},{key:"_getArrayFromOneElement",value:function(e){return void 0===e||null===e?[]:[e]}},{key:"_getToolbarItems",value:function(){var e=this.option("toolbar.items");return e||[]}},{key:"_updateToolbarContent",value:function(){var e=this._getToolbarItems();e.length?this._$toolbarWrapper.show():this._$toolbarWrapper.hide(),this._toolbar&&this._toolbar.createItems(e),this._updateBarItemsState()}},{key:"_updateContextMenu",value:function(){var e=this.option("contextMenu");e.enabled&&this._contextMenuBar&&(this._contextMenuBar.createItems(e.items),this._updateBarItemsState())}},{key:"_updateBarItemsState",value:function(){this._ganttView&&this._ganttView.updateBarItemsState()}},{key:"_showDialog",value:function(e){this._dialogInstance||(this._dialogInstance=new v.GanttDialog(this,this._$dialog)),this._dialogInstance.show(e.name,e.parameters,e.callback,e.afterClosing,this.option("editing"))}},{key:"_showPopupMenu",value:function(e){if(this.option("contextMenu.enabled")){this._ganttView.getBarManager().updateContextMenu();var t={cancel:!1,event:e.event,targetType:e.type,targetKey:e.key,items:(0,h.extend)(!0,[],this._contextMenuBar._items),data:"task"===e.type?this.getTaskData(e.key):this.getDependencyData(e.key)};this._raiseContextMenuPreparing(t),t.cancel||this._contextMenuBar.show(e.position,t.items)}}},{key:"_executeCoreCommand",value:function(e){this._ganttView.executeCoreCommand(e)}},{key:"_clean",value:function(){delete this._ganttView,delete this._dialogInstance,I(P(n.prototype),"_clean",this).call(this)}},{key:"_getTaskTooltipContentTemplateFunc",value:function(e){var t=this,n=!0,i=e&&this._getTemplate(e),r=i&&function(e,r){return i.render({model:t.getTaskDataByCoreData(r),container:(0,y.getPublicElement)((0,o.default)(e))}),n};return r}},{key:"_getDefaultOptions",value:function(){return(0,h.extend)(I(P(n.prototype),"_getDefaultOptions",this).call(this),{tasks:{dataSource:null,keyExpr:"id",parentIdExpr:"parentId",startExpr:"start",endExpr:"end",progressExpr:"progress",titleExpr:"title",colorExpr:"color"},dependencies:{dataSource:null,keyExpr:"id",predecessorIdExpr:"predecessorId",successorIdExpr:"successorId",typeExpr:"type"},resources:{dataSource:null,keyExpr:"id",textExpr:"text",colorExpr:"color"},resourceAssignments:{dataSource:null,keyExpr:"id",taskIdExpr:"taskId",resourceIdExpr:"resourceId"},columns:void 0,taskListWidth:300,showResources:!0,taskTitlePosition:"inside",firstDayOfWeek:void 0,selectedRowKey:void 0,onSelectionChanged:null,onTaskClick:null,onTaskDblClick:null,onTaskInserting:null,onTaskDeleting:null,onTaskUpdating:null,onTaskMoving:null,onTaskEditDialogShowing:null,onDependencyInserting:null,onDependencyDeleting:null,onResourceInserting:null,onResourceDeleting:null,onResourceAssigning:null,onResourceUnassigning:null,onCustomCommand:null,onContextMenuPreparing:null,allowSelection:!0,showRowLines:!0,stripLines:void 0,scaleType:"auto",editing:{enabled:!1,allowTaskAdding:!0,allowTaskDeleting:!0,allowTaskUpdating:!0,allowDependencyAdding:!0,allowDependencyDeleting:!0,allowResourceAdding:!0,allowResourceDeleting:!0,allowResourceUpdating:!0,allowTaskResourceUpdating:!0},validation:{validateDependencies:!1,autoUpdateParentTasks:!1},toolbar:null,contextMenu:{enabled:!0,items:void 0},taskTooltipContentTemplate:null,rootValue:0})}},{key:"getTaskResources",value:function(e){var t=this;if(!(0,r.isDefined)(e))return null;var n=this._ganttView._ganttViewCore.getTaskResources(e);return n.map((function(e){return t._convertCoreToMappedData(z,e)}))}},{key:"getVisibleTaskKeys",value:function(){return this._ganttView._ganttViewCore.getVisibleTaskKeys()}},{key:"getVisibleDependencyKeys",value:function(){return this._ganttView._ganttViewCore.getVisibleDependencyKeys()}},{key:"getVisibleResourceKeys",value:function(){return this._ganttView._ganttViewCore.getVisibleResourceKeys()}},{key:"getVisibleResourceAssignmentKeys",value:function(){return this._ganttView._ganttViewCore.getVisibleResourceAssignmentKeys()}},{key:"getTaskData",value:function(e){if(!(0,r.isDefined)(e))return null;var t=this._ganttView._ganttViewCore.getTaskData(e),n=this.getTaskDataByCoreData(t);return n}},{key:"getTaskDataByCoreData",value:function(e){var t=e?this._convertCoreToMappedData(H,e):null;return this._addCustomFieldsData(e.id,t),t}},{key:"insertTask",value:function(e){this._saveCustomFieldsDataToCache(U,e),this._ganttView._ganttViewCore.insertTask(this._convertMappedToCoreData(H,e))}},{key:"deleteTask",value:function(e){this._ganttView._ganttViewCore.deleteTask(e)}},{key:"updateTask",value:function(e,t){this._saveCustomFieldsDataToCache(e,t,!0),this._ganttView._ganttViewCore.updateTask(e,this._convertMappedToCoreData(H,t))}},{key:"getDependencyData",value:function(e){if(!(0,r.isDefined)(e))return null;var t=this._ganttView._ganttViewCore.getDependencyData(e);return t?this._convertCoreToMappedData(W,t):null}},{key:"insertDependency",value:function(e){this._ganttView._ganttViewCore.insertDependency(this._convertMappedToCoreData(W,e))}},{key:"deleteDependency",value:function(e){this._ganttView._ganttViewCore.deleteDependency(e)}},{key:"getResourceData",value:function(e){var t=this._ganttView._ganttViewCore.getResourceData(e);return t?this._convertCoreToMappedData(z,t):null}},{key:"deleteResource",value:function(e){this._ganttView._ganttViewCore.deleteResource(e)}},{key:"insertResource",value:function(e,t){this._ganttView._ganttViewCore.insertResource(this._convertMappedToCoreData(z,e),t)}},{key:"getResourceAssignmentData",value:function(e){var t=this._ganttView._ganttViewCore.getResourceAssignmentData(e);return t?this._convertCoreToMappedData(K,t):null}},{key:"assignResourceToTask",value:function(e,t){this._ganttView._ganttViewCore.assignResourceToTask(e,t)}},{key:"unassignResourceFromTask",value:function(e,t){this._ganttView._ganttViewCore.unassignResourceFromTask(e,t)}},{key:"updateDimensions",value:function(){this._setInnerElementsWidth()}},{key:"_optionChanged",value:function(e){switch(e.name){case"tasks":this._refreshDataSource(H);break;case"dependencies":this._refreshDataSource(W);break;case"resources":this._refreshDataSource(z);break;case"resourceAssignments":this._refreshDataSource(K);break;case"columns":this._setTreeListOption("columns",this.option(e.name));break;case"taskListWidth":this._setInnerElementsWidth();break;case"showResources":this._setGanttViewOption("showResources",e.value);break;case"taskTitlePosition":this._setGanttViewOption("taskTitlePosition",e.value);break;case"firstDayOfWeek":this._setGanttViewOption("firstDayOfWeek",e.value);break;case"selectedRowKey":this._setTreeListOption("selectedRowKeys",this._getArrayFromOneElement(e.value));break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"onTaskClick":this._createTaskClickAction();break;case"onTaskDblClick":this._createTaskDblClickAction();break;case"onTaskInserting":this._createTaskInsertingAction();break;case"onTaskDeleting":this._createTaskDeletingAction();break;case"onTaskUpdating":this._createTaskUpdatingAction();break;case"onTaskMoving":this._createTaskMovingAction();break;case"onTaskEditDialogShowing":this._createTaskEditDialogShowingAction();break;case"onDependencyInserting":this._createDependencyInsertingAction();break;case"onDependencyDeleting":this._createDependencyDeletingAction();break;case"onResourceInserting":this._createResourceInsertingAction();break;case"onResourceDeleting":this._createResourceDeletingAction();break;case"onResourceAssigning":this._createResourceAssigningAction();break;case"onResourceUnassigning":this._createResourceUnassigningAction();break;case"onCustomCommand":this._createCustomCommandAction();break;case"onContextMenuPreparing":this._createContextMenuPreparingAction();break;case"allowSelection":this._setTreeListOption("selection.mode",this._getSelectionMode(e.value)),this._setGanttViewOption("allowSelection",e.value);break;case"showRowLines":this._setTreeListOption("showRowLines",e.value),this._setGanttViewOption("showRowLines",e.value);break;case"stripLines":this._setGanttViewOption("stripLines",e.value);break;case"scaleType":this._setGanttViewOption("scaleType",e.value);break;case"editing":this._setGanttViewOption("editing",this.option(e.name));break;case"validation":this._setGanttViewOption("validation",this.option(e.name));break;case"toolbar":this._updateToolbarContent();break;case"contextMenu":this._updateContextMenu();break;case"taskTooltipContentTemplate":this._setGanttViewOption("taskTooltipContentTemplate",this._getTaskTooltipContentTemplateFunc(e.value));break;case"rootValue":this._setTreeListOption("rootValue",e.value);break;default:I(P(n.prototype),"_optionChanged",this).call(this,e)}}}]),n}(a.default);(0,s.default)("dxGantt",$);var q=$;t.default=q,e.exports=t.default},1176:function(e,t,n){"use strict";var i=s(n("832e")),o=n("d4b2"),r=n("b49b"),a=s(n("1f76"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=-1;return e.forEach((function(e,i){t(e)&&(n=i)})),n}i.default.registerModule("focus",(0,o.extend)(!0,{},a.default,{extenders:{controllers:{data:{changeRowExpand:function(e){return this.option("focusedRowEnabled")&&this.isRowExpanded(e)&&this._isFocusedRowInside(e)&&this.option("focusedRowKey",e),this.callBase.apply(this,arguments)},_isFocusedRowInside:function(e){var t=this.option("focusedRowKey"),n=this.getRowIndexByKey(t),i=n>=0&&this.getVisibleRows()[n],o=i&&i.node.parent;while(o){if(o.key===e)return!0;o=o.parent}return!1},getParentKey:function(e){var t=this,n=t._dataSource,i=t.getNodeByKey(e),o=new r.Deferred;return i?o.resolve(i.parent?i.parent.key:void 0):n.load({filter:[n.getKeyExpr(),"=",e]}).done((function(e){var t=e[0];t?o.resolve(n.parentKeyOf(t)):o.reject()})).fail(o.reject),o.promise()},expandAscendants:function(e){var t=this,n=t._dataSource,i=new r.Deferred;return t.getParentKey(e).done((function(e){n&&void 0!==e&&e!==t.option("rootValue")?(n._isNodesInitializing=!0,t.expandRow(e),n._isNodesInitializing=!1,t.expandAscendants(e).done(i.resolve).fail(i.reject)):i.resolve()})).fail(i.reject),i.promise()},getPageIndexByKey:function(e){var t=this,n=t._dataSource,i=new r.Deferred;return t.expandAscendants(e).done((function(){n.load({filter:t.getCombinedFilter(),sort:t.getController("columns").getSortDataSourceParameters(!n.remoteOperations().sorting),parentIds:[]}).done((function(n){var o=l(n,(function(n){return t.keyOf(n.data)===e})),r=t.pageIndex();o>=0&&(r=Math.floor(o/t.pageSize())),i.resolve(r)})).fail(i.reject)})).fail(i.reject),i.promise()}}}}}))},1376:function(e,t,n){"use strict";var i=a(n("832e")),o=a(n("b45e")),r=n("d4b2");function a(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("keyboardNavigation",(0,r.extend)(!0,{},o.default,{extenders:{controllers:{keyboardNavigation:{_leftRightKeysHandler:function(e,t){var n=this.getVisibleRowIndex(),i=this._dataController;if(!e.ctrl)return this.callBase.apply(this,arguments);var o=this._getDirectionCodeByKey(e.keyName),r=i.getKeyByRowIndex(n);"nextInRow"===o?i.expandRow(r):i.collapseRow(r)}}}}}))},1384:function(e,t,n){"use strict";t.default=void 0;var i=d(n("14a3")),o=n("9703"),r=n("2809"),a=n("ce5d"),s=d(n("1981")),l=d(n("ceb6"));function d(e){return e&&e.__esModule?e:{default:e}}var u="dx-context-menu",c={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"headerPanel"},h=["columnHeadersView","rowsView","footerView","headerPanel"],p=s.default.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(e){if(!e)return!1;var t,n,r,s,l=this,d=(0,i.default)(e.target);return(0,a.each)(h,(function(){var i=l.getView(this);if(t=i&&i.element(),t&&(t.is(d)||t.find(d).length)){r=d.closest(".dx-row > td, .dx-row > tr"),n=r.parent();var a=i.getRowIndex(n),u=r[0]&&r[0].cellIndex,h=n.data("options"),p={event:e,targetElement:(0,o.getPublicElement)(d),target:c[this],rowIndex:a,row:i._getRows()[a],columnIndex:u,column:h&&h.cells[u].column};if(p.items=i.getContextMenuItems&&i.getContextMenuItems(p),l.executeAction("onContextMenuPreparing",p),l._contextMenuPrepared(p),s=p.items,s)return!1}})),s},_contextMenuPrepared:r.noop}),f=s.default.View.inherit({_renderCore:function(){var e=this,t=e.element().addClass(u);this.setAria("role","presentation",t),this._createComponent(t,l.default,{onPositioning:function(t){var n=t.event,i=t.component,o=e.getController("contextMenu").getContextMenuItems(n);o?(i.option("items",o),n.stopPropagation()):t.cancel=!0},onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:e.getWidgetContainerClass(),target:e.component.$element()})}}),g={defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:p},views:{contextMenuView:f}};t.default=g,e.exports=t.default},1446:function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var o=a(n("b9dd")),r=a(n("39d2"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function h(e){var t=g();return function(){var n,i=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){u(n,e);var t=h(n);function n(e,i,o){var r;return s(this,n),r=t.call(this),r._optionName=e,r._loadPanel=i,r._dataSourceChangedCallback=o,r}return d(n,[{key:"insert",value:function(e,t,n){var i=this;this._showLoadPanel(),this._getStore().insert(e).done((function(e){t&&t(e),i._hideLoadPanel()})).fail((function(e){n&&n(e),i._hideLoadPanel()}))}},{key:"update",value:function(e,t,n,i){var o=this;this._showLoadPanel(),this._getStore().update(e,t).done((function(e,t){n&&n(e,t),o._hideLoadPanel()})).fail((function(e){i&&i(e),o._hideLoadPanel()}))}},{key:"remove",value:function(e,t,n){var i=this;this._showLoadPanel(),this._getStore().remove(e).done((function(e){t&&t(e),i._hideLoadPanel()})).fail((function(e){n&&n(e),i._hideLoadPanel()}))}},{key:"_dataSourceChangedHandler",value:function(e,t){this._dataSourceChangedCallback(this._optionName,e)}},{key:"_dataSourceOptions",value:function(){return{paginate:!1}}},{key:"_dataSourceLoadingChangedHandler",value:function(e){e&&!this._dataSource.isLoaded()?this._showLoadPanel():this._hideLoadPanel()}},{key:"_showLoadPanel",value:function(){this._loadPanel.show()}},{key:"_hideLoadPanel",value:function(){this._loadPanel.hide()}},{key:"_getStore",value:function(){return this._dataSource.store()}},{key:"_getItems",value:function(){return this._getStore()._array||this._dataSource.items()}}]),n}(o.default);v.include(r.default);var _=v;t.default=_,e.exports=t.default},"16a3":function(e,t,n){"use strict";t.default=void 0;var i=m(n("14a3")),o=m(n("b547")),r=m(n("8de2")),a=m(n("1981")),s=n("5c27"),l=m(n("4f86")),d=m(n("be58")),u=n("1820"),c=m(n("b876")),h=n("d4b2"),p=n("5e04"),f=m(n("91a1")),g=m(n("f12e"));function m(e){return e&&e.__esModule?e:{default:e}}var v="dx-editor-inline-block",_="dx-cell-focus-disabled",y="focus-overlay",C="content",w="dx-focused",x="dx-row",b="dxDataGridEditorFactory",T=(0,u.addNamespace)([l.default.down,"focusin",s.name].join(" "),b),I="dx-hidden",S=a.default.ViewController.inherit({_getFocusedElement:function(e){var t=this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus",n="td[tabindex]:focus, ".concat(t,", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus");return e.find(n)},_getFocusCellSelector:function(){return".dx-row > td"},_updateFocusCore:function(){var e,t,n=this._$focusedElement,i=this.component&&this.component.$element();i&&(n=this._getFocusedElement(i),n.length&&(n.hasClass(_)||n.hasClass(x)||(e=n.closest(this._getFocusCellSelector()+", ."+_),t=e.get(0)!==n.get(0)&&e.hasClass(v),n=e),n.length&&!n.hasClass(_)))?this.focus(n,t):this.loseFocus()},_updateFocus:function(e){var t=this,n=e&&e.event&&(0,i.default)(e.event.target).hasClass(t.addWidgetPrefix(y));t._isFocusOverlay=t._isFocusOverlay||n,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout((function(){delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1}))},_updateFocusOverlaySize:function(e,t){e.hide();var n=d.default.calculate(e,(0,h.extend)({collision:"fit"},t));n.h.oversize>0&&e.outerWidth(e.outerWidth()-n.h.oversize),n.v.oversize>0&&e.outerHeight(e.outerHeight()-n.v.oversize),e.show()},callbackNames:function(){return["focused"]},focus:function(e,t){var n=this;if(void 0===e)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass(w),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout((function(){delete n._focusTimeoutID,n.renderFocusOverlay(e,t),e.addClass(w),n.focused.fire(e)})))},refocus:function(){var e=this.focus();this.focus(e)},renderFocusOverlay:function(e,t){var n=this;if(g.default.isElementInCurrentGrid(this,e))if(n._$focusOverlay||(n._$focusOverlay=(0,i.default)("<div>").addClass(n.addWidgetPrefix(y))),t)n._$focusOverlay.addClass(I);else if(e.length){var o=c.default.msie?"left bottom":c.default.mozilla?"right bottom":"left top",r=e.closest("."+n.addWidgetPrefix(C)),a=(0,p.getBoundingRect)(e.get(0));n._$focusOverlay.removeClass(I).appendTo(r).outerWidth(a.right-a.left+1).outerHeight(a.bottom-a.top+1);var s={precise:!0,my:o,at:o,of:e,boundary:r.length&&r};n._updateFocusOverlaySize(n._$focusOverlay,s),d.default.setup(n._$focusOverlay,s),n._$focusOverlay.css("visibility","visible")}},resize:function(){var e=this._$focusedElement;e&&this.focus(e)},loseFocus:function(){this._$focusedElement&&this._$focusedElement.removeClass(w),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(I)},init:function(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),r.default.on(o.default.getDocument(),T,this._updateFocusHandler),this._attachContainerEventHandlers()},_attachContainerEventHandlers:function(){var e=this,t=e.component&&e.component.$element();t&&r.default.on(t,(0,u.addNamespace)("keydown",b),(function(t){"tab"===(0,u.normalizeKeyName)(t)&&e._updateFocusHandler(t)}))},dispose:function(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),r.default.off(o.default.getDocument(),T,this._updateFocusHandler)}}).include(f.default),k={defaultOptions:function(){return{}},controllers:{editorFactory:S}};t.default=k,e.exports=t.default},"16d6":function(e,t,n){},1981:function(e,t,n){"use strict";t.default=void 0;var i=f(n("14a3")),o=f(n("8de2")),r=f(n("e6aa")),a=f(n("718c")),s=n("2809"),l=n("b62d"),d=n("5e98"),u=n("ce5d"),c=f(n("0fc0")),h=f(n("8a64")),p=n("706b");function f(e){return e&&e.__esModule?e:{default:e}}var g="dxDataGrid",m=r.default.inherit({_endUpdateCore:function(){},ctor:function(e){var t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},(0,u.each)(this.callbackNames()||[],(function(e,n){var i=t.callbackFlags(n)||{};i.unique=!0,i.syncStrategy=!0,t[this]=(0,a.default)(i)}))},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())},option:function(e){var t=this.component,n=t._optionCache;return 1===arguments.length&&n?(e in n||(n[e]=t.option(e)),n[e]):t.option.apply(t,arguments)},_silentOption:function(e,t){var n=this.component,i=n._optionCache;return i&&(i[e]=t),n._setOptionWithoutOptionChange(e,t)},localize:function(e){var t=this.component._optionCache;return t?(e in t||(t[e]=h.default.format(e)),t[e]):h.default.format(e)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)},getAction:function(e){return this._actions[e]},setAria:function(e,t,n){var i=n.get(0),o="role"!==e&&"id"!==e?"aria-":"";i.setAttribute?i.setAttribute(o+e,t):n.attr(o+e,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(e){return this.component._controllers[e]},createAction:function(e,t){if((0,l.isFunction)(e)){var n=this.component._createAction(e.bind(this),t);return function(e){n({event:e})}}this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t},executeAction:function(e,t){var n=this._actions[e];return n&&n(t)},dispose:function(){var e=this;(0,u.each)(e.callbackNames()||[],(function(){e[this].empty()}))},addWidgetPrefix:function(e){var t=this.component.NAME;return"dx-"+t.slice(2).toLowerCase()+(e?"-"+e:"")},getWidgetContainerClass:function(){var e=this.component.NAME===g?null:"container";return this.addWidgetPrefix(e)}}),v=m,_=v.inherit({getView:function(e){return this.component._views[e]},getViews:function(){return this.component._views}}),y=m.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(e,t){this._requireRender=!0,this.component._requireResize=(0,p.hasWindow)()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_afterRender:function(){},_parentElement:function(){return this._$parent},ctor:function(e){this.callBase(e),this.renderCompleted=(0,a.default)(),this.resizeCompleted=(0,a.default)()},element:function(){return this._$element},getElementHeight:function(){var e=this.element();if(!e)return 0;var t=parseFloat(e.css("marginTop"))||0,n=parseFloat(e.css("marginBottom"))||0,i=e.get(0).offsetHeight;return i+t+n},isVisible:function(){return!0},getTemplate:function(e){return this.component._getTemplate(e)},render:function(e,t){var n=this._$element,o=this.isVisible();(n||e)&&(this._requireReady=!1,n||(n=this._$element=(0,i.default)("<div>").appendTo(e),this._$parent=e),n.toggleClass("dx-hidden",!o),o&&(this.component._optionCache={},this._renderCore(t),this.component._optionCache=void 0,this._afterRender(e),this.renderCompleted.fire(t)))},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(){o.default.trigger(this.element(),"focus")}}),C=1e6,w=function(e,t){var n=t.modules,i=t.modulesOrder,o=t.controllerTypes||{},r=t.viewTypes||{};t.controllerTypes||(i&&n.sort((function(e,t){var n=(0,d.inArray)(e.name,i),o=(0,d.inArray)(t.name,i);return n<0&&(n=C),o<0&&(o=C),n-o})),(0,u.each)(n,(function(){var e=this.controllers,t=this.name,n=this.views;e&&(0,u.each)(e,(function(e,n){if(o[e])throw c.default.Error("E1001",t,e);if(!(n&&n.subclassOf&&n.subclassOf(v)))throw n.subclassOf(v),c.default.Error("E1002",t,e);o[e]=n})),n&&(0,u.each)(n,(function(e,n){if(r[e])throw c.default.Error("E1003",t,e);if(!(n&&n.subclassOf&&n.subclassOf(y)))throw c.default.Error("E1004",t,e);r[e]=n}))})),(0,u.each)(n,(function(){var e=this.extenders;e&&(e.controllers&&(0,u.each)(e.controllers,(function(e,t){o[e]&&(o[e]=o[e].inherit(t))})),e.views&&(0,u.each)(e.views,(function(e,t){r[e]&&(r[e]=r[e].inherit(t))})))})),t.controllerTypes=o,t.viewTypes=r);var a=function(e,t,n){var i=n.publicMethods();i&&(0,u.each)(i,(function(i,o){if(!n[o])throw c.default.Error("E1006",t,o);if(e[o])throw c.default.Error("E1005",o);e[o]=function(){return n[o].apply(n,arguments)}}))},s=function(t){var n={};return(0,u.each)(t,(function(t,i){var o=new i(e);o.name=t,a(e,t,o),n[t]=o})),n};e._controllers=s(o),e._views=s(r)},x=function(e,t,n){n=n||[],e._controllers&&(0,u.each)(e._controllers,(function(){this[t]&&this[t].apply(this,n)})),e._views&&(0,u.each)(e._views,(function(){this[t]&&this[t].apply(this,n)}))},b={modules:[],View:y,ViewController:_,Controller:v,registerModule:function(e,t){for(var n=this.modules,i=0;i<n.length;i++)if(n[i].name===e)return;t.name=e,n.push(t),delete this.controllerTypes,delete this.viewTypes},registerModulesOrder:function(e){this.modulesOrder=e},unregisterModule:function(e){this.modules=(0,s.grep)(this.modules,(function(t){return t.name!==e})),delete this.controllerTypes,delete this.viewTypes},processModules:w,callModuleItemsMethod:x};t.default=b,e.exports=t.default},"1cb1":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("084b"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("pager",o.default)},"1d59":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("ea68"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("columnFixing",o.default)},"1d99":function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.ColumnsView=void 0;var o=S(n("14a3")),r=S(n("b547")),a=n("706b"),s=S(n("8de2")),l=n("d41e"),d=S(n("4f86")),u=n("5c27"),c=n("ee3d"),h=S(n("b876")),p=n("2809"),f=n("9ba4"),g=n("9703"),m=n("b62d"),v=n("5e04"),_=I(n("ce5d")),y=n("d4b2"),C=S(n("1981")),w=S(n("f12e")),x=S(n("a32a")),b=n("b49b");function T(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function I(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function S(e){return e&&e.__esModule?e:{default:e}}var k="scroll-container",E="group-space",D="content",R="table",O="table-fixed",M="content-fixed",P="dx-row",V="dx-group-row",A="dx-master-detail-row",F="filter-row",B="cell-updated-animation",N="0.0001px",L="dxCellHintVisible",H="dx-field-item-content",W={render:function(e){e.container.append(e.content)}},z=function(e,t){var n,i,r;function a(e){return setTimeout((function(){n=i=null}),e)}s.default.on(t,"touchstart touchend",".dx-row",(function(e){clearTimeout(r),"touchstart"===e.type?(n=e.target,i=e.currentTarget,r=a(1e3)):r=a()})),s.default.on(t,[u.name,c.name,d.default.down].join(" "),".dx-row",{useNative:e._isNativeClick()},e.createAction((function(t){var r=t.event;n&&(r.target=n,r.currentTarget=i),(0,o.default)(r.target).closest("a").length||(t.rowIndex=e.getRowIndex(r.currentTarget),t.rowIndex>=0&&(t.rowElement=(0,g.getPublicElement)((0,o.default)(r.currentTarget)),t.columns=e.getColumns(),r.type===d.default.down?e._rowPointerDown(t):r.type===u.name?e._rowClick(t):e._rowDblClick(t)))})))},K=function(e){return"auto"===e?"":(0,m.isNumeric)(e)?e+"px":e},U=function(e,t,n){e.style.width=e.style.maxWidth="auto"===t.width?"":n},j=function(e,t){if(e&&t){var n,i=e.attributes,o=t.attributes;for(n=0;n<i.length;n++){var r=i[n].nodeName;t.hasAttribute(r)||e.removeAttribute(r)}for(n=0;n<o.length;n++)e.setAttribute(o[n].nodeName,o[n].nodeValue)}},G=C.default.View.inherit(x.default).inherit({_createScrollableOptions:function(){var e=this,t=e.option("scrolling"),n=e.option("scrolling.useNative"),i=(0,y.extend)({pushBackValue:0},t,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return void 0===n&&(n=!0),"auto"===n?(delete i.useNative,delete i.useSimulatedScrollbar):(i.useNative=!!n,i.useSimulatedScrollbar=!n),i},_updateCell:function(e,t){t.rowType&&this._cellPrepared(e,t)},_createCell:function(e){var t=e.column,n=t.alignment||(0,v.getDefaultAlignment)(this.option("rtlEnabled")),i=r.default.createElement("td");i.style.textAlign=n;var a=(0,o.default)(i);return"data"===e.rowType&&t.headerId&&!t.type&&this.component.option("showColumnHeaders")&&this.setAria("describedby",t.headerId,a),t.cssClass&&a.addClass(t.cssClass),"expand"===t.command&&(a.addClass(t.cssClass),a.addClass(this.addWidgetPrefix(E))),t.colspan>1?a.attr("colSpan",t.colspan):t.isBand||"auto"===t.visibleWidth||this.option("legacyRendering")||!this.option("columnAutoWidth")||((t.width||t.minWidth)&&(i.style.minWidth=K(t.minWidth||t.width)),t.width&&U(i,t,K(t.width))),a},_createRow:function(e){var t=(0,o.default)("<tr>").addClass(P);return this.setAria("role","row",t),t},_isAltRow:function(e){return e&&e.dataIndex%2===1},_createTable:function(e,t){var n=this,i=(0,o.default)("<table>").addClass(n.addWidgetPrefix(R)).addClass(n.addWidgetPrefix(O));if(e&&!t?(i.append(n._createColGroup(e)),h.default.safari&&i.append((0,o.default)("<thead>").append("<tr>")),n.setAria("role","presentation",i)):n.setAria("hidden",!0,i),this.setAria("role","presentation",(0,o.default)("<tbody>").appendTo(i)),t)return i;h.default.mozilla&&s.default.on(i,"mousedown","td",(function(e){e.ctrlKey&&e.preventDefault()})),n.option("cellHintEnabled")&&s.default.on(i,"mousemove",".dx-row > td",this.createAction((function(e){var t=e.event,i=(0,o.default)(t.target),r=(0,o.default)(t.currentTarget),a=r.parent(),s=a.hasClass("dx-data-row"),l=a.hasClass("dx-header-row"),d=a.hasClass(V),u=a.hasClass(A),c=a.hasClass(n.addWidgetPrefix(F)),p=n._columnsController.getVisibleColumns(),f=a.data("options"),g=r.index(),v=f&&f.cells&&f.cells[g],_=v?v.column:p[g],y=h.default.msie?1:0;if(!u&&!c&&(!s||s&&_&&!_.cellTemplate)&&(!l||l&&_&&!_.headerCellTemplate)&&(!d||d&&_&&(void 0===_.groupIndex||!_.groupCellTemplate))){i.data(L)&&(i.removeAttr("title"),i.data(L,!1));var C=i[0].scrollWidth-i[0].clientWidth-y;C>0&&!(0,m.isDefined)(i.attr("title"))&&(i.attr("title",i.text()),i.data(L,!0))}})));var r=function(e){var t=(0,o.default)(e.currentTarget),i=(0,o.default)(e.target).closest("."+H),r=t.parent().data("options"),a=r&&r.cells&&r.cells[t.index()];if(t.closest("table").is(e.delegateTarget)){var s=(0,y.extend)({},a,{cellElement:(0,g.getPublicElement)(t),event:e,eventType:e.type});if(i.length){var l=i.data("dx-form-item");l.column&&(s.column=l.column,s.columnIndex=n._columnsController.getVisibleIndex(s.column.index))}return s}};return s.default.on(i,"mouseover",".dx-row > td",(function(e){var t=r(e);t&&n.executeAction("onCellHoverChanged",t)})),s.default.on(i,"mouseout",".dx-row > td",(function(e){var t=r(e);t&&n.executeAction("onCellHoverChanged",t)})),s.default.on(i,u.name,".dx-row > td",(function(e){var t=r(e);t&&n.executeAction("onCellClick",t)})),s.default.on(i,c.name,".dx-row > td",(function(e){var t=r(e);t&&n.executeAction("onCellDblClick",t)})),z(n,i),i},_isNativeClick:p.noop,_rowPointerDown:p.noop,_rowClick:p.noop,_rowDblClick:p.noop,_createColGroup:function(e){for(var t=(0,o.default)("<colgroup>"),n=0;n<e.length;n++)for(var i=e[n].colspan||1,r=0;r<i;r++)t.append(this._createCol(e[n]));return t},_createCol:function(e){var t=e.visibleWidth||e.width;"adaptiveHidden"===t&&(t=N);var n=(0,o.default)("<col>");return(0,f.setWidth)(n,t),n},renderDelayedTemplates:function(){var e=this._delayedTemplates,t=e.filter((function(e){return!e.async})),n=e.filter((function(e){return e.async}));this._delayedTemplates=[],this._renderDelayedTemplatesCore(t),this._renderDelayedTemplatesCoreAsync(n)},_renderDelayedTemplatesCoreAsync:function(e){var t=this;e.length&&(0,a.getWindow)().setTimeout((function(){t._renderDelayedTemplatesCore(e,!0)}))},_renderDelayedTemplatesCore:function(e,t){var n=new Date;while(e.length){var i=e.shift(),a=i.options,s=r.default.getDocument();if(t&&!(0,o.default)(a.container).closest(s).length||i.template.render(a),t&&new Date-n>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()},_processTemplate:function(e){var t,n=this;if(e&&e.render&&!(0,m.isRenderer)(e))t={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render:function(t){e.render(t.container,t.model),t.deferred&&t.deferred.resolve()}};else if((0,m.isFunction)(e))t={render:function(t){var n=e((0,g.getPublicElement)(t.container),t.model);n&&(n.nodeType||(0,m.isRenderer)(n))&&t.container.append(n),t.deferred&&t.deferred.resolve()}};else{var i=(0,m.isString)(e)?e:(0,o.default)(e).attr("id");i?(n._templatesCache[i]||(n._templatesCache[i]=n.getTemplate(e)),t=n._templatesCache[i]):t=n.getTemplate(e)}return t},renderTemplate:function(e,t,n,i){var o=this,r=o._processTemplate(t,n),a=n.column,s="data"===n.rowType,l=new b.Deferred,d={container:e,model:n,deferred:l,onRendered:function(){l.resolve()}};if(r){n.component=o.component;var u=a&&(a.renderAsync&&s||o.option("renderAsync")&&(!1!==a.renderAsync&&(a.command||a.showEditorAlways)&&s||"filter"===n.rowType));!r.allowRenderToDetachedContainer&&!i||u?o._delayedTemplates.push({template:r,options:d,async:u}):r.render(d)}else l.reject();return l.promise()},_getBodies:function(e){return(0,o.default)(e).children("tbody").not(".dx-header").not(".dx-footer")},_wrapRowIfNeed:function(e,t){var n=this.option("rowTemplate")&&this._getBodies(this._tableElement||e);if(n&&n.filter("."+P).length){var i=(0,o.default)("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",i),i.append(t)}return t},_appendRow:function(e,t,n){n=n||W,n.render({content:t,container:e})},_resizeCore:function(){var e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))},_renderCore:function(e){var t=this.element().parent();t&&!t.parent().length||this.renderDelayedTemplates(e)},_renderTable:function(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();var t=e.change&&e.change.changeType,n=this._createTable(e.columns,"append"===t||"prepend"===t||"update"===t);return this._renderRows(n,e),n},_renderRows:function(e,t){for(var n=this,i=n._getRows(t.change),o=t.change&&t.change.columnIndices||[],r=t.change&&t.change.changeTypes||[],a=0;a<i.length;a++)n._renderRow(e,(0,y.extend)({row:i[a],columnIndices:o[a],changeType:r[a]},t))},_renderRow:function(e,t){t.columnIndices||(t.row.cells=[]);var n=this._createRow(t.row),i=this._wrapRowIfNeed(e,n);"remove"!==t.changeType&&this._renderCells(n,t),this._appendRow(e,i);var o=(0,y.extend)({columns:t.columns},t.row);this._addWatchMethod(o,t.row),this._rowPrepared(i,o,t.row)},_needRenderCell:function(e,t){return!t||t.indexOf(e)>=0},_renderCells:function(e,t){for(var n=this,i=0,o=t.row,r=t.columns,a=0;a<r.length;a++)this._needRenderCell(a,t.columnIndices)&&n._renderCell(e,(0,y.extend)({column:r[a],columnIndex:i,value:o.values&&o.values[i],oldValue:o.oldValues&&o.oldValues[i]},t)),r[a].colspan>1?i+=r[a].colspan:i++},_updateCells:function(e,t,n){var i=e.children(),o=t.children(),r=this.option("highlightChanges"),a=this.addWidgetPrefix(B);n.forEach((function(e,t){var n=i.eq(e),s=o.eq(t);n.replaceWith(s),r&&!s.hasClass("dx-command-expand")&&s.addClass(a)})),j(e.get(0),t.get(0))},_setCellAriaAttributes:function(e,t){if("freeSpace"!==t.rowType){this.setAria("selected",!1,e),this.setAria("role","gridcell",e);var n=this._columnsController.getColumnIndexOffset(),i=t.columnIndex+n+1;this.setAria("colindex",i,e)}},_renderCell:function(e,t){var n=this._getCellOptions(t);t.columnIndices?t.row.cells&&(t.row.cells[n.columnIndex]=n):t.row.cells.push(n);var i=this._createCell(n);return this._setCellAriaAttributes(i,n),this._renderCellContent(i,n),e.get(0).appendChild(i.get(0)),i},_renderCellContent:function(e,t){var n=this,i=this._getCellTemplate(t);(0,b.when)(!i||this.renderTemplate(e,i,t)).done((function(){n._updateCell(e,t)}))},_getCellTemplate:function(){},_getRows:function(){return[]},_getCellOptions:function(e){var t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(t),t},_addWatchMethod:function(e,t){if(this.option("repaintChangesOnly")){var n=[];return t=t||e,t.watch=t.watch||function(e,i){var o=e(t.data),r=function(n){var r=e(t.data);JSON.stringify(o)!==JSON.stringify(r)&&(n&&i(r,o),o=r)};n.push(r);var a=function(){var e=n.indexOf(r);e>=0&&n.splice(e,1)};return a},t.update=t.update||function(t){t&&(this.data=e.data=t.data,this.rowIndex=e.rowIndex=t.rowIndex,this.dataIndex=e.dataIndex=t.dataIndex,this.isExpanded=e.isExpanded=t.isExpanded,e.row&&(e.row=t)),n.forEach((function(e){e(t)}))},t!==e&&(e.watch=t.watch.bind(t)),e}},_cellPrepared:function(e,t){t.cellElement=(0,g.getPublicElement)((0,o.default)(e)),this.executeAction("onCellPrepared",t)},_rowPrepared:function(e,t){(0,l.data)(e.get(0),"options",t),t.rowElement=(0,g.getPublicElement)(e),this.executeAction("onRowPrepared",t)},_columnOptionChanged:function(e){var t=e.optionNames;if(w.default.checkChanges(t,["width","visibleWidth"])){var n=this._columnsController.getVisibleColumns(),i=_.map(n,(function(e){var t=e.visibleWidth||e.width;return(0,m.isDefined)(t)?t:"auto"}));this.setColumnWidths({widths:i,optionNames:t})}else this._requireReady||this.render()},getCellIndex:function(e){var t=e.length?e[0].cellIndex:-1;return t},getTableElements:function(){return this._tableElement||(0,o.default)()},_getTableElement:function(){return this._tableElement},_setTableElement:function(e){this._tableElement=e},optionChanged:function(e){switch(this.callBase(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),e.handled=!0}},init:function(){var e=this;e._scrollLeft=-1,e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._delayedTemplates=[],e._templatesCache={},e.createAction("onCellClick"),e.createAction("onRowClick"),e.createAction("onCellDblClick"),e.createAction("onRowDblClick"),e.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),e.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),e.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:function(t){e._afterRowPrepared(t)}}),e._columnsController.columnsChanged.add(e._columnOptionChanged.bind(e)),e._dataController&&e._dataController.changed.add(e._handleDataChanged.bind(e))},_afterRowPrepared:p.noop,_handleDataChanged:function(){},callbackNames:function(){return["scrollChanged"]},scrollTo:function(e){var t=this.element(),n=t&&t.children("."+this.addWidgetPrefix(k)).not("."+this.addWidgetPrefix(M));(0,m.isDefined)(e)&&(0,m.isDefined)(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))},_wrapTableInScrollContainer:function(e){var t=this,n=(0,o.default)("<div>");return s.default.on(n,"scroll",(function(){var e=n.scrollLeft();e!==t._scrollLeft&&t.scrollChanged.fire({left:e},t.name)})),n.addClass(this.addWidgetPrefix(D)).addClass(this.addWidgetPrefix(k)).append(e).appendTo(this.element()),this.setAria("role","presentation",n),n},_updateContent:function(e){this._setTableElement(e),this._wrapTableInScrollContainer(e)},_findContentElement:p.noop,_getWidths:function(e){var t,n=[],i=this.option("legacyRendering");return e&&_.each(e,(function(e,o){if(t=o.offsetWidth,o.getBoundingClientRect){var r=(0,v.getBoundingRect)(o);r.width>t-1&&(t=i?Math.ceil(r.width):r.width)}n.push(t)})),n},getColumnWidths:function(e){var t,n,i=this,o=[];if((this.option("forceApplyBindings")||p.noop)(),e=e||i._getTableElement(),e){t=e.children("tbody").children();for(var r=0;r<t.length;r++){var a=t.eq(r),s="none"!==a.get(0).style.display&&!a.hasClass("dx-state-invisible");if(!a.is("."+V)&&!a.is("."+A)&&s){n=a.children("td");break}}o=i._getWidths(n)}return o},getVisibleColumnIndex:function(e,t){return e},setColumnWidths:function(e){var t,n,i,o,r=e.widths,a=e.$tableElement,s=e.columns,l=e.fixed,d=this.option("columnAutoWidth"),u=this.option("legacyRendering");if(a=a||this._getTableElement(),a&&a.length&&r){o=0,t=a.children("colgroup").children("col"),(0,f.setWidth)(t,"auto"),s=s||this.getColumns(null,a);for(var c=0;c<s.length;c++){if(!u&&d&&!l&&(n=s[c].width,n&&!s[c].command)){n=s[c].visibleWidth||n,n=K(n),i=K(s[c].minWidth||n);for(var h=h||a.children().children(".dx-row").not("."+V).not("."+A),p=0;p<h.length;p++){var g=this.getVisibleColumnIndex(c,p),v=h[p].cells[g];v&&(U(v,s[c],n),v.style.minWidth=i)}}s[c].colspan?o+=s[c].colspan:(n=r[o],"adaptiveHidden"===n&&(n=N),"number"===typeof n&&(n=n.toFixed(3)+"px"),(0,f.setWidth)(t.eq(o),(0,m.isDefined)(n)?n:"auto"),o++)}}},getCellElements:function(e){return this._getCellElementsCore(e)},_getCellElementsCore:function(e){var t=this._getRowElements().eq(e);return t.children()},_getCellElement:function(e,t){var n,i=this,o=i.getCellElements(e),r=i._getVisibleColumnIndex(o,e,t);if(o.length&&r>=0&&(n=o.eq(r)),n&&n.length)return n},_getRowElement:function(e){var t=this,n=(0,o.default)(),i=t.getTableElements();if(_.each(i,(function(i,r){n=n.add(t._getRowElements((0,o.default)(r)).eq(e))})),n.length)return n},getCellElement:function(e,t){return(0,g.getPublicElement)(this._getCellElement(e,t))},getRowElement:function(e){var t=this._getRowElement(e),n=[];if(t&&!(0,g.getPublicElement)(t).get)for(var i=0;i<t.length;i++)n.push(t[i]);else n=t;return n},_getVisibleColumnIndex:function(e,t,n){if((0,m.isString)(n)){var i=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(i)}return n},getColumnElements:function(){},getColumns:function(e){return this._columnsController.getVisibleColumns(e)},getCell:function(e,t){var n,i=t||this._getRowElements();if(i.length>0&&e.rowIndex>=0&&("virtual"!==this.option("scrolling.mode")&&(e.rowIndex=e.rowIndex<i.length?e.rowIndex:i.length-1),n=this.getCellElements(e.rowIndex),n&&n.length>0))return n.eq(n.length>e.columnIndex?e.columnIndex:n.length-1)},getRowsCount:function(){var e=this._getTableElement();return e&&1===e.length?e[0].rows.length:0},_getRowElementsCore:function(e){if(e=e||this._getTableElement(),e){var t=this.option("rowTemplate")&&e.find("> tbody."+P);return t&&t.length?t:e.find("> tbody > ."+P+", > ."+P)}return(0,o.default)()},_getRowElements:function(e){return this._getRowElementsCore(e)},getRowIndex:function(e){return this._getRowElements().index(e)},getBoundingRect:function(){},getName:function(){},setScrollerSpacing:function(e){var t=this,n=t.element(),i=t.option("rtlEnabled");n&&n.css({paddingLeft:i?e:"",paddingRight:i?"":e})},isScrollbarVisible:function(e){var t=this.element(),n=this._tableElement;return!(!t||!n)&&(e?n.outerWidth()-t.width()>0:n.outerHeight()-t.height()>0)}});t.ColumnsView=G},"1de5":function(e,t,n){"use strict";t.default=void 0;var i=n("b62d"),o=r(n("14a3"));function r(e){return e&&e.__esModule?e:{default:e}}var a="dx-sort",s="dx-sort-none",l="dx-sort-up",d="dx-sort-down",u="dx-sort-index",c="dx-sort-index-icon",h="action",p={_applyColumnState:function(e){var t,n,r=this,s=r.option("sorting.mode"),p=e.rootElement,f=e.column,g=r._getIndicatorContainer(p);if("sort"===e.name){p.find("."+a).remove(),!g.children().length&&g.remove();var m=("single"===s||"multiple"===s)&&f.allowSorting;if(!(0,i.isDefined)(f.groupIndex)&&(m||(0,i.isDefined)(f.sortOrder))){t="asc"===f.sortOrder?"ascending":"descending",n=r.callBase(e).toggleClass(l,"asc"===f.sortOrder).toggleClass(d,"desc"===f.sortOrder);var v=r.getController&&!!r.getController("columns").columnOption("sortIndex:1");v&&r.option("sorting.showSortIndexes")&&f.sortIndex>=0&&((0,o.default)("<span>").addClass(c).text(f.sortIndex+1).appendTo(n),n.addClass(u)),e.rootElement.addClass(r.addWidgetPrefix(h))}return(0,i.isDefined)(f.sortOrder)?r.setAria("sort",t,p):r.setAria("sort","none",p),n}return r.callBase(e)},_getIndicatorClassName:function(e){return"sort"===e?a:"sortIndex"===e?c:this.callBase(e)},_renderIndicator:function(e){var t=e.column,n=e.container,o=e.indicator;if("sort"===e.name){var r=this.option("rtlEnabled");if((0,i.isDefined)(t.sortOrder)||o&&o.addClass(s),n.children().length&&(!r&&"left"===e.columnAlignment||r&&"right"===e.columnAlignment))return void n.prepend(o)}this.callBase(e)},_updateIndicator:function(e,t,n){if("sort"!==n||!(0,i.isDefined)(t.groupIndex))return this.callBase.apply(this,arguments)},_getIndicatorElements:function(e,t){var n=this.callBase(e);return t?n:n&&n.not("."+s)}};t.default=p,e.exports=t.default},"1f76":function(e,t,n){"use strict";t.default=void 0;var i=u(n("14a3")),o=u(n("1981")),r=n("ce5d"),a=u(n("f12e")),s=n("2809"),l=n("b62d"),d=n("b49b");function u(e){return e&&e.__esModule?e:{default:e}}var c="dx-row-focused",h=".dx-row."+c,p="table",f="dx-cell-focus-disabled",g=o.default.ViewController.inherit(function(){return{init:function(){this._dataController=this.getController("data"),this._keyboardController=this.getController("keyboardNavigation"),this.component._optionsByReference.focusedRowKey=!0},optionChanged:function(e){if("focusedRowIndex"===e.name){var t=this.option("focusedRowKey");this._focusRowByIndex(e.value),this._triggerFocusedRowChangedIfNeed(t,e.value),e.handled=!0}else if("focusedRowKey"===e.name){var n=this.option("focusedRowIndex");this._focusRowByKey(e.value),this._triggerFocusedRowChangedIfNeed(e.value,n),e.handled=!0}else"focusedColumnIndex"===e.name||"focusedRowEnabled"===e.name||"autoNavigateToFocusedRow"===e.name?e.handled=!0:this.callBase(e)},_triggerFocusedRowChangedIfNeed:function(e,t){var n=this.getFocusedRowIndexByKey(e);if(t===n){var o=this._dataController.getRowIndexByKey(e);if(o>=0){var r=(0,i.default)(this.getView("rowsView").getRowElement(o));this.getController("keyboardNavigation")._fireFocusedRowChanged(r,t)}}},isAutoNavigateToFocusedRow:function(){return"infinite"!==this.option("scrolling.mode")&&this.option("autoNavigateToFocusedRow")},_focusRowByIndex:function(e){this.option("focusedRowEnabled")&&(e=void 0!==e?e:this.option("focusedRowIndex"),e<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(e))},_focusRowByIndexCore:function(e){var t=this,n=this.getController("data"),i=n.pageSize(),o=function(){if(t._isValidFocusedRowIndex(e)){var i=e-n.getRowIndexOffset(),o=n._getLastItemIndex(),r=Math.min(i,o),a=n.getKeyByRowIndex(r);(0,l.isDefined)(a)&&!t.isRowFocused(a)&&t.option("focusedRowKey",a)}};if(i>=0)if(this._isLocalRowIndex(e))o();else{var r=Math.floor(e/n.pageSize());(0,d.when)(n.pageIndex(r),n.waitReady()).done((function(){o()}))}},_isLocalRowIndex:function(e){var t=this.getController("data"),n=this.getController("keyboardNavigation")._isVirtualScrolling();if(n){var i=Math.floor(e/t.pageSize()),o=t.virtualItemsCount(),r=o?o.begin:-1,a=t.getVisibleRows().length+t.getRowIndexOffset(),s=Math.ceil(a/t.pageSize());return r<=e&&s>i}return!0},_setFocusedRowKeyByIndex:function(e){var t=this.getController("data");if(this._isValidFocusedRowIndex(e)){var n=Math.min(e-t.getRowIndexOffset(),t.items().length-1),i=t.getKeyByRowIndex(n);(0,l.isDefined)(i)&&!this.isRowFocused(i)&&this.option("focusedRowKey",i)}},_focusRowByKey:function(e){(0,l.isDefined)(e)?this._navigateToRow(e,!0):this._resetFocusedRow()},_resetFocusedRow:function(){var e=this.option("focusedRowKey"),t=(0,l.isDefined)(e);if(t||!(this.option("focusedRowIndex")<0)){var n=this.getController("keyboardNavigation");t&&this.option("focusedRowKey",void 0),n.setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getController("data").updateItems({changeType:"updateFocusedRow",focusedRowKey:void 0}),n._fireFocusedRowChanged(void 0,-1)}},_isValidFocusedRowIndex:function(e){var t=this.getController("data"),n=t.getVisibleRows()[e];return!n||"data"===n.rowType||"group"===n.rowType},publicMethods:function(){return["navigateToRow","isRowFocused"]},navigateToRow:function(e){this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e)},_navigateToRow:function(e,t){var n=this,i=n.getController("data"),o=n.isAutoNavigateToFocusedRow(),r=new d.Deferred;if(void 0===e||!i.dataSource())return r.reject().promise();var a=n.getFocusedRowIndexByKey(e),s=i.getDataSource().paginate();return!o&&t||!s||a>=0?n._navigateTo(e,r,t):i.getPageIndexByKey(e).done((function(o){o<0?r.resolve(-1):o===i.pageIndex()?i.reload().done((function(){n.isRowFocused(e)?r.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,r,t)})).fail(r.reject):i.pageIndex(o).done((function(){n._navigateTo(e,r,t)})).fail(r.reject)})).fail(r.reject),r.promise()},_navigateTo:function(e,t,n){var i=this.getController("data").getRowIndexByKey(e),o="virtual"===this.option("scrolling.rowRenderingMode"),r=this.isAutoNavigateToFocusedRow();r&&o&&i<0?this._navigateToVirtualRow(e,t,n):this._navigateToVisibleRow(e,t,n)},_navigateToVisibleRow:function(e,t,n){n?this._triggerUpdateFocusedRow(e,t):this.getView("rowsView").scrollToRowElement(e)},_navigateToVirtualRow:function(e,t,n){var i=this,o=this.getController("data"),r=o._rowsScrollController,s=a.default.getIndexByKey(e,o.items(!0)),l=i.getView("rowsView").getScrollable();if(r&&l&&s>=0){var d=s+o.getRowIndexOffset()-o.getRowIndexDelta(),u=r.getItemOffset(d);if(n){var c=function n(){i.component.off("contentReady",n),i._triggerUpdateFocusedRow(e,t)};i.component.on("contentReady",c)}l.scrollTo({y:u})}},_triggerUpdateFocusedRow:function(e,t){var n=this.getController("data"),i=this.getFocusedRowIndexByKey(e);this._isValidFocusedRowIndex(i)?(this.option("focusedRowEnabled")?n.updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):this.getView("rowsView").scrollToRowElement(e),this.getController("keyboardNavigation").setFocusedRowIndex(i),t&&t.resolve(i)):t&&t.resolve(-1)},getFocusedRowIndexByKey:function(e){var t=this.getController("data"),n=t.getRowIndexByKey(e);return n>=0?n+t.getRowIndexOffset():-1},_focusRowByKeyOrIndex:function(){var e=this,t=this.option("focusedRowKey"),n=this.option("focusedRowIndex"),i=this.getController("keyboardNavigation"),o=this.getController("data");if((0,l.isDefined)(t)){var r=o.getRowIndexByKey(t);r>=0?(i._isVirtualScrolling()&&(n=r+o.getRowIndexOffset()),i.setFocusedRowIndex(n),this._triggerUpdateFocusedRow(t)):this._navigateToRow(t,!0).done((function(t){n>=0&&t<0&&e._focusRowByIndex()}))}else n>=0&&this.getController("focus")._focusRowByIndex(n)},isRowFocused:function(e){var t=this.option("focusedRowKey");if((0,l.isDefined)(t))return(0,s.equalByValue)(e,this.option("focusedRowKey"))},updateFocusedRow:function(e){var t,n=this,o=n._dataController.getRowIndexByKey(e.focusedRowKey),a=n.getView("rowsView");(0,r.each)(a.getTableElements(),(function(r,a){var s=0===r;t=(0,i.default)(a),n._clearPreviousFocusedRow(t,o),n._prepareFocusedRow({changedItem:e.items[o],$tableElement:t,focusedRowIndex:o,isMainTable:s})}))},_clearPreviousFocusedRow:function(e,t){var n=this,o=function(t,o){var r=(0,i.default)(o).closest(".".concat(n.addWidgetPrefix(p)));return e.is(r)},r=e.find(h).filter(o);if(r.removeClass(c).removeClass(f).removeAttr("tabindex"),r.children("td").removeAttr("tabindex"),0!==t){var a=(0,i.default)(this.getView("rowsView").getRowElement(0));a.removeClass(f).removeAttr("tabIndex")}},_prepareFocusedRow:function(e){var t,n=e.changedItem;if(n&&("data"===n.rowType||"group"===n.rowType)){var o=e.focusedRowIndex,r=e.$tableElement,a=e.isMainTable,s=this.option("tabindex")||0,l=this.getView("rowsView");t=(0,i.default)(l._getRowElements(r).eq(o)),t.addClass(c).attr("tabindex",s),a&&l.scrollToElementVertically(t)}return t}}}()),m={defaultOptions:function(){return{focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:void 0,focusedRowIndex:-1,focusedColumnIndex:-1}},controllers:{focus:g},extenders:{controllers:{keyboardNavigation:{init:function(){var e=this.option("focusedRowIndex"),t=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),this.callBase(),this.setRowFocusType(),this._focusedCellPosition={},(0,l.isDefined)(e)&&(this._focusedCellPosition.rowIndex=this.option("focusedRowIndex")),(0,l.isDefined)(t)&&(this._focusedCellPosition.columnIndex=this.option("focusedColumnIndex"))},setFocusedRowIndex:function(e){var t=this.getController("data");this.callBase(e);var n=e-t.getRowIndexOffset(),i=t.getVisibleRows()[n];i&&i.isNewRow||this.option("focusedRowIndex",e)},setFocusedColumnIndex:function(e){this.callBase(e),this.option("focusedColumnIndex",e)},_escapeKeyHandler:function(e,t){!t&&this.option("focusedRowEnabled")?this.isCellFocusType()&&(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0)):this.callBase(e,t)},_updateFocusedCellPosition:function(e,t){var n=this.option("focusedRowIndex"),i=this.option("focusedColumnIndex"),o=this.callBase(e,t);o&&o.columnIndex>=0&&this._fireFocusedCellChanged(e,i,n)}},editorFactory:{renderFocusOverlay:function(e,t){var n,i=this.getController("keyboardNavigation"),o=this.option("focusedRowEnabled"),r=this.getController("editing"),a="row"===i._getElementType(e);o&&i.isRowFocusType()&&!r.isEditing()?o&&a&&!e.hasClass(c)&&(n=i.getFirstValidCellInRow(e),i.focus(n)):this.callBase(e,t)}},columns:{getSortDataSourceParameters:function(e,t){var n=this,i=this.callBase.apply(this,arguments),o=this.getController("data"),r=o._dataSource,a=o.store(),s=a&&a.key(),l=r&&r.remoteOperations()||{},d=Object.keys(l).every((function(e){return!l[e]}));if(s&&(this.option("focusedRowEnabled")&&!1!==this.getController("focus").isAutoNavigateToFocusedRow()||t)){s=Array.isArray(s)?s:[s];var u=s.filter((function(e){return!n.columnOption(e,"sortOrder")}));u.length&&(i=i||[],d?i.push({selector:r.getDataIndexGetter(),desc:!1}):u.forEach((function(e){return i.push({selector:e,desc:!1})})))}return i}},data:{_applyChange:function(e){if(!e||"updateFocusedRow"!==e.changeType)return this.callBase.apply(this,arguments)},_fireChanged:function(e){if(this.callBase(e),this.option("focusedRowEnabled")&&this._dataSource){var t="update"===e.changeType&&e.repaintChangesOnly,n=t&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;"refresh"===e.changeType&&e.items.length||n?(this._updatePageIndexes(),this.processUpdateFocusedRow(e)):"append"!==e.changeType&&"prepend"!==e.changeType||this._updatePageIndexes()}},_updatePageIndexes:function(){var e=this._lastRenderingPageIndex||0,t=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=t,this._isPagingByRendering=t!==e},isPagingByRendering:function(){return this._isPagingByRendering},processUpdateFocusedRow:function(e){var t=e.operationTypes||{},n=this.getController("focus"),i=t.reload,o=t.fullReload,r=this.getController("keyboardNavigation"),a=r._isVirtualScrolling(),s=this.option("focusedRowKey"),d=n.isAutoNavigateToFocusedRow();if(i&&!o&&(0,l.isDefined)(s))n._navigateToRow(s,!0).done((function(e){e<0&&n._focusRowByIndex()}));else if(t.paging&&!a)if(d){var u=this.getRowIndexByKey(s),c=u>=0,h=this.option("focusedRowIndex"),p=h>=0&&(h===u||!c);p&&n._focusRowByIndex()}else this.getRowIndexByKey(s)<0&&this.option("focusedRowIndex",-1);else t.fullReload&&n._focusRowByKeyOrIndex()},getPageIndexByKey:function(e){var t=this,n=new d.Deferred;return t.getGlobalRowIndexByKey(e).done((function(e){n.resolve(e>=0?Math.floor(e/t.pageSize()):-1)})).fail(n.reject),n.promise()},getGlobalRowIndexByKey:function(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)},_calculateGlobalRowIndexByFlatData:function(e,t,n){var i=this,o=new d.Deferred,r=i._dataSource,a=i._generateFilterByKey(e);return r.load({filter:i._concatWithCombinedFilter(a),skip:0,take:1}).done((function(s){s.length>0?(a=i._generateOperationFilterByKey(e,s[0],n),r.load({filter:i._concatWithCombinedFilter(a,t),skip:0,take:1,requireTotalCount:!0}).done((function(e,t){o.resolve(t.totalCount)}))):o.resolve(-1)})),o.promise()},_concatWithCombinedFilter:function(e,t){var n=this.getCombinedFilter();return a.default.combineFilters([e,n,t])},_generateBooleanFilter:function(e,t,n){var i;return!1===t?i=[e,"=",!!n.desc||null]:(!0===t?!n.desc:n.desc)&&(i=[e,"<>",t]),i},_generateOperationFilterByKey:function(e,t,n){var i=this,o=i._dataSource,r=i._generateFilterByKey(e,"<"),a=i._columnsController.getSortDataSourceParameters(!o.remoteOperations().filtering,!0);if(n){var s=i._columnsController.getGroupDataSourceParameters(!o.remoteOperations().filtering);s&&(a=a?s.concat(a):s)}return a&&a.slice().reverse().forEach((function(e){var n,o=e.selector;n="function"===typeof o?o:i._columnsController.columnOption(o,"selector");var a=n?n(t):t[o];if(r=[[o,"=",a],"and",r],null===a||(0,l.isBoolean)(a)){var s=i._generateBooleanFilter(o,a,e);s&&(r=[s,"or",r])}else r=[[o,e.desc?">":"<",a],"or",r]})),r},_generateFilterByKey:function(e,t){var n=this._dataSource.key(),i=[];if(t||(t="="),Array.isArray(n))for(var o=0;o<n.length;++o){var r=e[n[o]];r&&(i.length>0&&i.push("and"),i.push([n[o],t,r]))}else i=[n,t,e];return i},_getLastItemIndex:function(){return this.items(!0).length-1}}},views:{rowsView:{_createRow:function(e){var t=this.callBase(e);return this.option("focusedRowEnabled")&&e&&this.getController("focus").isRowFocused(e.key)&&t.addClass(c),t},_checkRowKeys:function(e){if(this.callBase.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){var t=this._dataController.store();t&&!t.key()&&this._dataController.fireError("E1042","Row focusing")}},_update:function(e){"updateFocusedRow"===e.changeType?this.option("focusedRowEnabled")&&this.getController("focus").updateFocusedRow(e):this.callBase(e)},updateFocusElementTabIndex:function(e){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex():this.callBase(e)},_setFocusedRowElementTabIndex:function(){var e=this,t=this.option("focusedRowKey"),n=this.option("tabIndex")||0,i=this._dataController,o=this._columnsController,r=i.getRowIndexByKey(t),a=this.option("focusedColumnIndex"),s=this._findRowElementForTabIndex();if((0,l.isDefined)(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=function(){e.scrollToElementVertically(e._findRowElementForTabIndex()),e.resizeCompleted.remove(e._scrollToFocusOnResize)}),s.attr("tabIndex",n),r>=0&&(a<0&&(a=0),r+=i.getRowIndexOffset(),a+=o.getColumnIndexOffset(),this.getController("keyboardNavigation").setFocusedCellPosition(r,a),this.getController("focus").isAutoNavigateToFocusedRow())){var d=i.dataSource(),u=d&&d.operationTypes();!u||u.paging||i.isPagingByRendering()||(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize))}},_findRowElementForTabIndex:function(){var e=this.option("focusedRowKey"),t=this._dataController.getRowIndexByKey(e);return(0,i.default)(this.getRowElement(t>=0?t:0))},scrollToRowElement:function(e){var t=this.getController("data").getRowIndexByKey(e),n=(0,i.default)(this.getRow(t));this.scrollToElementVertically(n)},scrollToElementVertically:function(e){var t=this.getScrollable();if(t){var n=t.getScrollElementPosition(e,"vertical");t.scrollTo({top:n})}}}}}};t.default=m,e.exports=t.default},"1ff2":function(e,t,n){"use strict";t.default=void 0;var i=n("706b"),o=n("97a6"),r=50,a={_resizeCore:function(){this.callBase.apply(this,arguments),this._columnsController.resize()},_handleScroll:function(e){var t=this,n=this.getScrollable(),i=e.scrollOffset.left;t.callBase.apply(t,arguments),t.option("rtlEnabled")&&n&&(i=n.$content().width()-n.$element().width()-i),t._columnsController.setScrollPosition(i)}},s={_renderCore:function(){var e=this,t=e._scrollLeft;e.callBase.apply(e,arguments),e._columnsController.isVirtualMode()&&t>=0&&(e._scrollLeft=0,e.scrollTo({left:t}))}},l=function(){var e=function(e){return e.map((function(e){return e.visibleWidth||parseFloat(e.width)||r}))},t={init:function(){var e=this;e.callBase(),e._beginPageIndex=0,e._endPageIndex=0,e._position=0,e._virtualVisibleColumns={}},resetColumnsCache:function(){this.callBase(),this._virtualVisibleColumns={}},getBeginPageIndex:function(t){for(var n=this.getVisibleColumns(void 0,!0),i=e(n),o=0,r=0;r<i.length;r++){if(o>=t)return Math.floor(r/this.getColumnPageSize());o+=i[r]}return 0},getTotalWidth:function(){var e=this.option("width");return"number"===typeof e?e:this.getController("resizing")._lastWidth||this.component.$element().outerWidth()},getEndPageIndex:function(t){var n=this.getVisibleColumns(void 0,!0),i=e(n),o=0;t+=this.getTotalWidth();for(var r=0;r<i.length;r++){if(o>=t)return Math.ceil(r/this.getColumnPageSize());o+=i[r]}return Math.ceil(i.length/this.getColumnPageSize())},getColumnPageSize:function(){return this.option("scrolling.columnPageSize")},_fireColumnsChanged:function(){var e=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,length:1}}),this._renderTime=new Date-e},setScrollPosition:function(e){var t=this,n=t.option("scrolling.columnRenderingThreshold");t._renderTime>n?(clearTimeout(t._changedTimeout),t._changedTimeout=setTimeout((function(){t._setScrollPositionCore(e)}),t.option("scrolling.timeout"))):t._setScrollPositionCore(e)},isVirtualMode:function(){return(0,i.hasWindow)()&&"virtual"===this.option("scrolling.columnRenderingMode")},resize:function(){this._setScrollPositionCore(this._position)},_setScrollPositionCore:function(e){var t=this;if(t.isVirtualMode()){var n=t.getBeginPageIndex(e),i=t.getEndPageIndex(e),o=e<t._position?t._beginPageIndex>n:t._endPageIndex<i;t._position=e,o&&(t._beginPageIndex=n,t._endPageIndex=i,t._fireColumnsChanged())}},getFixedColumns:function(e,t){var n=this.callBase(e);if(this.isVirtualMode()&&!t&&n.length){var i=n.map((function(e){return e.command})).indexOf("transparent");return n[i].colspan=this.getVisibleColumns().length-this.callBase().length+1,n}return n},getVisibleColumns:function(t,n){if(n||!this.isVirtualMode())return this.callBase(t);this._beginPageIndex||this._endPageIndex||(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));var i=this._beginPageIndex,r=this._endPageIndex,a=t+"-"+i+"-"+r;if(this._virtualVisibleColumns[a])return this._virtualVisibleColumns[a];var s=this.callBase(),l=this.getRowCount(),d=this.getColumnPageSize(),u=i*d,c=r*d,h=this.getFixedColumns(void 0,!0),p=h.map((function(e){return e.command})).indexOf("transparent"),f=h.length?p:0,g=s.slice(0,f),m=s.slice(f,u),v=e(m).reduce((function(e,t){return e+t}),0);v||(u=0);var _=h.length?h.length-p-1:0,y=s.slice(s.length-_),C=s.slice(c,s.length-_),w=e(C).reduce((function(e,t){return e+t}),0);if(w||(c=s.length),l>1&&"number"===typeof t){for(var x=[],b=0;b<l;b++)x.push(this.callBase(b));g=(0,o.createColumnsInfo)(x,0,g.length)[t]||[],y=(0,o.createColumnsInfo)(x,s.length-y.length,s.length)[t]||[],s=(0,o.createColumnsInfo)(x,u,c)[t]||[]}else s=s.slice(u,c);return v&&(s.unshift({command:"virtual",width:v}),s=g.concat(s)),w&&(s.push({command:"virtual",width:w}),s=s.concat(y)),this._virtualVisibleColumns[a]=s,s},getColumnIndexOffset:function(){var e=0;if(this._beginPageIndex>0){var t=this.getFixedColumns(),n=t.map((function(e){return e.command})).indexOf("transparent"),i=n>=0?n:0;e=this._beginPageIndex*this.getColumnPageSize()-i-1}return e>0?e:0},dispose:function(){clearTimeout(this._changedTimeout),this.callBase.apply(this,arguments)}};return t}(),d={defaultOptions:function(){return{scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}},extenders:{controllers:{columns:l},views:{columnHeadersView:s,footerView:s,rowsView:a}}};t.default=d,e.exports=t.default},2077:function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("76b9"));function r(e){return e&&e.__esModule?e:{default:e}}var a=o.default.views.gridView.inherit(function(){return{_getWidgetAriaLabel:function(){return"dxTreeList-ariaTreeList"},_getTableRoleName:function(){return"treegrid"}}}());i.default.registerModule("gridView",{defaultOptions:o.default.defaultOptions,controllers:o.default.controllers,views:{gridView:a},extenders:{controllers:{resizing:{_toggleBestFitMode:function(e){if(this.callBase(e),!this.option("legacyRendering")){var t=this._rowsView._getTableElement();t.find(".dx-treelist-cell-expandable").toggleClass(this.addWidgetPrefix("best-fit"),e)}}}}}})},"25cc":function(e,t,n){"use strict";t.default=void 0;var i=l(n("14a3")),o=l(n("0fa5")),r=l(n("c2a0")),a=n("d4b2"),s=l(n("51c4"));function l(e){return e&&e.__esModule?e:{default:e}}var d="dx-treeview",u="".concat(d,"-node-container"),c=s.default.inherit(r.default).inherit({_addWidgetPrefix:function(e){return"".concat(d,"-").concat(e)},_optionChanged:function(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer();break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter:function(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions:function(){return(0,a.extend)(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_updateSearch:function(){if(this._searchEditor){var e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer:function(){var e,t=this.$element().find(".".concat(u)).first();t.length&&(t.empty(),e=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(e),this._renderItems(t,e),this._fireContentReadyAction())},_itemContainer:function(e){return this._scrollableContainer&&e?(0,i.default)(this._scrollableContainer.content()):this.callBase()},_addWidgetClass:function(){this.$element().addClass(this._widgetClass())},_clean:function(){this.callBase(),this._removeSearchBox()}});(0,o.default)("dxTreeView",c);var h=c;t.default=h,e.exports=t.default},"269a":function(e,t,n){"use strict";t.default=void 0;var i=c(n("14a3")),o=c(n("8de2")),r=n("1d99"),a=c(n("8a64")),s=n("b62d"),l=n("ce5d"),d=n("d4b2"),u=n("5963");function c(e){return e&&e.__esModule?e:{default:e}}var h="text-content",p="headers",f="nowrap",g=".dx-row",m="dx-header-row",v="dx-column-lines",_="context-menu-sort-asc",y="context-menu-sort-desc",C="context-menu-sort-none",w="dx-cell-focus-disabled",x="dx-visibility-hidden",b="dx-text-content-alignment-",T="dx-sort-indicator",I="dx-sort-index-indicator",S=".dx-header-filter",k="dx-header-filter-indicator",E="dx-header-multi-row",D={defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:r.ColumnsView.inherit(function(){var e=function(e,n,o){var r=(0,i.default)("<div>").addClass(e.addWidgetPrefix(h));e.setAria("role","presentation",r),t(e,n,o.column,r);var a=e.option("showColumnLines"),s=e.getController("columns").getHeaderContentAlignment(o.column.alignment);return r[a||"right"===s?"appendTo":"prependTo"](n)};function t(e,t,n,i){var o=e._getIndicatorElements(t,!0),r=e._getIndicatorElements(t),a=o&&o.length,s=e._getColumnAlignment(n.alignment),l=".".concat(e._getIndicatorClassName("sort")),d=".".concat(e._getIndicatorClassName("sortIndex")),u=r.filter(l),c=r.children().filter(d);i=i||t.children("."+e.addWidgetPrefix(h)),i.toggleClass(b+s,a>0).toggleClass(b+("left"===s?"right":"left"),a>0&&"center"===n.alignment).toggleClass(T,!!u.length).toggleClass(I,!!c.length).toggleClass(k,!!r.filter("."+e._getIndicatorClassName("headerFilter")).length)}return{_createTable:function(){var e=this.callBase.apply(this,arguments);return o.default.on(e,"mousedown selectstart",this.createAction((function(e){var t=e.event;t.shiftKey&&t.preventDefault()}))),e},_isLegacyKeyboardNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDefaultTemplate:function(t){var n=this;return function(i,o){var r=t.command?i:e(n,i,o),a="expand"!==t.command&&t.caption;a?r.text(a):t.command&&i.html("&nbsp;")}},_getHeaderTemplate:function(e){return e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(e)}},_processTemplate:function(t,n){var i,o=this,r=n.column,a=o.callBase(t);return i="header"===n.rowType&&a&&r.headerCellTemplate&&!r.command?{render:function(t){var n=e(o,t.container,t.model);a.render((0,d.extend)({},t,{container:n}))}}:a,i},_handleDataChanged:function(e){"refresh"===e.changeType&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(e,t){var n=this.callBase(e,t);return"header"===t.row.rowType&&(n.addClass(w),this._isLegacyKeyboardNavigation()||t.column&&!t.column.type&&n.attr("tabindex",this.option("tabindex")||0)),n},_setCellAriaAttributes:function(e,t){this.callBase(e,t),"header"===t.rowType&&(this.setAria("role","columnheader",e),!t.column||t.column.command||t.column.isBand||(e.attr("id",t.column.headerId),this.setAria("label",a.default.format("dxDataGrid-ariaColumn")+" "+t.column.caption,e)))},_createRow:function(e){var t=this.callBase(e).toggleClass(v,this.option("showColumnLines"));return"header"===e.rowType&&(t.addClass(m),this._isLegacyKeyboardNavigation()||(0,u.registerKeyboardAction)("columnHeaders",this,t,"td",this._handleActionKeyDown.bind(this))),t},_handleActionKeyDown:function(e){var t=e.event,n=(0,i.default)(t.target);if(this._lastActionElement=t.target,n.is(S)){var o=this.getController("headerFilter"),r=n.closest("td"),a=this.getColumnIndexByElement(r);a>=0&&o.showHeaderFilterMenu(a,!1)}else{var s=n.closest(g);this._processHeaderAction(t,s)}t.preventDefault()},_renderCore:function(){var e=this,t=e.element();(!e._tableElement||e._dataController.isLoaded()||e._hasRowElements)&&(t.addClass(e.addWidgetPrefix(p)).toggleClass(e.addWidgetPrefix(f),!e.option("wordWrapEnabled")).empty(),e.setAria("role","presentation",t),e._updateContent(e._renderTable()),e.getRowCount()>1&&t.addClass(E),e.callBase.apply(e,arguments))},_renderRows:function(){var e=this;(e._dataController.isLoaded()||e._hasRowElements)&&(e.callBase.apply(e,arguments),e._hasRowElements=!0)},_getRowVisibleColumns:function(e){return this._columnsController.getVisibleColumns(e)},_renderRow:function(e,t){t.columns=this._getRowVisibleColumns(t.row.rowIndex),this.callBase(e,t)},_createCell:function(e){var t=e.column,n=this.callBase.apply(this,arguments);return t.rowspan>1&&"header"===e.rowType&&n.attr("rowSpan",t.rowspan),n},_getRows:function(){var e=[],t=this.getRowCount();if(this.option("showColumnHeaders"))for(var n=0;n<t;n++)e.push({rowType:"header",rowIndex:n});return e},_getCellTemplate:function(e){if("header"===e.rowType)return this._getHeaderTemplate(e.column)},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames;t.grouping?this._isGroupingChanged=!0:(this.callBase(e),(n.width||n.visible)&&this.resizeCompleted.fire())},_isElementVisible:function(e){return e&&e.visible},_alignCaptionByCenter:function(e){var t=this._getIndicatorContainer(e,!0);t&&t.length&&(t.filter("."+x).remove(),t=this._getIndicatorContainer(e),t.clone().addClass(x).css("float","").insertBefore(e.children("."+this.addWidgetPrefix(h))))},_updateCell:function(e,t){"header"===t.rowType&&"center"===t.column.alignment&&this._alignCaptionByCenter(e),this.callBase.apply(this,arguments)},_updateIndicator:function(e,n,i){var o=this.callBase.apply(this,arguments);return"center"===n.alignment&&this._alignCaptionByCenter(e),t(this,e,n),o},_getIndicatorContainer:function(e,t){var n=this.callBase(e);return t?n:n.filter(":not(."+x+")")},_isSortableElement:function(){return!0},getHeadersRowHeight:function(){var e=this._getTableElement(),t=e&&e.find("."+m);return t&&t.toArray().reduce((function(e,t){return e+(0,i.default)(t).height()}),0)||0},getHeaderElement:function(e){var t=this.getColumnElements();return t&&t.eq(e)},getColumnElements:function(e,t){var n,o=this,r=o._columnsController,a=o.getRowCount();if(o.option("showColumnHeaders")){if(a>1&&(!(0,s.isDefined)(e)||(0,s.isDefined)(t))){var d=[],u=(0,s.isDefined)(t)?r.getChildrenByBandColumn(t,!0):r.getVisibleColumns();return(0,l.each)(u,(function(t,i){var a=(0,s.isDefined)(e)?e:r.getRowIndex(i.index);n=o._getCellElement(a,r.getVisibleIndex(i.index,a)),n&&d.push(n.get(0))})),(0,i.default)(d)}if(!e||e<a)return o.getCellElements(e||0)}},getColumnIndexByElement:function(e){var t=this.getCellIndex(e),n=e.closest(".dx-row"),i=n[0].rowIndex,o=this.getColumns(i)[t];return o?o.index:-1},getVisibleColumnIndex:function(e,t){var n=this.getColumns()[e];return n?this._columnsController.getVisibleIndex(n.index,t):-1},getColumnWidths:function(){var e=this.getColumnElements();return e&&e.length?this._getWidths(e):this.callBase.apply(this,arguments)},allowDragging:function(e,t,n){var i,o=0,r=e&&this._columnsController.getRowIndex(e.index),a=this.getColumns(0===r?0:null),s=(null===e||void 0===e?void 0:e.allowHiding)&&a.length>1,l=function(e){return e.allowReordering||e.allowGrouping||e.allowHiding};for(i=0;i<a.length;i++)l(a[i])&&o++;if(o<=1&&!s)return!1;if(!n)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&e&&e.allowReordering;for(i=0;i<n.length;i++){var d=n[i];if(d&&d.allowDragging(e,t))return!0}return!1},getBoundingRect:function(){var e=this,t=e.getColumnElements();if(t&&t.length){var n=e._getTableElement().offset();return{top:n.top}}return null},getName:function(){return"headers"},getColumnCount:function(){var e=this.getColumnElements();return e?e.length:0},isVisible:function(){return this.option("showColumnHeaders")},optionChanged:function(e){var t=this;switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":t._invalidate(!0,!0),e.handled=!0;break;default:t.callBase(e)}},getHeight:function(){return this.getElementHeight()},getContextMenuItems:function(e){var t=this,n=e.column;if(e.row&&("header"===e.row.rowType||"detailAdaptive"===e.row.rowType)){var i=t.option("sorting");if(i&&"none"!==i.mode&&n&&n.allowSorting){var o=function(e){setTimeout((function(){t._columnsController.changeSortOrder(n.index,e.itemData.value)}))};return[{text:i.ascendingText,value:"asc",disabled:"asc"===n.sortOrder,icon:_,onItemClick:o},{text:i.descendingText,value:"desc",disabled:"desc"===n.sortOrder,icon:y,onItemClick:o},{text:i.clearText,value:"none",disabled:!n.sortOrder,icon:C,onItemClick:o}]}}},getRowCount:function(){return this._columnsController&&this._columnsController.getRowCount()},setRowsOpacity:function(e,t,n){var i,o,r=this,a=r.getRowCount(),d=r._columnsController.getColumns(),u=d&&d[e],c=u&&u.isBand&&u.index,h=function(e,n){n.ownerBand===c&&(o.eq(e).css({opacity:t}),n.isBand&&r.setRowsOpacity(n.index,t,i+1))};if((0,s.isDefined)(c))for(n=n||0,i=n;i<a;i++)o=r.getCellElements(i),(0,l.each)(r.getColumns(i),h)}}}())}};t.default=D,e.exports=t.default},2721:function(e,t,n){"use strict";t.default=void 0;var i=y(n("14a3")),o=y(n("b547")),r=y(n("e6aa")),a=y(n("8de2")),s=y(n("cc156")),l=y(n("0fa5")),d=n("d4b2"),u=y(n("8a64")),c=n("b49b"),h=n("b62d"),p=y(n("db7c")),f=y(n("205e")),g=n("439a"),m=y(n("91a1")),v=n("1820"),_=n("ba1a");function y(e){return e&&e.__esModule?e:{default:e}}var C="dx-filterbuilder",w=C+"-group",x=w+"-item",b=w+"-content",T=w+"-operations",I=w+"-operation",S=C+"-action",k=S+"-icon",E="dx-icon-plus",D="dx-icon-remove",R=C+"-text",O=C+"-item-field",M=C+"-item-operation",P=C+"-item-value",V=C+"-item-value-text",A=C+"-overlay",F=C+"-operations",B=C+"-fields",N=C+"-add-condition",L="dx-state-active",H=C+"-menu-custom-operation",W="filterBuilder",z="dx-state-disabled",K="tab",U="enter",j="escape",G=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],$={and:"and",or:"or",notAnd:"!and",notOr:"!or"},q=r.default.inherit(m.default),Y=s.default.inherit({_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],defaultGroupOperation:"and",groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:u.default.format("dxFilterBuilder-and"),or:u.default.format("dxFilterBuilder-or"),notAnd:u.default.format("dxFilterBuilder-notAnd"),notOr:u.default.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:u.default.format("dxFilterBuilder-filterOperationBetween"),equal:u.default.format("dxFilterBuilder-filterOperationEquals"),notEqual:u.default.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:u.default.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:u.default.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:u.default.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:u.default.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:u.default.format("dxFilterBuilder-filterOperationStartsWith"),contains:u.default.format("dxFilterBuilder-filterOperationContains"),notContains:u.default.format("dxFilterBuilder-filterOperationNotContains"),endsWith:u.default.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:u.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:u.default.format("dxFilterBuilder-filterOperationIsNotBlank")}})},_optionChanged:function(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"defaultGroupOperation":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){var t=this._disableInvalidateForValue;t||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=t}break;default:this.callBase(e)}},getFilterExpression:function(){var e=this._getNormalizedFields(),t=(0,d.extend)(!0,[],this._model);return(0,_.getFilterExpression)((0,_.getNormalizedFilter)(t),e,this._customOperations,W)},_getNormalizedFields:function(){return(0,_.getNormalizedFields)(this.option("fields"))},_updateFilter:function(){this._disableInvalidateForValue=!0;var e=(0,d.extend)(!0,[],this._model),t=(0,_.getNormalizedFilter)(e),n=(0,_.getNormalizedFilter)(this._getModel(this.option("value")));JSON.stringify(n)!==JSON.stringify(t)&&this.option("value",t),this._disableInvalidateForValue=!1,this._fireContentReadyAction()},_init:function(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),this.callBase()},_initEditorFactory:function(){this._editorFactory=new q},_initCustomOperations:function(){this._customOperations=(0,_.getMergedOperations)(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)},_getModel:function(e){return(0,_.convertToInnerStructure)(e,this._customOperations)},_initModel:function(){this._model=this._getModel(this.option("value"))},_initActions:function(){var e=this;e._actions={},G.forEach((function(t){var n=(0,d.extend)({},t.config);e._actions[t.name]=e._createActionByOption(t.name,n)}))},executeAction:function(e,t){var n=this._actions[e];return n&&n(t)},_initMarkup:function(){this.$element().addClass(C),this.callBase(),this._createGroupElementByCriteria(this._model).appendTo(this.$element())},_createConditionElement:function(e,t){return(0,i.default)("<div>").addClass(w).append(this._createConditionItem(e,t))},_createGroupElementByCriteria:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this._createGroupElement(e,t,n),o=i.find("."+b),r=(0,_.getGroupCriteria)(e),a=0;a<r.length;a++){var s=r[a];(0,_.isGroup)(s)?this._createGroupElementByCriteria(s,r,n+1).appendTo(o):(0,_.isCondition)(s)&&this._createConditionElement(s,r).appendTo(o)}return i},_createGroupElement:function(e,t,n){var o=this,r=(0,i.default)("<div>").addClass(x),a=(0,i.default)("<div>").addClass(b),s=(0,i.default)("<div>").addClass(w).append(r).append(a);return null!=t&&this._createRemoveButton((function(){(0,_.removeItem)(t,e),s.remove(),o._updateFilter()})).appendTo(r),this._createGroupOperationButton(e).appendTo(r),this._createAddButton((function(){var t=(0,_.createEmptyGroup)(o.option("defaultGroupOperation"));(0,_.addItem)(t,e),o._createGroupElement(t,e,n+1).appendTo(a),o._updateFilter()}),(function(){var t=o.option("fields")[0],n=(0,_.createCondition)(t,o._customOperations);(0,_.addItem)(n,e),o._createConditionElement(n,e).appendTo(a),o._updateFilter()}),n).appendTo(r),s},_createButton:function(e){return(0,i.default)("<div>").text(e)},_createGroupOperationButton:function(e){var t=this,n=this._getGroupOperations(e),i=(0,_.getGroupMenuItem)(e,n),o=i.text,r=n&&n.length<2?this._createButton(o).addClass(z):this._createButtonWithMenu({caption:o,menu:{items:n,displayExpr:"text",keyExpr:"value",onItemClick:function(n){i!==n.itemData&&((0,_.setGroupValue)(e,n.itemData.value),r.html(n.itemData.text),i=n.itemData,t._updateFilter())},onContentReady:function(e){e.component.selectItem(i)},cssClass:T}});return r.addClass(R).addClass(I).attr("tabindex",0)},_createButtonWithMenu:function(e){var t=this,n=function(){t.$element().find("."+L).removeClass(L),t.$element().find(".dx-overlay .dx-treeview").remove(),t.$element().find(".dx-overlay").remove()},o=this.option("rtlEnabled"),r=function(e){return function(t){e(t),"dxclick"===t.event.type&&n()}},s=o?"right":"left",l=this._createButton(e.caption);return(0,d.extend)(e.menu,{focusStateEnabled:!0,selectionMode:"single",onItemClick:r(e.menu.onItemClick),onHiding:function(e){l.removeClass(L)},position:{my:s+" top",at:s+" bottom",offset:"0 1",of:l,collision:"flip"},animation:null,onHidden:function(){n()},cssClass:A+" "+e.menu.cssClass,rtlEnabled:o}),e.popup={onShown:function(t){var n=(0,i.default)(t.component.content()).find(".dx-treeview"),o=n.dxTreeView("instance");a.default.on(n,"keyup keydown",(function(n){var i=(0,v.normalizeKeyName)(n);("keydown"===n.type&&i===K||"keyup"===n.type&&(i===j||i===U))&&(t.component.hide(),a.default.trigger(e.menu.position.of,"focus"))})),o.focus(),o.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(l,(function(){n(),t._createPopupWithTreeView(e,t.$element()),l.addClass(L)})),l},_hasValueButton:function(e){var t=(0,_.getCustomOperation)(this._customOperations,e[1]);return t?!1!==t.hasValue:null!==e[2]},_createOperationButtonWithMenu:function(e,t){var n=this,o=this,r=(0,_.getAvailableOperations)(t,this.option("filterOperationDescriptions"),this._customOperations),a=(0,_.getOperationFromAvailable)((0,_.getOperationValue)(e),r),s=this._createButtonWithMenu({caption:a.text,menu:{items:r,displayExpr:"text",onItemRendered:function(e){e.itemData.isCustom&&(0,i.default)(e.itemElement).addClass(H)},onContentReady:function(e){e.component.selectItem(a)},onItemClick:function(i){if(a!==i.itemData){a=i.itemData,(0,_.updateConditionByOperation)(e,a.value,o._customOperations);var r=s.siblings().filter("."+P);o._hasValueButton(e)?(0!==r.length&&r.remove(),o._createValueButton(e,t).appendTo(s.parent())):r.remove(),s.html(a.text),n._updateFilter()}},cssClass:F}}).addClass(R).addClass(M).attr("tabindex",0);return s},_createOperationAndValueButtons:function(e,t,n){this._createOperationButtonWithMenu(e,t).appendTo(n),this._hasValueButton(e)&&this._createValueButton(e,t).appendTo(n)},_createFieldButtonWithMenu:function(e,t,n){var i=this,o=this,r=this.option("allowHierarchicalFields"),a=(0,_.getItems)(e,r),s=(0,_.getField)(n.name||n.dataField,a),l=function(e,t){return r?(0,_.getCaptionWithParents)(e,t):e.caption},d=this._createButtonWithMenu({caption:l(s,a),menu:{items:a,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:function(e){if(s!==e.itemData){s=e.itemData,t[0]=s.name||s.dataField,t[2]="object"===s.dataType?null:"",(0,_.updateConditionByOperation)(t,(0,_.getDefaultOperation)(s),o._customOperations),d.siblings().filter("."+R).remove(),o._createOperationAndValueButtons(t,s,d.parent());var n=l(s,e.component.option("items"));d.html(n),i._updateFilter()}},onContentReady:function(e){e.component.selectItem(s)},cssClass:B}}).addClass(R).addClass(O).attr("tabindex",0);return d},_createConditionItem:function(e,t){var n=this,o=(0,i.default)("<div>").addClass(x),r=this._getNormalizedFields(),a=(0,_.getField)(e[0],r);return this._createRemoveButton((function(){(0,_.removeItem)(t,e);var i=1===o.parent().children().length;i?o.parent().remove():o.remove(),n._updateFilter()})).appendTo(o),this._createFieldButtonWithMenu(r,e,a).appendTo(o),this._createOperationAndValueButtons(e,a,o),o},_getGroupOperations:function(e){var t=this.option("groupOperations"),n=this.option("groupOperationDescriptions");return t&&t.length||(t=[(0,_.getGroupValue)(e).replace("!","not")]),t.map((function(e){return{text:n[e],value:$[e]}}))},_createRemoveButton:function(e){var t=(0,i.default)("<div>").addClass(k).addClass(D).addClass(S).attr("tabindex",0);return this._subscribeOnClickAndEnterKey(t,e),t},_createAddButton:function(e,t,n){var i,o=this.option("maxGroupLevel");return(0,h.isDefined)(o)&&n>=o?(i=this._createButton(),this._subscribeOnClickAndEnterKey(i,t)):i=this._createButtonWithMenu({menu:{items:[{caption:u.default.format("dxFilterBuilder-addCondition"),click:t},{caption:u.default.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick:function(e){e.itemData.click()},cssClass:N}}),i.addClass(k).addClass(E).addClass(S).attr("tabindex",0)},_createValueText:function(e,t,n){var o=this,r=(0,i.default)("<div>").html("&nbsp;").addClass(V).attr("tabindex",0).appendTo(n),a=e[2],s=(0,_.getCustomOperation)(o._customOperations,e[1]);return!s&&t.lookup?(0,_.getCurrentLookupValueText)(t,a,(function(e){(0,_.renderValueText)(r,e)})):(0,c.when)((0,_.getCurrentValueText)(t,a,s)).done((function(e){(0,_.renderValueText)(r,e,s)})),o._subscribeOnClickAndEnterKey(r,(function(i){"keyup"===i.type&&i.stopPropagation(),o._createValueEditorWithEvents(e,t,n)})),r},_updateConditionValue:function(e,t,n){var i=e[2]!==t;i&&(e[2]=t),n(),this._updateFilter()},_addDocumentKeyUp:function(e,t){var n=!1,i=!1,r=o.default.getDocument(),s=function(e){n||i?i=!1:t(e)};a.default.on(r,"keyup",s);var l=e.find("input");a.default.on(l,"compositionstart",(function(){n=!0})),a.default.on(l,"compositionend",(function(){n=!1,i=!0})),a.default.on(l,"keydown",(function(e){229!==e.which&&(i=!1)})),this._documentKeyUpHandler=s},_addDocumentClick:function(e,t){var n=this,i=o.default.getDocument(),r=function(i){n._isFocusOnEditorParts(e,i.target)||(a.default.trigger(e.find("input"),"change"),t())};a.default.on(i,"dxpointerdown",r),this._documentClickHandler=r},_isFocusOnEditorParts:function(e,t){var n=t||o.default.getActiveElement();return(0,i.default)(n).closest(e.children()).length||(0,i.default)(n).closest(".dx-dropdowneditor-overlay").length},_removeEvents:function(){var e=o.default.getDocument();(0,h.isDefined)(this._documentKeyUpHandler)&&a.default.off(e,"keyup",this._documentKeyUpHandler),(0,h.isDefined)(this._documentClickHandler)&&a.default.off(e,"dxpointerdown",this._documentClickHandler)},_dispose:function(){this._removeEvents(),this.callBase()},_createValueEditorWithEvents:function(e,t,n){var i=this,o=e[2],r=function(){return n.empty(),i._removeEvents(),i._createValueText(e,t,n)},s=function(){i._updateConditionValue(e,o,(function(){r()}))},l={value:""===o?null:o,filterOperation:(0,_.getOperationValue)(e),setValue:function(e){o=null===e?"":e},closeEditor:s,text:n.text()};n.empty();var d=this._createValueEditor(n,t,l);a.default.trigger(d.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(d,s),this._addDocumentKeyUp(d,(function(t){var s=(0,v.normalizeKeyName)(t);if(s===K){if(i._isFocusOnEditorParts(d))return;i._updateConditionValue(e,o,(function(){r(),t.shiftKey&&a.default.trigger(n.prev(),"focus")}))}s===j&&a.default.trigger(r(),"focus"),s===U&&i._updateConditionValue(e,o,(function(){a.default.trigger(r(),"focus")}))})),this._fireContentReadyAction()},_createValueButton:function(e,t){var n=(0,i.default)("<div>").addClass(R).addClass(P);return this._createValueText(e,t,n),n},_createValueEditor:function(e,t,n){var o=(0,i.default)("<div>").attr("tabindex",0).appendTo(e),r=(0,_.getCustomOperation)(this._customOperations,n.filterOperation),a=r&&r.editorTemplate?r.editorTemplate:t.editorTemplate;if(a){var s=this._getTemplate(a);s.render({model:(0,d.extend)({field:t},n),container:o})}else this._editorFactory.createEditor.call(this,o,(0,d.extend)({},t,n,{parentType:W}));return o},_createPopupWithTreeView:function(e,t){var n=this,o=(0,i.default)("<div>").addClass(e.menu.cssClass).appendTo(t);this._createComponent(o,f.default,{onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate:function(t){var o=(0,i.default)("<div>").appendTo(t);n._createComponent(o,p.default,e.menu),this.repaint()},maxHeight:function(){return(0,g.getElementMaxHeightByWindow)(e.menu.position.of)},visible:!0,focusStateEnabled:!1,closeOnTargetScroll:this.option("closePopupOnTargetScroll"),closeOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1})},_subscribeOnClickAndEnterKey:function(e,t){a.default.on(e,"dxclick",t),a.default.on(e,"keyup",(function(e){(0,v.normalizeKeyName)(e)===U&&t(e)}))}});(0,l.default)("dxFilterBuilder",Y);var X=Y;t.default=X,e.exports=t.default},"2a4b":function(e,t,n){"use strict";t.getContentHeightLimit=C,t.subscribeToExternalScrollers=w,t.VirtualScrollController=t.getPixelRatio=void 0;var i=p(n("14a3")),o=n("706b"),r=p(n("8de2")),a=p(n("b876")),s=n("b62d"),l=p(n("be58")),d=n("ce5d"),u=p(n("e6aa")),c=n("b49b"),h=p(n("718c"));function p(e){return e&&e.__esModule?e:{default:e}}var f="infinite",g="virtual",m=function(e){return e.option("scrolling.mode")===g||e._isVirtual},v=function(e){return e.option("scrolling.mode")===f&&!e._isVirtual},_=function(e){return e.option("scrolling.loadTwoPagesOnStart")||e._isVirtual||e._viewportItemIndex>0},y=function(e){return e.devicePixelRatio||1};function C(e){return e.msie?4e6:e.mozilla?8e6:15e6/y((0,o.getWindow)())}function w(e,t,n){var a,s=[],u=[],c=[];function h(t){var n=t.element?t.$element():t,i=l.default.offset(n);return i?t.scrollTop()-(i.top-e.offset().top):e.offset().top}function p(e){return function(){var n=e.scrollTop()-h(e);n=n>0?n:0,t(n)}}n=n||e;var f={on:function(e,t,n){e.on("scroll",n)},off:function(e,t,n){e.off("scroll",n)}};function g(e){var t="#document"===e.get(0).nodeName,n=e.data("dxScrollable"),a=f;if(n||(n=t&&(0,i.default)((0,o.getWindow)())||"auto"===e.css("overflowY")&&e,a=r.default,n)){var l=p(n);a.on(n,"scroll",l),u.push((function(e){var t=h(n),i=n.scrollTo?"scrollTo":"scrollTop";e-t>=0&&n[i](e+t)})),s.push(n),c.push((function(){a.off(n,"scroll",l)}))}}for(a=n.parent();a.length;a=a.parent())g(a);return{scrollTo:function(e){(0,d.each)(u,(function(t,n){n(e)}))},dispose:function(){(0,d.each)(c,(function(e,t){t()}))}}}t.getPixelRatio=y;var x=u.default.inherit(function(){var e=function(e){var t=e._dataSource.pageSize(),n=e.option("scrolling.preventPreload");if(n)return 0;var i=e._viewportSize;if(m(e)&&!e.option("legacyRendering")&&e.option("scrolling.removeInvisiblePages")){i=0;for(var o=e._viewportSize*e._viewportItemSize,r=e.getContentOffset(),a=e._position||0,s=e.virtualItemsCount(),l=e._dataSource.totalItemsCount(),d=s.begin;d<l;d++){if(r>=a+o)break;var u=e._itemSizes[d]||e._viewportItemSize;r+=u,r>=a&&i++}}return t&&i>0?Math.ceil(i/t):1},t=function(t,n){var i=t.option("scrolling.preloadEnabled"),o=e(t);return o&&(n?o=i?1:0:(i&&o++,!v(t)&&_(t)||o--)),o},n=function(e){var n=-1,r=i(e),a=e._dataSource;if(r<0)n=e._pageIndex;else if(e._cache[e._pageIndex-r]){if(r>=0&&e._viewportSize>=0){if(r>0){var s=o(e)+1===a.pageCount()&&e._cache.length<t(e)+1,l=s||e._pageIndex===r&&t(e,!0);l&&(n=r-1)}if(n<0){var d=r+e._cache.length<=e._pageIndex+t(e);d&&(n=r+e._cache.length)}}}else n=e._pageIndex;return e._loadingPageIndexes[n]&&(n=-1),n};function i(e){return e._cache.length?e._cache[0].pageIndex:-1}function o(e){return e._cache.length?e._cache[e._cache.length-1].pageIndex:-1}var r=function(e,t,n){e._isChangedFiring=!0,t(n),e._isChangedFiring=!1},l=function(e,t,n){if(e._isDelayChanged)return e._isDelayChanged=!1,r(e,t,n),!0},u=function(e,t,n,i,o){var a=e._dataSource,l=a.items().slice(),d=(0,s.isObject)(n)?n:void 0,u="prepend"===n,c=a.viewportItems();n&&(0,s.isString)(n)&&!e._isDelayChanged&&(d={changeType:n,items:l},o&&(d.removeCount=o.itemsCount,d.removeCount&&a.correctCount&&(d.removeCount=a.correctCount(c,d.removeCount,u))));var h=o?o.itemsLength:0;h&&a.correctCount&&(h=a.correctCount(c,h,u)),"append"===n?(c.push.apply(c,l),o&&c.splice(0,h)):u?(c.unshift.apply(c,l),o&&c.splice(-h)):e._dataSource.viewportItems(l),a.updateLoading(),e._lastPageIndex=e.pageIndex(),e._isDelayChanged=i,i||r(e,t,d)},p=function(e,t){var n=e._dataSource;if(t===e.pageIndex()||!n.isLoading()&&t<n.pageCount()||!n.hasKnownLastPage()&&t===n.pageCount())return n.pageIndex(t),e._loadingPageIndexes[t]=!0,(0,c.when)(n.load()).always((function(){e._loadingPageIndexes[t]=!1}))};return{ctor:function(e,t,n){var i=this;i._dataSource=t,i.component=e,i._pageIndex=i._lastPageIndex=t.pageIndex(),i._viewportSize=0,i._viewportItemSize=20,i._viewportItemIndex=-1,i._itemSizes={},i._sizeRatio=1,i._items=[],i._cache=[],i._isVirtual=n,i._loadingPageIndexes={},i.positionChanged=(0,h.default)()},getItemSizes:function(){return this._itemSizes},option:function(){return this.component.option.apply(this.component,arguments)},virtualItemsCount:function(){var e,t=this,n=0;if(m(t)){e=i(t),e<0&&(e=t._dataSource.pageIndex());var o=e*t._dataSource.pageSize();n=t._cache.length*t._dataSource.pageSize();var r=Math.max(0,t._dataSource.totalItemsCount()-n-o);return{begin:o,end:r}}},setViewportPosition:function(e){var t=this,n=new c.Deferred,i=Math.min(t.option("scrolling.timeout")||0,t._dataSource.changingDuration());return i<t.option("scrolling.renderingThreshold")&&(i=t.option("scrolling.minTimeout")||0),clearTimeout(t._scrollTimeoutID),i>0?t._scrollTimeoutID=setTimeout((function(){t._setViewportPositionCore(e),n.resolve()}),i):(t._setViewportPositionCore(e),n.resolve()),n.promise()},getViewportPosition:function(){return this._position||0},getItemIndexByPosition:function(){for(var e=this,t=e._position,n=e.getItemSize(),i=0,o=0,r=Object.keys(e._itemSizes).concat(-1),a=0;a<r.length&&i<t;a++){var s=parseInt(r[a]),l=(t-i)/n;if(s<0||o+l<s){o+=l;break}l=s-o,i+=l*n,o+=l;var d=e._itemSizes[s];i+=d,o+=i<t?1:(t-i+d)/d}return Math.round(50*o)/50},_setViewportPositionCore:function(e){this._position=e;var t=this.getItemIndexByPosition(),n=this.setViewportItemIndex(t);return this.positionChanged.fire(),n},setContentSize:function(e){var t=this,n=Array.isArray(e)&&e,i=t.virtualItemsCount();if(n&&(e=n.reduce((function(e,t){return e+t}),0)),t._contentSize=e,i){n&&n.forEach((function(e,n){t._itemSizes[i.begin+n]=e}));var o=(i.begin+i.end+t.itemsCount())*t._viewportItemSize,r=C(a.default);t._sizeRatio=o>r?r/o:1}},getItemSize:function(){return this._viewportItemSize*this._sizeRatio},getItemOffset:function(e,t){var n=this,i=n.virtualItemsCount(),o=e;if(!i)return 0;var r=0,a=n._dataSource.totalItemsCount();return Object.keys(n._itemSizes).forEach((function(i){o&&(t?i>=a-e:i<e)&&(r+=n._itemSizes[i],o--)})),Math.floor(r+o*n._viewportItemSize*n._sizeRatio)},getContentOffset:function(e){var t="end"===e,n=this.virtualItemsCount();return n?this.getItemOffset(t?n.end:n.begin,t):0},getVirtualContentSize:function(){var e=this,t=e.virtualItemsCount();return t?e.getContentOffset("begin")+e.getContentOffset("end")+e._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(e){var t,n=this,i=n._dataSource.pageSize(),o=n._dataSource.pageCount(),r=m(n),a=v(n),s=n._dataSource.totalItemsCount();if(n._viewportItemIndex=e,i&&(r||a)&&s>=0){if(n._viewportSize&&e+n._viewportSize>=s&&!n._isVirtual)if(n._dataSource.hasKnownLastPage()){t=o-1;var l=s%i;t>0&&l>0&&l<n._viewportSize&&t--}else t=o;else{t=Math.floor(e/i);var d=o-1;t=Math.max(t,0),t=Math.min(t,d)}return n.pageIndex(t),n.load()}},viewportItemSize:function(e){return void 0!==e&&(this._viewportItemSize=e),this._viewportItemSize},viewportSize:function(e){return void 0!==e&&(this._viewportSize=e),this._viewportSize},pageIndex:function(e){return m(this)||v(this)?(void 0!==e&&(this._pageIndex=e),this._pageIndex):this._dataSource.pageIndex(e)},beginPageIndex:function(e){var t=i(this);return t<0&&(t=void 0!==e?e:this.pageIndex()),t},endPageIndex:function(){var e=o(this);return e>0?e:this._lastPageIndex},pageSize:function(){return this._dataSource.pageSize()},load:function(){var e,t=this,i=t._dataSource;if(m(t)||v(t)){var o=n(t);if(o>=0){var r=p(t,o);r&&(e=new c.Deferred,r.done((function(){var n=t._delayDeferred;n?n.done(e.resolve).fail(e.reject):e.resolve()})).fail(e.reject),i.updateLoading())}}else e=i.load();return e||t._lastPageIndex===t.pageIndex()||t._dataSource.onChanged({changeType:"pageIndex"}),e||(new c.Deferred).resolve()},loadIfNeed:function(){var e=this;if((m(e)||v(e))&&!e._dataSource.isLoading()&&(!e._isChangedFiring||e._isVirtual)){var t=e.getViewportPosition();t>0?e._setViewportPositionCore(t):e.load()}},handleDataChanged:function(e,n){var a,s,d=this,c=d._dataSource,h=d._cache.length;if(n&&n.changes)r(d,e,n);else if(m(d)||v(d)){var p=i(d);if(p>=0&&(m(d)&&p+d._cache.length!==c.pageIndex()&&p-1!==c.pageIndex()&&(h=0,d._cache=[]),v(d)))if(0===c.pageIndex())d._cache=[];else if(c.pageIndex()<o(d))return void r(d,e,{changeType:"append",items:[]});var f,g={pageIndex:c.pageIndex(),itemsLength:c.items(!0).length,itemsCount:d.itemsCount(!0)};!d.option("legacyRendering")&&d.option("scrolling.removeInvisiblePages")&&m(d)?s=d._cache.length>Math.max(t(this)+(d.option("scrolling.preloadEnabled")?1:0),2):l(d,e,{isDelayed:!0}),p===c.pageIndex()+1?(s&&(f=d._cache.pop()),a="prepend",d._cache.unshift(g)):(s&&(f=d._cache.shift()),a="append",d._cache.push(g));var y=m(d)&&0===h&&_(d);u(d,e,d._cache.length>1?a:void 0,y,f),d._delayDeferred=d.load().done((function(){l(d,e)&&d.load()}))}else u(d,e,n)},itemsCount:function(e){var t=0;return!e&&m(this)?(0,d.each)(this._cache,(function(){t+=this.itemsCount})):t=this._dataSource.itemsCount(),t},reset:function(e){this._loadingPageIndexes={},this._cache=[],e||(this._itemSizes={})},subscribeToWindowScrollEvents:function(e){var t=this;t._windowScroll=t._windowScroll||w(e,(function(e){t.viewportItemSize()&&t.setViewportPosition(e)}))},dispose:function(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null},scrollTo:function(e){this._windowScroll&&this._windowScroll.scrollTo(e)}}}());t.VirtualScrollController=x},"2ed3":function(e,t,n){"use strict";t.default=void 0;var i=C(n("8de2")),o=C(n("1981")),r=C(n("0093")),a=C(n("f12e")),s=n("8963"),l=C(n("8a64")),d=n("5c27"),u=n("cb15"),c=n("ce5d"),h=n("b62d"),p=n("5e04"),f=n("d4b2"),g=n("f028"),m=C(n("7585")),v=C(n("5c39")),_=n("b49b"),y=n("62df");function C(e){return e&&e.__esModule?e:{default:e}}var w={month:function(e){return m.default.getMonthNames()[e-1]},quarter:function(e){return m.default.format(new Date(2e3,3*e-1),"quarter")}},x=o.default.ViewController.inherit(function(){var e=function(e,t,n){var i=r.default.getGroupInterval(t),o=a.default.getFormatOptionsByColumn(t,"headerFilter");return i&&(o.groupInterval=i[n],a.default.isDateType(t.dataType)?o.format=w[i[n]]:"number"===t.dataType&&(o.getDisplayFormat=function(){var o={format:t.format,target:"headerFilter"},r=a.default.formatValue(e,o),s=e+i[n],l=a.default.formatValue(s,o);return r&&l?r+" - "+l:""})),o};return{init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(e,t){var n=e.length,i="exclude"===t.filterType;while(n--){var o=e[n];"items"in e[n]&&this._updateSelectedState(e[n].items,t),(0,s.updateHeaderFilterItemSelectionState)(o,a.default.getIndexByKey(e[n].value,t.filterValues,null)>-1,i)}},_normalizeGroupItem:function(e,t,n){var i,o,r=n.path,a=n.valueSelector,s=n.displaySelector,l=n.column;return a&&s?(i=a(e),o=s(e)):(i=e.key,o=i),e=(0,h.isObject)(e)?(0,f.extend)({},e):{},r.push(i),1===r.length?e.value=r[0]:e.value=r.join("/"),e.text=this.getHeaderItemText(o,l,t,n.headerFilterOptions),e},getHeaderItemText:function(t,n,i,o){var r=a.default.formatValue(t,e(t,n,i));return r||(r=o.texts.emptyValue),r},_processGroupItems:function(e,t,n,i){var o,r,a=this,s=i.column,l=s.lookup,d=i.level;n=n||[],t=t||0,l&&(o=(0,u.compileGetter)(l.displayExpr),r=(0,u.compileGetter)(l.valueExpr));for(var c=0;c<e.length;c++)e[c]=a._normalizeGroupItem(e[c],t,{column:i.column,headerFilterOptions:i.headerFilterOptions,displaySelector:o,valueSelector:r,path:n}),"items"in e[c]&&(t!==d&&(0,h.isDefined)(e[c].value)?a._processGroupItems(e[c].items,t+1,n,i):delete e[c].items),n.pop()},getDataSource:function(e){var t=this,n=t._dataController.dataSource(),i=a.default.getHeaderFilterGroupParameters(e,n&&n.remoteOperations().grouping),o=e.headerFilter&&e.headerFilter.dataSource,r=t.option("headerFilter"),s=!1,l={component:t.component};if(n){if((0,h.isDefined)(o)&&!(0,h.isFunction)(o))l.dataSource=(0,g.normalizeDataSourceOptions)(o);else if(e.lookup){var d;s=!0,e.lookup.items?d=e.lookup.items:(d=e.lookup.dataSource,(0,h.isFunction)(d)&&!v.default.isWrapped(d)&&(d=d({}))),l.dataSource=(0,g.normalizeDataSourceOptions)(d)}else{var u=Array.isArray(i)?i.length-1:0;t._currentColumn=e;var c=t._dataController.getCombinedFilter();t._currentColumn=null,l.dataSource={filter:c,group:i,useDefaultSearch:!0,load:function(i){var o=new _.Deferred;return i.dataField=e.dataField||e.name,n.load(i).done((function(n){t._processGroupItems(n,null,null,{level:u,column:e,headerFilterOptions:r}),o.resolve(n)})).fail(o.reject),o}}}(0,h.isFunction)(o)&&o.call(e,l);var p=l.dataSource.postProcess;return l.dataSource.postProcess=function(n){var i=n;return s&&(0!==this.pageIndex()||this.searchValue()||(i=i.slice(0),i.unshift(null)),t._processGroupItems(i,null,null,{level:0,column:e,headerFilterOptions:r})),i=p&&p.call(this,i)||i,t._updateSelectedState(i,e),i},l.dataSource}},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(e,t){var n=this._columnsController,i=(0,f.extend)(!0,{},this._columnsController.getColumns()[e]);if(i){var o=n.getVisibleIndex(e),r=t?this.getView("headerPanel"):this.getView("columnHeadersView"),a=a||r.getColumnElements().eq(t?i.groupIndex:o);this.showHeaderFilterMenuBase({columnElement:a,column:i,applyFilter:!0,apply:function(){n.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}},showHeaderFilterMenuBase:function(e){var t=this,n=this,i=e.column;if(i){var o=r.default.getGroupInterval(i),a=n._dataController.dataSource(),s=a&&a.remoteOperations().filtering;(0,f.extend)(e,i,{type:o&&o.length>1?"tree":"list",remoteFiltering:s,onShowing:function(t){var i=t.component.overlayContent().dxResizable("instance");i&&i.option("onResizeEnd",(function(t){var i=n.getController("columns"),o=i.columnOption(e.dataField,"headerFilter");o=o||{},o.width=t.width,o.height=t.height,i.columnOption(e.dataField,"headerFilter",o,!0)}))},onHidden:function(){return(0,y.restoreFocus)(t)}}),e.dataSource=n.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),n._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}}()),b=(0,f.extend)({},s.headerFilterMixin,{_renderCellContent:function(e,t){var n,i=this,o=t.column;!o.command&&(0,s.allowHeaderFiltering)(o)&&i.option("headerFilter.visible")&&"header"===t.rowType&&(n=i._applyColumnState({name:"headerFilter",rootElement:e,column:o,showColumnLines:i.option("showColumnLines")}),n&&i._subscribeToIndicatorEvent(n,o,"headerFilter")),i.callBase(e,t)},_subscribeToIndicatorEvent:function(e,t,n){var o=this;"headerFilter"===n&&i.default.on(e,d.name,o.createAction((function(e){e.event.stopPropagation(),o.getController("headerFilter").showHeaderFilterMenu(t.index,!1)})))},_updateIndicator:function(e,t,n){var i=this.callBase(e,t,n);i&&this._subscribeToIndicatorEvent(i,t,n)},_updateHeaderFilterIndicators:function(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")},_needUpdateFilterIndicators:function(){return!0},_columnOptionChanged:function(e){var t=e.optionNames;a.default.checkChanges(t,["filterValues","filterType"])?this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators():this.callBase(e)}}),T=(0,f.extend)({},s.headerFilterMixin,{_createGroupPanelItem:function(e,t){var n,o=this,r=o.callBase.apply(o,arguments);return!t.command&&(0,s.allowHeaderFiltering)(t)&&o.option("headerFilter.visible")&&(n=o._applyColumnState({name:"headerFilter",rootElement:r,column:{alignment:(0,p.getDefaultAlignment)(o.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}),n&&i.default.on(n,d.name,o.createAction((function(e){var n=e.event;n.stopPropagation(),o.getController("headerFilter").showHeaderFilterMenu(t.index,!0)})))),r}});function I(e){return["!",e]}var S={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=this,t=[e.callBase()],n=e._columnsController.getVisibleColumns(null,!0),i=e.getController("headerFilter"),o=i.getCurrentColumn();return(0,c.each)(n,(function(e,n){var i;if((!o||o.index!==n.index)&&(0,s.allowHeaderFiltering)(n)&&n.calculateFilterExpression&&Array.isArray(n.filterValues)&&n.filterValues.length){var r=[];(0,c.each)(n.filterValues,(function(e,t){Array.isArray(t)?i=t:(n.deserializeValue&&!a.default.isDateType(n.dataType)&&"number"!==n.dataType&&(t=n.deserializeValue(t)),i=n.createFilterExpression(t,"=","headerFilter")),i&&(i.columnIndex=n.index),r.push(i)})),r=a.default.combineFilters(r,"or"),t.push("exclude"===n.filterType?["!",r]:r)}})),a.default.combineFilters(t)}},k={invertFilterExpression:I,defaultOptions:function(){return{headerFilter:{visible:!1,width:252,height:325,allowSearch:!1,searchTimeout:500,texts:{emptyValue:l.default.format("dxDataGrid-headerFilterEmptyValue"),ok:l.default.format("dxDataGrid-headerFilterOK"),cancel:l.default.format("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:x},views:{headerFilterView:s.HeaderFilterView},extenders:{controllers:{data:S},views:{columnHeadersView:b,headerPanel:T}}};t.default=k,e.exports=t.default},"336b":function(e,t,n){"use strict";t.default=void 0;var i=h(n("718c")),o=h(n("0561")),r=n("2809"),a=n("b62d"),s=n("ce5d"),l=n("d4b2"),d=h(n("5767")),u=n("2253"),c=n("b49b");function h(e){return e&&e.__esModule?e:{default:e}}var p=o.default.Controller.inherit(function(){function e(t,n){if(t&&(t=t.slice(0),n))for(var i=0;i<t.length;i++)t[i]=(0,l.extend)({key:t[i].key},t[i]),t[i].items=e(t[i].items,n-1);return t}function t(e,t,n){var i={reload:!0,fullReload:!0};return t&&(i={sorting:!o.default.equalSortParameters(e.sort,t.sort),grouping:!o.default.equalSortParameters(e.group,t.group,!0),groupExpanding:!o.default.equalSortParameters(e.group,t.group)||t.groupExpand,filtering:!o.default.equalFilterParameters(e.filter,t.filter),pageIndex:e.pageIndex!==t.pageIndex,skip:e.skip!==t.skip,take:e.take!==t.take,fullReload:n},i.reload=n||i.sorting||i.grouping||i.filtering,i.paging=i.pageIndex||i.take),i}function n(e,t){(0,a.isDefined)(t)?(0,r.executeAsync)(e,t):e()}function h(){return{pages:{}}}function p(e){return e.cachedPagesData.pages[e.pageIndex]}function f(e,t){var n=e.pageIndex;void 0!==n&&(e.cachedPagesData.pages[n]=t)}return{init:function(e,t){var n=this;n._dataSource=e,n._remoteOperations=t||{},n._isLastPage=!e.isLastPage(),n._hasLastPage=!1,n._currentTotalCount=0,n._cachedPagesData=h(),n._lastOperationTypes={},n._eventsStrategy=e._eventsStrategy,n._skipCorrection=0,n._isLoadingAll=!1,n.changed=(0,i.default)(),n.loadingChanged=(0,i.default)(),n.loadError=(0,i.default)(),n.customizeStoreLoadOptions=(0,i.default)(),n.changing=(0,i.default)(),n._dataChangedHandler=n._handleDataChanged.bind(n),n._dataLoadingHandler=n._handleDataLoading.bind(n),n._dataLoadedHandler=n._handleDataLoaded.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._loadErrorHandler=n._handleLoadError.bind(n),n._pushHandler=n._handlePush.bind(n),n._changingHandler=n._handleChanging.bind(n),e.on("changed",n._dataChangedHandler),e.on("customizeStoreLoadOptions",n._dataLoadingHandler),e.on("customizeLoadResult",n._dataLoadedHandler),e.on("loadingChanged",n._loadingChangedHandler),e.on("loadError",n._loadErrorHandler),e.on("changing",n._changingHandler),e.store().on("push",n._pushHandler),(0,s.each)(e,(function(e,t){!n[e]&&(0,a.isFunction)(t)&&(n[e]=function(){return this._dataSource[e].apply(this._dataSource,arguments)})}))},remoteOperations:function(){return this._remoteOperations},dispose:function(e){var t=this,n=t._dataSource,i=n.store();n.off("changed",t._dataChangedHandler),n.off("customizeStoreLoadOptions",t._dataLoadingHandler),n.off("customizeLoadResult",t._dataLoadedHandler),n.off("loadingChanged",t._loadingChangedHandler),n.off("loadError",t._loadErrorHandler),n.off("changing",t._changingHandler),i&&i.off("push",t._pushHandler),e||n.dispose()},refresh:function(e,t){var n=this,i=n._dataSource;t.reload&&(n.resetCurrentTotalCount(),n._isLastPage=!i.paginate(),n._hasLastPage=n._isLastPage)},resetCurrentTotalCount:function(){this._currentTotalCount=0,this._skipCorrection=0},resetCache:function(){this._cachedStoreData=void 0,this._cachedPagingData=void 0},resetPagesCache:function(){this._cachedPagesData=h()},_needClearStoreDataCache:function(){var e=this.remoteOperations(),n=t(this._lastLoadOptions||{},{}),i=Object.keys(e).every((function(t){return!n[t]||!e[t]}));return!i},push:function(e,t){var n=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&(0,u.applyBatch)({keyInfo:n,data:this._cachedStoreData,changes:e}),t||this._applyBatch(e)},getDataIndexGetter:function(){var e=this;if(!this._dataIndexGetter){var t,n,i=this.store();this._dataIndexGetter=function(o){var a=n&&n!==e._cachedStoreData;if(!t||a){n=e._cachedStoreData||[],t={};for(var s=0;s<n.length;s++)t[(0,r.getKeyHash)(i.keyOf(n[s]))]=s}return t[(0,r.getKeyHash)(i.keyOf(o))]}}return this._dataIndexGetter},_getKeyInfo:function(){return this.store()},_applyBatch:function(e){var t=this,n=this._getKeyInfo(),i=this._dataSource,r=o.default.normalizeSortingInfo(this.group()).length,a=this.totalCount(),s="virtual"===this.option("scrolling.mode");e=e.filter((function(e){return!i.paginate()||"insert"!==e.type||void 0!==e.index}));var l=function(){return r?t.itemsCount():t._items.length},d=l();(0,u.applyBatch)({keyInfo:n,data:this._items,changes:e,groupCount:r,useInsertIndex:!0}),(0,u.applyBatch)({keyInfo:n,data:i.items(),changes:e,groupCount:r,useInsertIndex:!0}),(this._currentTotalCount>0||s&&a===d)&&(this._skipCorrection+=l()-d),e.splice(0,e.length)},_handlePush:function(e){this.push(e,!0)},_handleChanging:function(e){this.changing.fire(e),this._applyBatch(e.changes)},_needCleanCacheByOperation:function(e,t){var n=["filtering","sorting","paging"],i=n.indexOf(e),o=i>=0?n.slice(i):[e];return o.some((function(e){return t[e]}))},_customizeRemoteOperations:function(e,t){var n=this,i=n._cachedStoreData,o=n._cachedPagingData,r=n._cachedPagesData;(e.storeLoadOptions.filter&&!e.remoteOperations.filtering||e.storeLoadOptions.sort&&!e.remoteOperations.sorting)&&(e.remoteOperations={filtering:e.remoteOperations.filtering}),t.fullReload?(i=void 0,o=void 0,r=h()):(t.reload?(o=void 0,r=h()):(t.take||t.groupExpanding)&&(r=h()),(0,s.each)(t,(function(t,r){r&&n._needCleanCacheByOperation(t,e.remoteOperations)&&(i=void 0,o=void 0)}))),o&&(e.remoteOperations.paging=!1),e.cachedStoreData=i,e.cachedPagingData=o,e.cachedPagesData=r,e.isCustomLoading||(n._cachedStoreData=i,n._cachedPagingData=o,n._cachedPagesData=r)},_handleDataLoading:function(e){var n=this,i=n._dataSource,o=n._lastLoadOptions;n.customizeStoreLoadOptions.fire(e),e.delay=this.option("loadingTimeout"),e.originalStoreLoadOptions=e.storeLoadOptions,e.remoteOperations=(0,l.extend)({},this.remoteOperations());var r=!n.isLoaded()&&!n._isRefreshing;n.option("integrationOptions.renderedOnServer")&&!n.isLoaded()&&(e.delay=void 0);var a=(0,l.extend)({pageIndex:n.pageIndex()},e.storeLoadOptions),s=t(a,o,r);if(n._customizeRemoteOperations(e,s),!e.isCustomLoading){var d=n._isRefreshing;e.pageIndex=i.pageIndex(),e.lastLoadOptions=a,e.operationTypes=s,n._loadingOperationTypes=s,n._isRefreshing=!0,(0,c.when)(d||n._isRefreshed||n.refresh(e,s)).done((function(){n._lastOperationId===e.operationId&&(n._isRefreshed=!0,n.load().always((function(){n._isRefreshed=!1})))})).fail((function(){i.cancel(e.operationId)})).always((function(){n._isRefreshing=!1})),i.cancel(n._lastOperationId),n._lastOperationId=e.operationId,n._isRefreshing&&i.cancel(n._lastOperationId)}this._handleDataLoadingCore(e)},_handleDataLoadingCore:function(e){var t=e.remoteOperations;e.loadOptions={};var n=e.cachedPagesData.extra,i={filter:!t.filtering,sort:!t.sorting,group:!t.grouping,summary:!t.summary,skip:!t.paging,take:!t.paging,requireTotalCount:n&&"totalCount"in n||!t.paging};(0,s.each)(e.storeLoadOptions,(function(t,n){i[t]&&(e.loadOptions[t]=n,delete e.storeLoadOptions[t])})),n&&(e.extra=n),e.data=p(e)||e.cachedStoreData},_handleDataLoaded:function(t){var n=this,i=t.loadOptions,r=t.remoteOperations&&!t.remoteOperations.paging,s=t.cachedPagesData,u=t.storeLoadOptions,h=!1!==this.option("cacheEnabled")&&u,g=h&&!t.isCustomLoading&&s&&(!r||u.group)&&!this.option("legacyRendering"),m=h&&r,v=m&&!t.isCustomLoading;if(i){t.lastLoadOptions&&(this._lastLoadOptions=t.lastLoadOptions,Object.keys(t.operationTypes).forEach((function(e){n._lastOperationTypes[e]=n._lastOperationTypes[e]||t.operationTypes[e]}))),r&&(t.skip=i.skip,t.take=i.take,delete i.skip,delete i.take),i.group&&(i.group=t.group||i.group);var _=o.default.normalizeSortingInfo(u.group||i.group).length;g&&p(t)||(m&&t.cachedPagingData?t.data=e(t.cachedPagingData,_):(v&&(this._cachedStoreData?t.mergeStoreLoadData&&(t.data=this._cachedStoreData=this._cachedStoreData.concat(t.data)):this._cachedStoreData=e(t.data,o.default.normalizeSortingInfo(u.group).length)),new d.default(t.data).load(i).done((function(i){t.data=i,v&&(n._cachedPagingData=e(t.data,_))})).fail((function(e){t.data=(new c.Deferred).reject(e)}))),i.requireTotalCount&&r&&(t.extra=(0,a.isPlainObject)(t.extra)?t.extra:{},t.extra.totalCount=t.data.length),t.extra&&t.extra.totalCount>=0&&(!1===u.requireTotalCount||!1===i.requireTotalCount)&&(t.extra.totalCount=-1),this._handleDataLoadedCore(t),g&&(s.extra=s.extra||(0,l.extend)({},t.extra),(0,c.when)(t.data).done((function(n){f(t,e(n,_))})))),t.storeLoadOptions=t.originalStoreLoadOptions}else this._dataSource.cancel(t.operationId)},_handleDataLoadedCore:function(e){e.remoteOperations&&!e.remoteOperations.paging&&Array.isArray(e.data)&&(void 0!==e.skip&&(e.data=e.data.slice(e.skip)),void 0!==e.take&&(e.data=e.data.slice(0,e.take)))},_handleLoadingChanged:function(e){this.loadingChanged.fire(e)},_handleLoadError:function(e){this.loadError.fire(e),this.changed.fire({changeType:"loadError",error:e})},_handleDataChanged:function(e){var t,n=this,i=n._dataSource,o=!1,r=n.itemsCount();n._isLastPage=!r||!n.pageSize()||r<n.pageSize(),n._isLastPage&&(n._hasLastPage=!0),i.totalCount()>=0?i.pageIndex()>=n.pageCount()&&(i.pageIndex(n.pageCount()-1),n.pageIndex(i.pageIndex()),n.resetPagesCache(),i.load(),o=!0):e&&!(0,a.isDefined)(e.changeType)||(t=i.pageIndex()*n.pageSize()+r,n._currentTotalCount=Math.max(n._currentTotalCount,t),0===r&&i.pageIndex()>=n.pageCount()&&(i.pageIndex(n.pageCount()-1),"infinite"!==n.option("scrolling.mode")&&(i.load(),o=!0))),o||(n._operationTypes=n._lastOperationTypes,n._lastOperationTypes={},n.component._optionCache={},n.changed.fire(e),n.component._optionCache=void 0)},_scheduleCustomLoadCallbacks:function(e){var t=this;t._isCustomLoading=!0,e.always((function(){t._isCustomLoading=!1}))},loadingOperationTypes:function(){return this._loadingOperationTypes},operationTypes:function(){return this._operationTypes},lastLoadOptions:function(){return this._lastLoadOptions||{}},isLastPage:function(){return this._isLastPage},totalCount:function(){return parseInt((this._currentTotalCount||this._dataSource.totalCount())+this._skipCorrection)},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var e=this._dataSource;return arguments.length||e.paginate()?e.pageSize.apply(e,arguments):0},pageCount:function(){var e=this,t=e.totalItemsCount()-e._skipCorrection,n=e.pageSize();return n&&t>0?Math.max(1,Math.ceil(t/n)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0},loadFromStore:function(e,t){var n=this._dataSource,i=new c.Deferred;if(n)return t=t||n.store(),t.load(e).done((function(e,t){e&&!Array.isArray(e)&&Array.isArray(e.data)&&(t=e,e=e.data),i.resolve(e,t)})).fail(i.reject),i},isCustomLoading:function(){return!!this._isCustomLoading},load:function(e){var t=this,i=this,o=i._dataSource,r=new c.Deferred;if(e){var a=o.store(),l=o.loadOptions(),d={storeLoadOptions:e,isCustomLoading:!0};return(0,s.each)(a._customLoadOptions()||[],(function(e,t){t in d.storeLoadOptions||(d.storeLoadOptions[t]=l[t])})),this._isLoadingAll=e.isLoadingAll,i._scheduleCustomLoadCallbacks(r),o._scheduleLoadCallbacks(r),i._handleDataLoading(d),n((function(){if(!o.store())return r.reject("canceled");(0,c.when)(d.data||i.loadFromStore(d.storeLoadOptions)).done((function(t,n){d.data=t,d.extra=n||{},i._handleDataLoaded(d),e.requireTotalCount&&void 0===d.extra.totalCount&&(d.extra.totalCount=a.totalCount(d.storeLoadOptions)),(0,c.when)(d.data,d.extra.totalCount).done((function(e,t){d.extra.totalCount=t,r.resolve(e,d.extra)})).fail(r.reject)})).fail(r.reject)}),i.option("loadingTimeout")),r.fail((function(){i._eventsStrategy.fireEvent("loadError",arguments)})).always((function(){t._isLoadingAll=!1})).promise()}return o.load()},reload:function(e){return e?this._dataSource.reload():this._dataSource.load()},getCachedStoreData:function(){return this._cachedStoreData}}}());t.default=p,e.exports=t.default},"35f5":function(e,t,n){"use strict";t.default=void 0;var i=d(n("14a3")),o=d(n("f12e")),r=n("2809"),a=n("ce5d"),s=n("b62d"),l=n("b49b");function d(e){return e&&e.__esModule?e:{default:e}}var u="dx-master-detail-cell",c="dx-master-detail-row",h="dx-cell-focus-disabled",p="dx-row-lines",f={defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{columns:{_getExpandColumnsCore:function(){var e=this.callBase();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:o.default.getExpandCellTemplate()}),e}},data:function(){var e=function(e){e._expandedItems=[],e._isExpandAll=e.option("masterDetail.autoExpandAll")};return{init:function(){var t=this;e(t),t.callBase()},expandAll:function(e){var t=this;e<0?(t._isExpandAll=!0,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},collapseAll:function(e){var t=this;e<0?(t._isExpandAll=!1,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},isRowExpanded:function(e){var t=this,n=o.default.getIndexByKey(e,t._expandedItems);return Array.isArray(e)?t.callBase.apply(t,arguments):!!(t._isExpandAll^(n>=0&&t._expandedItems[n].visible))},_getRowIndicesForExpand:function(e){var t=this.getRowIndexByKey(e);return[t,t+1]},_changeRowExpandCore:function(e){var t,n=this;if(Array.isArray(e))t=n.callBase.apply(n,arguments);else{var i=o.default.getIndexByKey(e,n._expandedItems);if(i>=0){var r=n._expandedItems[i].visible;n._expandedItems[i].visible=!r}else n._expandedItems.push({key:e,visible:!0});n.updateItems({changeType:"update",rowIndices:n._getRowIndicesForExpand(e)}),t=(new l.Deferred).resolve()}return t},_processDataItem:function(e,t){var n=this,i=n.callBase.apply(n,arguments);return i.isExpanded=n.isRowExpanded(i.key),void 0===t.detailColumnIndex&&(t.detailColumnIndex=-1,(0,a.each)(t.visibleColumns,(function(e,n){if("expand"===n.command&&!(0,s.isDefined)(n.groupIndex))return t.detailColumnIndex=e,!1}))),t.detailColumnIndex>=0&&(i.values[t.detailColumnIndex]=i.isExpanded),i},_processItems:function(e,t){var n=this,i=t.changeType,s=[];return e=n.callBase.apply(n,arguments),"loadingAll"===i?e:("refresh"===i&&(n._expandedItems=(0,r.grep)(n._expandedItems,(function(e){return e.visible}))),(0,a.each)(e,(function(e,t){s.push(t);var i=o.default.getIndexByKey(t.key,n._expandedItems);"data"===t.rowType&&(t.isExpanded||i>=0)&&!t.isNewRow&&s.push({visible:t.isExpanded,rowType:"detail",key:t.key,data:t.data,values:[]})})),s)},optionChanged:function(t){var n,i,o=this;if("masterDetail"===t.name){switch(t.name="dataSource",t.fullName){case"masterDetail":var r=t.value||{},a=t.previousValue||{};n=r.enabled!==a.enabled,i=r.autoExpandAll!==a.autoExpandAll;break;case"masterDetail.enabled":n=!0;break;case"masterDetail.autoExpandAll":i=!0}(n||i)&&e(o)}o.callBase(t)}}}(),resizing:{fireContentReadyAction:function(){this.callBase.apply(this,arguments),this._updateParentDataGrids(this.component.$element())},_updateParentDataGrids:function(e){var t=this,n=e.closest("."+c);n.length&&(0,l.when)(this._updateMasterDataGrid(n,e)).done((function(){t._updateParentDataGrids(n.parent())}))},_updateMasterDataGrid:function(e,t){var n=(0,i.default)(e).data("options"),o=(0,i.default)(e).closest("."+this.getWidgetContainerClass()).parent().data("dxDataGrid");if(n&&o){if(!o.getView("rowsView").isFixedColumns()){var r=o.getScrollable();return r&&r.update()}this._updateFixedMasterDetailGrids(o,n.rowIndex,t)}},_updateFixedMasterDetailGrids:function(e,t,n){var o=this,r=(0,i.default)(e.getRowElement(t));if(r&&2===r.length&&r.eq(0).height()!==r.eq(1).height()){var a=n.width();return e.updateDimensions().done((function(){var t=o.option("columnAutoWidth")&&!0===e.option("scrolling.useNative"),i=t&&a!==n.width();t&&i&&o.updateDimensions()}))}},_toggleBestFitMode:function(e){if(this.callBase.apply(this,arguments),this.option("masterDetail.template")){var t=this._rowsView._getTableElement();t&&t.find(".dx-master-detail-cell").toggleClass("dx-hidden",e)}}}},views:{rowsView:function(){return{_getCellTemplate:function(e){var t,n=this,i=e.column,o=n.getController("editing"),r=o&&o.isEditRow(e.rowIndex);return t="detail"!==i.command||r?n.callBase.apply(n,arguments):n.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:n._getDefaultTemplate(i)},t},_isDetailRow:function(e){return e&&e.rowType&&0===e.rowType.indexOf("detail")},_createRow:function(e){var t=this.callBase(e);return e&&this._isDetailRow(e)&&(this.option("showRowLines")&&t.addClass(p),t.addClass(c),(0,s.isDefined)(e.visible)&&t.toggle(e.visible)),t},_renderCells:function(e,t){var n,i=t.row,o=this._columnsController.getVisibleColumns();i.rowType&&this._isDetailRow(i)?this._needRenderCell(0,t.columnIndices)&&(n=this._renderCell(e,{value:null,row:i,rowIndex:i.rowIndex,column:{command:"detail"},columnIndex:0}),n.addClass(h).addClass(u).attr("colSpan",o.length)):this.callBase.apply(this,arguments)}}}()}}};t.default=f,e.exports=t.default},"439a":function(e,t,n){"use strict";t.getElementMaxHeightByWindow=void 0;var i=a(n("14a3")),o=n("706b"),r=n("b62d");function a(e){return e&&e.__esModule?e:{default:e}}var s=.9,l=function(e,t){var n,a=(0,i.default)((0,o.getWindow)()),l=e.offset(),d=l.top;if((0,r.isNumeric)(t)){if(t<d)return d-t;n=a.innerHeight()-t+a.scrollTop()}else{var u=d-a.scrollTop(),c=a.innerHeight()-u-e.outerHeight();n=Math.max(u,c)}return n*s};t.getElementMaxHeightByWindow=l},"43b86":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("afc5"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("headerPanel",o.default)},"45ae":function(e,t,n){"use strict";t.RowsView=void 0;var i=a(n("14a3")),o=a(n("832e")),r=a(n("0f06"));function a(e){return e&&e.__esModule?e:{default:e}}var s="dx-treelist-text-content",l="dx-treelist-icon-container",d="dx-treelist-cell-expandable",u="dx-treelist-empty-space",c="dx-treelist-expanded",h="dx-treelist-collapsed",p=r.default.views.rowsView.inherit(function(){var e=function(e){return(0,i.default)("<div>").addClass(s).appendTo(e)},t=function(e,t){var n=(0,i.default)("<div>").addClass(u);return e&&n.toggleClass(c,t).toggleClass(h,!t).append((0,i.default)("<span>")),n};return{_renderIconContainer:function(e,t){var n=this,o=(0,i.default)("<div>").addClass(l).appendTo(e);return t.watch&&t.watch((function(){return[t.row.level,t.row.isExpanded,t.row.node.hasChildren]}),(function(){o.empty(),n._renderIcons(o,t)})),e.addClass(d),this._renderIcons(o,t)},_renderIcons:function(e,n){for(var i=n.row,o=i.level,r=0;r<=o;r++)e.append(t(r===o&&i.node.hasChildren,i.isExpanded));return e},_renderCellCommandContent:function(e,t){return this._renderIconContainer(e,t),!0},_processTemplate:function(t,n){var i,o=this,r=this.callBase(t),a=o._columnsController.getFirstDataColumnIndex();return i=r&&n.column.index===a?{render:function(t){var n=t.container;o._renderCellCommandContent(n,t.model)&&(t.container=e(n)),r.render(t)}}:r,i},_updateCell:function(e,t){e=e.hasClass(s)?e.parent():e,this.callBase(e,t)},_rowClick:function(e){var t=this._dataController,n=(0,i.default)(e.event.target),o=this.isExpandIcon(n),r=t&&t.items()[e.rowIndex];o&&r&&t.changeRowExpand(r.key),this.callBase(e)},_createRow:function(e){var t=e&&e.node,n=this.callBase.apply(this,arguments);return t&&(this.setAria("level",e.level,n),t.hasChildren&&this.setAria("expanded",e.isExpanded,n)),n},isExpandIcon:function(e){return!!e.closest("."+c+", ."+h).length}}}());t.RowsView=p,o.default.registerModule("rows",{defaultOptions:r.default.defaultOptions,views:{rowsView:p}})},"4fe9":function(e,t,n){"use strict";t.TaskAreaContainer=void 0;var i=o(n("367c"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var l=function(){function e(t,n){r(this,e),this._element=t,this._scrollView=n._createComponent(this._element,i.default,{scrollByContent:!1,scrollByThumb:!0,showScrollbar:"onHover",direction:"both",onScroll:function(){n.updateView()}})}return s(e,[{key:"getWidth",value:function(){return this._element.offsetWidth}},{key:"getHeight",value:function(){return this._element.offsetHeight}},{key:"getElement",value:function(){return this._element}},{key:"scrollTop",get:function(){return this._scrollView.scrollTop()},set:function(e){var t=e-this._scrollView.scrollTop();0!==t&&this._scrollView.scrollBy({left:0,top:t})}},{key:"scrollLeft",get:function(){return this._scrollView.scrollLeft()},set:function(e){var t=e-this._scrollView.scrollLeft();0!==t&&this._scrollView.scrollBy({left:t,top:0})}},{key:"scrollWidth",get:function(){return this._scrollView.scrollWidth()}},{key:"scrollHeight",get:function(){return this._scrollView.scrollHeight()}},{key:"isExternal",get:function(){return!0}}]),e}();t.TaskAreaContainer=l},5045:function(e,t,n){"use strict";var i=a(n("832e")),o=a(n("35f5")),r=n("d4b2");function a(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("masterDetail",(0,r.extend)(!0,{},o.default,{extenders:{controllers:{data:{isRowExpanded:function(){return this.callBase.apply(this,arguments)},_processItems:function(){return this.callBase.apply(this,arguments)},_processDataItem:function(){return this.callBase.apply(this,arguments)}}}}}))},"51c4":function(e,t,n){"use strict";t.default=void 0;var i=T(n("14a3")),o=T(n("b547")),r=T(n("8de2")),a=T(n("8a64")),s=n("5c27"),l=n("2809"),d=n("706b"),u=n("b62d"),c=n("d4b2"),h=n("ce5d"),p=n("9703"),f=T(n("1efe")),g=T(n("5a6c")),m=n("1820"),v=T(n("4f86")),_=n("ee3d"),y=T(n("84cc")),C=T(n("640d")),w=T(n("5d60")),x=n("b49b"),b=T(n("0fc0"));function T(e){return e&&e.__esModule?e:{default:e}}var I="dx-treeview",S="".concat(I,"-node"),k="".concat(S,"-container"),E="".concat(S,"-loadindicator"),D="".concat(S,"-container-opened"),R="".concat(S,"-is-leaf"),O="".concat(I,"-item"),M="".concat(O,"-with-checkbox"),P="".concat(O,"-without-checkbox"),V="".concat(O,"-data"),A="".concat(I,"-toggle-item-visibility"),F="".concat(I,"-loadindicator"),B="".concat(I,"-loadindicator-wrapper"),N="".concat(I,"-toggle-item-visibility-opened"),L="".concat(I,"-select-all-item"),H="dx-state-invisible",W="dx-state-disabled",z="dx-state-selected",K="dxTreeView_expand",U="data-item-id",j=g.default.inherit({_supportedKeys:function(e){var t=this,n=function(e){var n=(0,i.default)(t.option("focusedElement"));if(n.length){e.target=n,e.currentTarget=n,t._itemClickHandler(e,n.children("."+O));var o=t._getEventNameByOption(t.option("expandEvent")),r=o===(0,m.addNamespace)(s.name,K);r&&t._expandEventHandler(e)}},o=function(e){e.preventDefault(),t._changeCheckBoxState((0,i.default)(t.option("focusedElement")))},r=function(e,t){if(this.option("expandAllEnabled")){t.preventDefault();var n=(0,i.default)(this.option("focusedElement"));if(n.length){var o=this._getItemData(n.find(".".concat(O)));this._toggleExpandedNestedItems([o],e)}}};return(0,c.extend)(this.callBase(),{enter:this._showCheckboxes()?o:n,space:this._showCheckboxes()?o:n,asterisk:r.bind(this,!0),minus:r.bind(this,!1)})},_changeCheckBoxState:function(e){var t=this._getCheckBoxInstance(e),n=t.option("value");t.option("disabled")||this._updateItemSelection(!n,e.find("."+O).get(0),!0,e)},_toggleExpandedNestedItems:function(e,t){if(e)for(var n=0,i=e.length;n<i;n++){var o=e[n],r=this._dataAdapter.getNodeByItem(o);this._toggleExpandedState(r,t),this._toggleExpandedNestedItems(o.items,t)}},_getNodeElement:function(e,t){var n=this._encodeString(e.internalFields.key);if(t)return t.$nodeByKey||(t.$nodeByKey={},this.$element().find(".".concat(S)).each((function(){var e=(0,i.default)(this),n=e.attr(U);t.$nodeByKey[n]=e}))),t.$nodeByKey[n]||(0,i.default)();var o=this.$element().get(0).querySelector("[".concat(U,'="').concat(n,'"]'));return(0,i.default)(o)},_activeStateUnit:"."+O,_widgetClass:function(){return I},_getDefaultOptions:function(){var e=(0,c.extend)(this.callBase(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:a.default.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null});return(0,c.extend)(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})},_initSelectedItems:l.noop,_syncSelectionOptions:l.asyncNoop,_fireSelectionChanged:function(){var e=this._selectionChangePromise;(0,x.when)(e).done(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}.bind(this))},_createSelectAllValueChangedAction:function(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})},_fireSelectAllValueChanged:function(e){this._selectAllValueChangedAction({value:e})},_checkBoxModeChange:function(e,t){if("none"!==t&&"none"!==e){var n=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":!n&&this._renderSelectAllItem();break;case"normal":n&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}}else this.repaint()},_removeSelection:function(){var e=this;(0,h.each)(this._dataAdapter.getFullData(),(function(t,n){e._hasChildren(n)&&e._dataAdapter.toggleSelection(n.internalFields.key,!1,!0)}))},_optionChanged:function(e){var t=e.name,n=e.value,i=e.previousValue;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",n);break;case"showCheckBoxesMode":this._checkBoxModeChange(n,i);break;case"scrollDirection":this._scrollableContainer.option("direction",n);break;case"items":delete this._$selectAllItem,this.callBase(e);break;case"dataSource":this.callBase(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._initExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":break;case"selectionMode":this._initDataAdapter(),this.callBase(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;default:this.callBase(e)}},_initDataSource:function(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(function(e){e&&e.length&&this.option("items",e)}.bind(this)):(this.callBase(),this._isVirtualMode()&&this._initVirtualMode())},_initVirtualMode:function(){var e=this._filter;e.custom||(e.custom=this._dataSource.filter()),e.internal||(e.internal=[this.option("parentIdExpr"),this.option("rootValue")])},_useCustomChildrenLoader:function(){return(0,u.isFunction)(this.option("createChildren"))&&this._isDataStructurePlain()},_loadChildrenByCustomLoader:function(e){var t=this.option("createChildren").call(this,e);return Array.isArray(t)?(new x.Deferred).resolve(t).promise():t&&(0,u.isFunction)(t.then)?(0,x.fromPromise)(t):(new x.Deferred).resolve([]).promise()},_combineFilter:function(){return this._filter.custom&&this._filter.custom.length?[this._filter.custom,this._filter.internal]:this._filter.internal},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this._filter={},this.callBase(),this._initStoreChangeHandlers()},_dataSourceChangedHandler:function(e){var t=this.option("items");this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)},_removeTreeViewLoadIndicator:function(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)},_createTreeViewLoadIndicator:function(){return this._treeViewLoadIndicator=(0,i.default)("<div>").addClass(F),this._createComponent(this._treeViewLoadIndicator,w.default,{}),this._treeViewLoadIndicator},_dataSourceLoadingChangedHandler:function(e){var t;if(this._isVirtualMode()&&(t=this._combineFilter(),this._dataSource.filter(t)),e&&!this._dataSource.isLoaded()){this.option("items",[]);var n=(0,i.default)("<div>").addClass(B);this._createTreeViewLoadIndicator().appendTo(n),this.itemsContainer().append(n),this._isVirtualMode()&&this._dataSource.filter()!==t&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()},_initStoreChangeHandlers:function(){var e=this;"plain"===this.option("dataStructure")&&this._dataSource&&this._dataSource.store().on("inserted",(function(t){e.option().items=e.option("items").concat(t),e._dataAdapter.addItem(t),e._dataAdapter.isFiltered(t)&&e._updateLevel(e._parentIdGetter(t))})).on("removed",(function(t){var n=e._dataAdapter.getNodeByKey(t);(0,u.isDefined)(n)&&(e.option("items")[e._dataAdapter.getIndexByKey(n.internalFields.key)]=0,e._markChildrenItemsToRemove(n),e._removeItems(),e._dataAdapter.removeItem(t),e._updateLevel(e._parentIdGetter(n)))}))},_markChildrenItemsToRemove:function(e){var t=this,n=e.internalFields.childrenKeys;(0,h.each)(n,(function(e,n){t.option("items")[t._dataAdapter.getIndexByKey(n)]=0,t._markChildrenItemsToRemove(t._dataAdapter.getNodeByKey(n))}))},_removeItems:function(){var e=this,t=(0,c.extend)(!0,[],this.option("items")),n=0;(0,h.each)(t,(function(t,i){i||(e.option("items").splice(t-n,1),n++)}))},_updateLevel:function(e){var t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))},_getOldContainer:function(e){return e.length?e.children(".".concat(k)):this._scrollableContainer?this._scrollableContainer.$content().children():(0,i.default)()},_getContainerByParentKey:function(e){var t=this._dataAdapter.getNodeByKey(e),n=t?this._getNodeElement(t):[];this._getOldContainer(n).remove();var i=this._renderNodeContainer(n);return this._isRootLevel(e)&&(this._scrollableContainer||this._renderScrollableContainer(),this._scrollableContainer.$content().append(i)),i},_isRootLevel:function(e){return e===this.option("rootValue")},_getAccessors:function(){var e=this.callBase();return e.push("hasItems"),e},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:this._dataSource&&this._dataSource.sort()}},_initMarkup:function(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){var e=this._renderNodeContainer();this._scrollableContainer.$content().append(e),this.option("items")&&this.option("items").length&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._initExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")},_isDataStructurePlain:function(){return"plain"===this.option("dataStructure")},_fireContentReadyAction:function(){var e=this.getDataSource(),t=e&&!e.isLoaded();this._scrollableContainer&&(0,d.hasWindow)()&&this._scrollableContainer.update(),t||this.callBase(),this._scrollableContainer&&(0,d.hasWindow)()&&this._scrollableContainer.update()},_renderScrollableContainer:function(){this._scrollableContainer=this._createComponent((0,i.default)("<div>").appendTo(this.$element()),C.default,{direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(e){var t=(0,i.default)("<ul>").addClass(k);if(this.setAria("role","group",t),e&&e.length){var n=this._getItemData(e.children("."+O));this._expandedGetter(n)&&t.addClass(D),t.appendTo(e)}return t},_createDOMElement:function(e,t){var n=(0,i.default)("<li>").addClass(S).attr(U,this._encodeString(t.internalFields.key)).prependTo(e);return this.setAria({role:"treeitem",label:this._displayGetter(t.internalFields.item)||"",expanded:t.internalFields.expanded||!1,level:this._getLevel(e)},n),n},_getLevel:function(e){var t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1},_showCheckboxes:function(){return"none"!==this.option("showCheckBoxesMode")},_selectAllEnabled:function(){return"selectAll"===this.option("showCheckBoxesMode")&&!this._isSingleSelection()},_renderItems:function(e,t){for(var n=t.length-1,i=n;i>=0;i--)this._renderItem(i,t[i],e);this._renderedItemsCount+=t.length},_renderItem:function(e,t,n){var i=this._createDOMElement(n,t),o=t.internalFields,r=this._showCheckboxes();i.addClass(r?M:P),i.toggleClass(H,!1===o.item.visible),r&&this._renderCheckBox(i,t),this.setAria("selected",o.selected,i),this._toggleSelectedClass(i,o.selected),this.callBase(this._renderedItemsCount+e,o.item,i),!1!==o.item.visible&&this._renderChildren(i,t)},_setAriaSelected:function(){},_renderChildren:function(e,t){var n=this;this._hasChildren(t)?(this._renderToggleItemVisibilityIcon(e,t),this.option("deferRendering")&&!t.internalFields.expanded||this._loadSublevel(t).done((function(i){n._renderSublevel(e,n._getActualNode(t),i)}))):this._addLeafClass(e)},_getActualNode:function(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)},_hasChildren:function(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?!1!==this._hasItemsGetter(e.internalFields.item):this.callBase(e)},_loadSublevel:function(e){var t=this,n=new x.Deferred,i=this._getChildNodes(e);return i.length?n.resolve(i):this._loadNestedItems(e).done((function(e){n.resolve(t._dataAdapter.getNodesByItems(e))})),n.promise()},_renderSublevel:function(e,t,n){var i=this._renderNodeContainer(e,t),o=n.filter((function(e){return-1!==t.internalFields.childrenKeys.indexOf(e.internalFields.key)}));if(this._renderItems(i,o),o.length&&!t.internalFields.selected){var r=o[0];this._updateParentsState(r,this._getNodeElement(r))}this._normalizeIconState(e,o.length),t.internalFields.expanded&&i.addClass(D)},_executeItemRenderAction:function(e,t,n){var i=this._getNode(n);this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(i)})},_addLeafClass:function(e){e.addClass(R)},_expandEventHandler:function(e){var t=(0,i.default)(e.currentTarget.parentNode);t.hasClass(R)||this._toggleExpandedState(e.currentTarget,void 0,e)},_initExpandEvent:function(){var e=this._getEventNameByOption(this.option("expandEvent")),t=this._itemContainer(),n=this._itemSelector();r.default.off(t,"."+K,n),r.default.on(t,e,n,this._expandEventHandler.bind(this))},_getEventNameByOption:function(e){var t="click"===e?s.name:_.name;return(0,m.addNamespace)(t,K)},_getNode:function(e){if(!(0,u.isDefined)(e))return null;if(e.internalFields)return e;if((0,u.isPrimitive)(e))return this._dataAdapter.getNodeByKey(e);var t=(0,i.default)(e).get(0);return t?o.default.isElementNode(t)?this._getNodeByElement(t):this._dataAdapter.getNodeByItem(t):null},_getNodeByElement:function(e){var t=(0,i.default)(e).closest("."+S),n=this._decodeString(t.attr(U));return this._dataAdapter.getNodeByKey(n)},_toggleExpandedState:function(e,t,n){var i=this._getNode(e);if(!i)return(new x.Deferred).reject().promise();if(i.internalFields.disabled)return(new x.Deferred).reject().promise();var o=i.internalFields.expanded;if(o===t)return(new x.Deferred).resolve().promise();if(this._hasChildren(i)){var r=this._getNodeElement(i);if(r.find(".".concat(E,":not(.").concat(H,")")).length)return(new x.Deferred).reject().promise();this._createLoadIndicator(r)}return(0,u.isDefined)(t)||(t=!o),this._dataAdapter.toggleExpansion(i.internalFields.key,t),this._updateExpandedItemsUI(i,t,n)},_createLoadIndicator:function(e){var t=e.children("."+A),n=e.children(".".concat(k));t.hasClass(N)||n.not(":empty").length||(this._createComponent((0,i.default)("<div>").addClass(E),w.default,{}).$element().appendTo(e),t.hide())},_renderToggleItemVisibilityIcon:function(e,t){var n=(0,i.default)("<div>").addClass(A).appendTo(e);t.internalFields.expanded&&(n.addClass(N),e.parent().addClass(D)),t.internalFields.disabled&&n.addClass(W),this._renderToggleItemVisibilityIconClick(n,t)},_renderToggleItemVisibilityIconClick:function(e,t){var n=this,i=(0,m.addNamespace)(s.name,this.NAME);r.default.off(e,i),r.default.on(e,i,(function(e){n._toggleExpandedState(t.internalFields.key,void 0,e)}))},_updateExpandedItemsUI:function(e,t,n){var i=this._getNodeElement(e),o=!i.length||t&&i.is(":hidden");if(this.option("expandNodesRecursive")&&o){var r=this._getNode(e.internalFields.parentKey);r&&this._updateExpandedItemsUI(r,t,n)}var a=i.children("."+A),s=i.children(".".concat(k));a.toggleClass(N,t);var l=s.length>0,d=new x.Deferred;return!t||l&&!s.is(":empty")?(this._animateNodeContainer(e,t,n,d),d.promise()):0===e.internalFields.childrenKeys.length&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,t,n,d),d.promise()):(this._renderSublevel(i,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,t,n,d),d.promise())},_loadNestedItemsWithUpdate:function(e,t,n,i){var o=this,r=this._getNodeElement(e);this._loadNestedItems(e).done((function(a){var s=o._getActualNode(e);o._renderSublevel(r,s,o._dataAdapter.getNodesByItems(a)),a&&a.length&&(o._fireContentReadyAction(),o._animateNodeContainer(s,t,n,i))}))},_loadNestedItems:function(e){var t=this;if(this._useCustomChildrenLoader()){var n=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(n).done((function(e){t._areNodesExists(e)||t._appendItems(e)}))}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done((function(e){t._areNodesExists(e)||t._appendItems(e)}))):(new x.Deferred).resolve([]).promise()},_areNodesExists:function(e,t){var n=this.keyOf(e[0]),i=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(n,i)},_appendItems:function(e){this.option().items=this.option("items").concat(e),this._initDataAdapter()},_animateNodeContainer:function(e,t,n,i){var o=this._getNodeElement(e),r=o.children(".".concat(k));e&&i&&0===r.length&&i.resolve(),r.addClass(D);var a=r.height();y.default.stop(r,!0),y.default.animate(r,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:t?0:a},to:{maxHeight:t?a:0},complete:function(){r.css("maxHeight","none"),r.toggleClass(D,t),this.setAria("expanded",t,o),this._scrollableContainer.update(),this._fireExpandedStateUpdatedEvent(t,e,n),i&&i.resolve()}.bind(this)})},_fireExpandedStateUpdatedEvent:function(e,t,n){if(this._hasChildren(t)){var i=e?"onItemExpanded":"onItemCollapsed";if((0,u.isDefined)(n))this._itemDXEventHandler(n,i,{node:this._dataAdapter.getPublicNode(t)});else{var o=this._getNodeElement(t);this._itemEventHandler(o,i,{event:n,node:this._dataAdapter.getPublicNode(t)})}}},_normalizeIconState:function(e,t){var n=e.find(".dx-loadindicator");if(n.length&&w.default.getInstance(n).option("visible",!1),t){var i=e.find("."+A);i.show()}else e.find("."+A).removeClass(A),e.addClass(R)},_emptyMessageContainer:function(){return this._scrollableContainer?this._scrollableContainer.content():this.callBase()},_renderContent:function(){var e=this.option("items");e&&e.length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(e){e=e||this.$element().find(".".concat(k)).first(),this._$selectAllItem=(0,i.default)("<div>").addClass(L);var t=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,f.default,{value:t,text:this.option("selectAllText"),onValueChanged:function(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)}.bind(this)}),this._toggleSelectedClass(this._$selectAllItem,t),e.before(this._$selectAllItem)},_toggleSelectAll:function(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()},_renderCheckBox:function(e,t){var n=(0,i.default)("<div>").appendTo(e);this._createComponent(n,f.default,{value:t.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,disabled:this._disabledGetter(t)})},_toggleSelectedClass:function(e,t){e.toggleClass(z,!!t)},_toggleNodeDisabledState:function(e,t){var n=this._getNodeElement(e),i=n.find("."+O).eq(0);if(this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),i.toggleClass(W,!!t),this._showCheckboxes()){var o=this._getCheckBoxInstance(n);o.option("disabled",!!t)}},_itemOptionChanged:function(e,t,n){var i=this._dataAdapter.getNodeByItem(e);t===this.option("disabledExpr")&&this._toggleNodeDisabledState(i,n)},_changeCheckboxValue:function(e){var t=(0,i.default)(e.element).parent("."+S),n=t.children("."+O),o=this._getItemData(n),r=this._getNodeByElement(n),a=e.value;r&&r.internalFields.selected===a||this._updateItemSelection(a,o,e.event)},_isSingleSelection:function(){return"single"===this.option("selectionMode")},_isRecursiveSelection:function(){return this.option("selectNodesRecursive")&&"single"!==this.option("selectionMode")},_isLastSelectedBranch:function(e,t,n){var i=t.indexOf(e.key);return i>=0&&t.splice(i,1),n&&(0,h.each)(e.children,function(e,n){this._isLastSelectedBranch(n,t,!0)}.bind(this)),e.parent&&this._isLastSelectedBranch(e.parent,t),0===t.length},_isLastRequired:function(e){var t=this.option("selectionRequired"),n=this._isSingleSelection(),i=this.getSelectedNodeKeys();if(t)return n?1===i.length:this._isLastSelectedBranch(e.internalFields.publicNode,i.slice(),!0)},_updateItemSelection:function(e,t,n){var i=this,o=this._getNode(t);if(!o)return!1;if(o.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(o)){if(this._showCheckboxes()){var r=this._getNodeElement(o),a=this._getCheckBoxInstance(r);a&&a.option("value",!0)}return!1}var s=this.getSelectedNodeKeys();this._isSingleSelection()&&e&&(0,h.each)(s,(function(e,t){i.unselectItem(t)})),this._dataAdapter.toggleSelection(o.internalFields.key,e),this._updateItemsUI();var l=n||this._findItemElementByItem(o.internalFields.item),d=n?this._itemDXEventHandler:this._itemEventHandler;return d.call(this,l,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(o),itemData:o.internalFields.item}),this._fireSelectionChanged(),!0},_getCheckBoxInstance:function(e){return e.children(".dx-checkbox").dxCheckBox("instance")},_updateItemsUI:function(){var e=this,t={};(0,h.each)(this._dataAdapter.getData(),(function(n,i){var o=e._getNodeElement(i,t),r=i.internalFields.selected;if(o.length&&(e._toggleSelectedClass(o,r),e.setAria("selected",r,o),e._showCheckboxes())){var a=e._getCheckBoxInstance(o);a.option("value",r)}})),this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value",this._dataAdapter.isAllSelected())},_updateParentsState:function(e,t){if(t){var n=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),o=(0,i.default)(t.parents("."+S)[0]);if(this._showCheckboxes()){var r=n.internalFields.selected;this._getCheckBoxInstance(o).option("value",r),this._toggleSelectedClass(o,r)}n.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(n,o)}},_itemEventHandlerImpl:function(e,t,n){var o=(0,i.default)(e).closest("."+S).children("."+O);return t((0,c.extend)(this._extendActionArgs(o),n))},_itemContextMenuHandler:function(e){this._createEventHandler("onItemContextMenu",e)},_itemHoldHandler:function(e){this._createEventHandler("onItemHold",e)},_createEventHandler:function(e,t){var n=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(n)})},_itemClass:function(){return O},_itemDataKey:function(){return V},_attachClickEvent:function(){var e="."+this._itemClass(),t="."+S+", ."+L,n=(0,m.addNamespace)(s.name,this.NAME),o=(0,m.addNamespace)(v.default.down,this.NAME),a=this._itemContainer(),l=this;r.default.off(a,n,e),r.default.off(a,o,t),r.default.on(a,n,e,(function(e){l._itemClickHandler(e,(0,i.default)(this))})),r.default.on(a,o,t,(function(e){l._itemPointerDownHandler(e)}))},_itemClickHandler:function(e,t){var n=this._getItemData(t),i=this._getNodeByElement(t);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(i)}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!i.internalFields.selected,n,e)},_updateSelectionToFirstItem:function(e,t){var n=t;while(n>=0){var o=(0,i.default)(e[n]);this._updateItemSelection(!0,o.find("."+O).get(0)),n--}},_updateSelectionToLastItem:function(e,t){var n=e.length,o=t;while(o<n){var r=(0,i.default)(e[o]);this._updateItemSelection(!0,r.find("."+O).get(0)),o++}},_focusInHandler:function(e){var t=this;if(this._updateFocusState(e,!0),this.option("focusedElement"))return clearTimeout(this._setFocusedItemTimeout),void(this._setFocusedItemTimeout=setTimeout((function(){t._setFocusedItem((0,i.default)(t.option("focusedElement")))})));var n=this._getActiveItem();this.option("focusedElement",(0,p.getPublicElement)(n.closest("."+S)))},_setFocusedItem:function(e){e&&e.length&&(e.children().hasClass(W)||this.callBase(e))},_itemPointerDownHandler:function(e){if(this.option("focusStateEnabled")){var t=(0,i.default)(e.target).closest("."+S+", ."+L);if(t.length){var n=t.hasClass(W)?null:t;this.option("focusedElement",(0,p.getPublicElement)(n))}}},_findNonDisabledNodes:function(e){return e.not((function(){return(0,i.default)(this).children("."+O).hasClass(W)}))},_moveFocus:function(e,t){var n="up",i="down",o="first",r="last",a=this.option("rtlEnabled")?"right":"left",s=this.option("rtlEnabled")?"left":"right";this.$element().find(".".concat(k)).each((function(){y.default.stop(this,!0)}));var l=this._findNonDisabledNodes(this._nodeElements());if(l&&l.length)switch(e){case n:var d=this._prevItem(l);this.option("focusedElement",(0,p.getPublicElement)(d));var u=this._getNodeItemElement(d);this._scrollableContainer.scrollToElement(u),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,u);break;case i:var c=this._nextItem(l);this.option("focusedElement",(0,p.getPublicElement)(c));var h=this._getNodeItemElement(c);this._scrollableContainer.scrollToElement(h),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,h);break;case o:var f=l.first();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(l,l.index(this._prevItem(l))),this.option("focusedElement",(0,p.getPublicElement)(f)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(f));break;case r:var g=l.last();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(l,l.index(this._nextItem(l))),this.option("focusedElement",(0,p.getPublicElement)(g)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(g));break;case s:this._expandFocusedContainer();break;case a:this._collapseFocusedContainer();break;default:return void this.callBase.apply(this,arguments)}},_getNodeItemElement:function(e){return e.find("."+O).get(0)},_nodeElements:function(){return this.$element().find("."+S).not(":hidden")},_expandFocusedContainer:function(){var e=(0,i.default)(this.option("focusedElement"));if(e.length&&!e.hasClass(R)){var t=e.find(".".concat(k)).eq(0);if(t.hasClass(D)){var n=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));return this.option("focusedElement",(0,p.getPublicElement)(n)),void this._scrollableContainer.scrollToElement(this._getNodeItemElement(n))}var o=this._getNodeByElement(e.children("."+O));this._toggleExpandedState(o,!0)}},_getClosestNonDisabledNode:function(e){do{e=e.parent().closest("."+S)}while(e.children(".dx-treeview-item.dx-state-disabled").length);return e},_collapseFocusedContainer:function(){var e=(0,i.default)(this.option("focusedElement"));if(e.length){var t=e.find(".".concat(k)).eq(0);if(!e.hasClass(R)&&t.hasClass(D)){var n=this._getNodeByElement(e.children("."+O));this._toggleExpandedState(n,!1)}else{var o=this._getClosestNonDisabledNode(e);o.length&&this.option("focusedElement",(0,p.getPublicElement)(o)),this._scrollableContainer.scrollToElement(this._getNodeItemElement(o))}}},_encodeString:function(e){return(0,u.isString)(e)?encodeURI(e):e},_decodeString:function(e){return(0,u.isString)(e)?decodeURI(e):e},updateDimensions:function(){var e=this,t=new x.Deferred;return this._scrollableContainer?this._scrollableContainer.update().done((function(){t.resolveWith(e)})):t.resolveWith(this),t.promise()},selectItem:function(e){return this._updateItemSelection(!0,e)},unselectItem:function(e){return this._updateItemSelection(!1,e)},expandItem:function(e){return this._toggleExpandedState(e,!0)},collapseItem:function(e){return this._toggleExpandedState(e,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},getSelectedNodes:function(){var e=this;return this.getSelectedNodeKeys().map((function(t){var n=e._dataAdapter.getNodeByKey(t);return e._dataAdapter.getPublicNode(n)}))},getSelectedNodesKeys:function(){return b.default.log("W0002","dxTreeView","getSelectedNodesKeys","20.1","Use the 'getSelectedNodeKeys' method instead"),this.getSelectedNodeKeys()},getSelectedNodeKeys:function(){return this._dataAdapter.getSelectedNodesKeys()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})},expandAll:function(){var e=this._dataAdapter;(0,h.each)(e.getData(),(function(t,n){return e.toggleExpansion(n.internalFields.key,!0)})),this.repaint()},collapseAll:function(){(0,h.each)(this._dataAdapter.getExpandedNodesKeys(),function(e,t){this._toggleExpandedState(t,!1)}.bind(this))},scrollToItem:function(e){var t=this,n=this._getNode(e);if(!n)return(new x.Deferred).reject().promise();var i=[],o=n.internalFields.publicNode.parent;while(null!=o)o.expanded||i.push(o.key),o=o.parent;var r=new x.Deferred;return this._expandNodes(i.reverse()).always((function(){var e=t._getNodeElement(n);e&&e.length?(t._scrollableContainer.scrollToElementTopLeft(e),r.resolve()):r.reject()})),r.promise()},_expandNodes:function(e){var t=this;if(!e||0===e.length)return(new x.Deferred).resolve().promise();var n=new x.Deferred,o=e.map((function(e){return t.expandItem(e)}));return x.when.apply(i.default,o).done((function(){return n.resolve()})).fail((function(){return n.reject()})),n.promise()},_dispose:function(){this.callBase(),clearTimeout(this._setFocusedItemTimeout)}}),G=j;t.default=G,e.exports=t.default},"536b":function(e,t,n){"use strict";t.GanttDataCache=void 0;var i=n("d4b2");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var s=function(){function e(){o(this,e),this._cache={},this._timers={}}return a(e,[{key:"saveData",value:function(e,t,n){if(t){this._clearTimer(e);var o=this._getCache(e,!0);(0,i.extendFromObject)(o,t,!0),n&&this._setExpireTimer(e,n)}}},{key:"pullDataFromCache",value:function(e,t){var n=this._getCache(e);n&&(0,i.extendFromObject)(t,n),this._onKeyExpired(e)}},{key:"hasData",value:function(e){return!!this._cache[e]}},{key:"_getCache",value:function(e,t){return!this._cache[e]&&t&&(this._cache[e]={}),this._cache[e]}},{key:"_setExpireTimer",value:function(e,t){var n=this;this._timers[e]=setTimeout((function(){t(e,n._getCache(e)),n._onKeyExpired(e)}),200)}},{key:"_onKeyExpired",value:function(e){this._clearCache(e),this._clearTimer(e)}},{key:"_clearCache",value:function(e){this._cache[e]}},{key:"_clearTimer",value:function(e){var t=this._timers;t&&t[e]&&(clearTimeout(t[e]),delete t[e])}}]),e}();t.GanttDataCache=s},5539:function(e,t,n){"use strict";t.getGanttViewCore=a;var i=r(n("0fc0")),o=r(n("8f6d"));function r(e){return e&&e.__esModule?e:{default:e}}function a(){if(!o.default)throw i.default.Error("E1041","devexpress-gantt");return o.default}},"55c1":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("1ff2"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("virtualColumns",o.default)},5963:function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.registerKeyboardAction=void 0;var o=a(n("62df"));function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var s=function(e,t,n,i,r){var a=t.getController("keyboardNavigation");if(!(t.option("useLegacyKeyboardNavigation")||a&&!a.isKeyboardEnabled())){var s=function(e){t.executeAction("onKeyDown",e)};t.createAction("onKeyDown"),o.registerKeyboardAction(e,t,n,i,r,s)}};t.registerKeyboardAction=s},"5e65":function(e,t,n){"use strict";t.default=void 0;var i=_(n("14a3")),o=_(n("b547")),r=_(n("8de2")),a=_(n("718c")),s=n("b62d"),l=n("ce5d"),d=n("d4b2"),u=n("5e04"),c=n("1820"),h=_(n("4f86")),p=n("2ab2"),f=_(n("1981")),g=_(n("f12e")),m=_(n("84cc")),v=_(n("e823"));function _(e){return e&&e.__esModule?e:{default:e}}var y="columns-separator",C="columns-separator-transparent",w="drag-header",x="text-content",b="drag-action",T="tracker",I="drop-highlight",S="dx-block-separator",k="dx-header-row",E="dx-widget",D="dx-drag-command-cell",R="dxDataGridResizingReordering",O=10,M=5,P=.5,V=function(e){return e.option("allowColumnResizing")||e.getController("columns").isColumnOptionUsed("allowResizing")},A=function(e){return e.option("allowColumnReordering")||e.getController("columns").isColumnOptionUsed("allowReordering")},F=f.default.View.inherit({_renderCore:function(){this.callBase(),this.element().addClass(this.addWidgetPrefix(T)),this.hide()},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_subscribeToCallback:function(){var e=this;e._positionChanged=function(t){var n=e.element();n&&n.hasClass(e.addWidgetPrefix(T))&&(n.css({top:t.top}),n.height(t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)},optionChanged:function(e){"allowColumnResizing"===e.name&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()},isVisible:function(){return V(this)},show:function(){this.element().show()},hide:function(){this.element()&&this.element().hide()},setHeight:function(e){this.element().height(e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),B=f.default.View.inherit({_renderSeparator:function(){},_renderCore:function(e){this.callBase(e),this._isShown=!0,this._renderSeparator(),this.hide()},show:function(){this._isShown=!0},hide:function(){this._isShown=!1},height:function(e){var t=this.element();if(t){if(!(0,s.isDefined)(e))return t.height();t.height(e)}},width:function(e){var t=this.element();if(t){if(!(0,s.isDefined)(e))return t.width();t.width(e)}}}),N=B.inherit({_renderSeparator:function(){this.callBase();var e=this.element();e.addClass(this.addWidgetPrefix(y))},_subscribeToCallback:function(){var e,t=this;t._positionChanged=function(n){e=t.element(),e&&(e.css({top:n.top}),e.height(n.height))},t._tablePositionController.positionChanged.add(t._positionChanged)},_unsubscribeFromCallback:function(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)},_init:function(){this._isTransparent=V(this),this.isVisible()&&this._subscribeToCallback()},isVisible:function(){return this.option("showColumnHeaders")&&(A(this)||V(this))},optionChanged:function(e){"allowColumnResizing"===e.name&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=V(this),this.hide(!0))),this.callBase(e)},init:function(){this.callBase(),this._tablePositionController=this.getController("tablePosition"),this._init()},show:function(){var e=this,t=this.element();t&&!e._isShown&&(e._isTransparent?t.removeClass(e.addWidgetPrefix(C)):t.show()),this.callBase()},hide:function(e){var t=this.element(),n=this.addWidgetPrefix(C);t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(n),t.css("left",""),t.show()):(t.hasClass(n)&&t.removeClass(n),t.hide())),this.callBase()},moveByX:function(e){var t=this.element();t&&t.css("left",e-this._parentElement().offset().left)},changeCursor:function(e){e=(0,s.isDefined)(e)?e:"";var t=this.element();t&&t.css("cursor",e)},dispose:function(){this._unsubscribeFromCallback(),this.callBase()}}),L=B.inherit({init:function(){var e=this;this.callBase(),this.getController("data").loadingChanged.add((function(t){t||e.hide()}))},_renderSeparator:function(){this.callBase(),this.element().addClass(S).html("&nbsp;")},hide:function(){var e=this,t=this._parentElement(),n=this.element();n&&this._isShown&&n.css("display","none"),t&&!t.children("."+S).length&&t.prepend(e.element()),e.callBase()},isVisible:function(){var e=this.option("groupPanel"),t=this.option("columnChooser");return e&&e.visible||t&&t.enabled},show:function(e){var t=this,n=this.element(),i=function(e){m.default.stop(n,!0),m.default.animate(n,{type:"slide",from:{width:0,display:e.display},to:e,duration:300,easing:"swing"})};if(n&&!t._isShown)switch(e){case"group":i({width:"50px",display:"inline-block"});break;case"columnChooser":i({width:"100%",display:"block"});break;default:n.css("display","")}t.callBase()}}),H=f.default.View.inherit({_isDragging:!1,isDragging:function(){return this._isDragging},_getDraggingPanelByPos:function(e){var t,n=this;return(0,l.each)(n._dragOptions.draggingPanels,(function(n,i){if(i){var o=i.getBoundingRect();if(o&&(void 0===o.bottom||e.y<o.bottom)&&(void 0===o.top||e.y>o.top)&&(void 0===o.left||e.x>o.left)&&(void 0===o.right||e.x<o.right))return t=i,!1}})),t},_renderCore:function(){this.element().addClass(this.addWidgetPrefix(w)+" "+this.addWidgetPrefix(x)+" "+E).hide()},_resetTargetColumnOptions:function(){var e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY},_getVisibleIndexObject:function(e,t){return(0,s.isDefined)(e)?{columnIndex:t,rowIndex:e}:t},dispose:function(){var e=this.element();this._dragOptions=null,e&&e.parent().find("."+this.addWidgetPrefix(w)).remove()},isVisible:function(){var e=this.getController("columns"),t=e.getCommonSettings();return this.option("showColumnHeaders")&&(A(this)||t.allowGrouping||t.allowHiding)},init:function(){var e=this;this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this.getController("data").loadingChanged.add((function(t){var n=e.element();!t&&n&&n.hide()}))},dragHeader:function(e){var t=this,n=e.columnElement,i=!!e.sourceColumn.type;t._isDragging=!0,t._dragOptions=e,t._dropOptions={sourceIndex:e.index,sourceColumnIndex:t._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:e.columnElement,sourceLocation:e.sourceLocation};var r=o.default.getDocument();t._onSelectStart=r.onselectstart,r.onselectstart=function(){return!1},t._controller.drag(t._dropOptions),t.element().css({textAlign:n&&n.css("textAlign"),height:n&&(i&&n.get(0).clientHeight||n.height()),width:n&&(i&&n.get(0).clientWidth||n.width()),whiteSpace:n&&n.css("whiteSpace")}).addClass(t.addWidgetPrefix(b)).toggleClass(D,i).text(i?"":e.sourceColumn.caption),t.element().appendTo(v.default.getSwatchContainer(n))},moveHeader:function(e){var t=e.event,n=t.data.that,i=(0,c.eventData)(t),o=!!n._columnsResizerViewController&&n._columnsResizerViewController.isResizing(),r=n._dragOptions;if(n._isDragging&&!o){var a=n.element(),s=Math.abs(i.x-r.columnElement.offset().left-r.deltaX),l=Math.abs(i.y-r.columnElement.offset().top-r.deltaY);if(a.is(":visible")||s>M||l>M){a.show();var d=i.x-r.deltaX,u=i.y-r.deltaY;a.css({left:d,top:u}),n.dockHeader(i)}t.preventDefault()}},dockHeader:function(e){var t=this,n=t._getDraggingPanelByPos(e),o=t._controller,r=t._dropOptions,a=t._dragOptions;if(n){var s=t.option("rtlEnabled"),l="columnChooser"===n.getName(),u=l?"y":"x",c=n.getName(),h="headers"===c?a.rowIndex:void 0,p=a.sourceColumn,f=n.getColumnElements(h,p&&p.ownerBand)||[],g=a.pointsByTarget=a.pointsByTarget||{},m="columnChooser"===c?[]:g[c]||o._generatePointsByColumns((0,d.extend)({},a,{targetDraggingPanel:n,columns:n.getColumns(h),columnElements:f,isVerticalOrientation:l,startColumnIndex:"headers"===c&&(0,i.default)(f[0]).index()}));if(g[c]=m,r.targetLocation=c,m.length>0)for(var v=0;v<m.length;v++){var _=m[v+1]&&(m[v][u]+m[v+1][u])/2;if(void 0===_||(s&&"x"===u?e[u]>_:e[u]<_)){r.targetColumnIndex=t._getVisibleIndexObject(h,m[v].columnIndex),f[v]?(r.targetColumnElement=f.eq(v),r.isLast=!1):(r.targetColumnElement=f.last(),r.isLast=!0),r.posX=m[v].x,r.posY=m[v].y,o.dock(r);break}}else t._resetTargetColumnOptions(),o.dock(r)}},dropHeader:function(e){var t=e.event,n=t.data.that,i=n._controller;n.element().hide(),i&&n._isDragging&&i.drop(n._dropOptions),n.element().appendTo(n._parentElement()),n._dragOptions=null,n._dropOptions=null,n._isDragging=!1,o.default.getDocument().onselectstart=n._onSelectStart||null}}),W=function(e){return"widget"!==e.option("columnResizingMode")},z=f.default.ViewController.inherit({_isHeadersRowArea:function(e){if(this._columnHeadersView){var t=this._columnHeadersView.element();if(t){var n=t.offset().top,i=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+i}}return!1},_isRtlParentStyle:function(){var e;return this.option("rtlEnabled")&&"rtl"===(null===(e=this._$parentContainer)||void 0===e?void 0:e.parent().css("direction"))},_pointCreated:function(e,t,n){var i=W(this),o=this.option("rtlEnabled"),r=this._isRtlParentStyle(),a=i||!o||r?1:0;if(e.index>=a&&e.index<t+(i||o&&!r?0:1)){e.columnIndex-=a;var s=n[e.columnIndex]||{},l=n[e.columnIndex+1]||{};return!(i?s.allowResizing&&l.allowResizing:s.allowResizing)}return!0},_getTargetPoint:function(e,t,n){if(e)for(var i=0;i<e.length;i++)if((e[i].x!==e[0].x||!e[i+1]||e[i].x!==e[i+1].x)&&e[i].x-n<=t&&t<=e[i].x+n)return e[i];return null},_moveSeparator:function(e){var t=e.event,n=t.data,i=n._columnsSeparatorView.width(),o=W(n),r=i/2,a=n._$parentContainer.offset(),s=a.left,l=(0,c.eventData)(t),d=n.option("rtlEnabled"),u=this._isRtlParentStyle();if(n._isResizing&&n._resizingInfo){if((s<=l.x||!o&&u)&&(!o||l.x<=s+n._$parentContainer.width())&&n._updateColumnsWidthIfNeeded(l.x)){var h=n._columnHeadersView.getColumnElements().eq(n._resizingInfo.currentColumnIndex),p=h[0];if(p){var f=p.getBoundingClientRect().width;n._columnsSeparatorView.moveByX(h.offset().left+((o||u)&&d?0:f)),n._tablePositionController.update(n._targetPoint.y),t.preventDefault()}}}else n._isHeadersRowArea(l.y)?(n._previousParentOffset&&(n._previousParentOffset.left===a.left&&n._previousParentOffset.top===a.top||n.pointsByColumns(null)),n._targetPoint=n._getTargetPoint(n.pointsByColumns(),l.x,i),n._previousParentOffset=a,n._isReadyResizing=!1,n._targetPoint?(n._columnsSeparatorView.changeCursor("col-resize"),n._columnsSeparatorView.moveByX(n._targetPoint.x-r),n._tablePositionController.update(n._targetPoint.y),n._isReadyResizing=!0,t.preventDefault()):n._columnsSeparatorView.changeCursor()):(n.pointsByColumns(null),n._isReadyResizing=!1,n._columnsSeparatorView.changeCursor())},_endResizing:function(e){var t=e.event,n=t.data;n._isResizing&&(n.pointsByColumns(null),n._resizingInfo=null,n._columnsSeparatorView.hide(),n._columnsSeparatorView.changeCursor(),n._trackerView.hide(),n._isReadyResizing=!1,n._isResizing=!1)},_getNextColumnIndex:function(e){return e+1},_setupResizingInfo:function(e){var t=this,n=t._targetPoint.columnIndex,i=t._getNextColumnIndex(n),o=t._columnHeadersView.getHeaderElement(n),r=t._columnHeadersView.getHeaderElement(i);t._resizingInfo={startPosX:e,currentColumnIndex:n,currentColumnWidth:o&&o.length>0?(0,u.getBoundingRect)(o[0]).width:0,nextColumnIndex:i,nextColumnWidth:r&&r.length>0?(0,u.getBoundingRect)(r[0]).width:0}},_startResizing:function(e){var t=e.event,n=t.data,i=(0,c.eventData)(t);if((0,c.isTouchEvent)(t)&&(n._isHeadersRowArea(i.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),i.x,O),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(i.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();var o=n.component.getScrollable();o&&n._isRtlParentStyle()&&(n._scrollRight=o.$content().width()-o._container().width()-o.scrollLeft()),t.preventDefault(),t.stopPropagation()}this.isResizing()&&this.getController("editorFactory").loseFocus()},_generatePointsByColumns:function(){var e=this,t=e._columnsController?e._columnsController.getVisibleColumns():[],n=e._columnHeadersView.getColumnElements(),i=[];n&&n.length>0&&(i=g.default.getPointsByColumns(n,(function(i){return e._pointCreated(i,n.length,t)}))),e._pointsByColumns=i},_unsubscribeFromEvents:function(){this._moveSeparatorHandler&&r.default.off(o.default.getDocument(),(0,c.addNamespace)(h.default.move,R),this._moveSeparatorHandler),this._startResizingHandler&&r.default.off(this._$parentContainer,(0,c.addNamespace)(h.default.down,R),this._startResizingHandler),this._endResizingHandler&&(r.default.off(this._columnsSeparatorView.element(),(0,c.addNamespace)(h.default.up,R),this._endResizingHandler),r.default.off(o.default.getDocument(),(0,c.addNamespace)(h.default.up,R),this._endResizingHandler))},_subscribeToEvents:function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),r.default.on(o.default.getDocument(),(0,c.addNamespace)(h.default.move,R),this,this._moveSeparatorHandler),r.default.on(this._$parentContainer,(0,c.addNamespace)(h.default.down,R),this,this._startResizingHandler),r.default.on(this._columnsSeparatorView.element(),(0,c.addNamespace)(h.default.up,R),this,this._endResizingHandler),r.default.on(o.default.getDocument(),(0,c.addNamespace)(h.default.up,R),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded:function(e){var t,n,i,o,r,a=!1,l=this._resizingInfo,d=this._columnsController,u=d.getVisibleColumns(),c=this._columnsSeparatorView.width(),h=this._rowsView.contentWidth(),p=W(this),f=p&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),m=this.option("rtlEnabled"),v=this._isRtlParentStyle();function _(e){return(0,s.isString)(e)&&"%"===e.slice(-1)}function y(e,t,n,i){if(e){var o=e.width;o&&(i=_(o)),i?(e&&d.columnOption(e.index,"visibleWidth",t),e&&d.columnOption(e.index,"width",(t/n*100).toFixed(3)+"%")):(e&&d.columnOption(e.index,"visibleWidth",null),e&&d.columnOption(e.index,"width",t))}}function C(e,t){var n=t.every((function(e){return e.width}));if(n){var i=t.reduce((function(e,t){return _(t.width)&&(e+=parseFloat(t.width)),e}),0);i>100&&(e=e/i*100)}return e}t=e-l.startPosX,(p||v)&&m&&(t=-t),r=l.currentColumnWidth+t;var w=u[l.currentColumnIndex];if(i=w&&w.minWidth||c,a=r>=i,p&&(n=l.nextColumnWidth-t,o=u[l.nextColumnIndex],i=o&&o.minWidth||c,a=a&&n>=i),a){if(d.beginUpdate(),r=Math.floor(r),h=C(h,u),y(w,r,h,f),p)n=Math.floor(n),y(o,n,h,f);else{var x=this._columnHeadersView.getColumnWidths();x[l.currentColumnIndex]=r;var b=x.reduce((function(e,t){return e+t}),0)>this._rowsView.contentWidth();if(!b){var T=g.default.getLastResizableColumnIndex(u);T>=0&&d.columnOption(u[T].index,"visibleWidth","auto")}for(var I=0;I<x.length;I++)u[I]&&u[I]!==w&&void 0===u[I].width&&d.columnOption(u[I].index,"width",x[I])}if(d.endUpdate(),!p){this.component.updateDimensions();var S=this.component.getScrollable();if(S&&v){var k=S.$content().width()-S._container().width()-this._scrollRight;S.scrollTo({left:k})}}}return a},_subscribeToCallback:function(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})},_unsubscribeFromCallbacks:function(){for(var e=0;e<this._subscribesToCallbacks.length;e++){var t=this._subscribesToCallbacks[e];t.callback.remove(t.handler)}this._subscribesToCallbacks=[]},_unsubscribes:function(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()},_init:function(){var e=this,t=function(){e._isResizing||e.pointsByColumns(null)},n=function(t){e._scrollLeft!==t.left&&(e._scrollLeft=t.left,e.pointsByColumns(null))};e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._columnHeadersView=e.getView("columnHeadersView"),e._trackerView=e.getView("trackerView"),e._rowsView=e.getView("rowsView"),e._columnsController=e.getController("columns"),e._tablePositionController=e.getController("tablePosition"),e._$parentContainer=e.component.$element(),e._subscribeToCallback(e._columnHeadersView.renderCompleted,t),e._subscribeToCallback(e._columnHeadersView.resizeCompleted,t),e._subscribeToCallback(e._columnsSeparatorView.renderCompleted,(function(){e._unsubscribeFromEvents(),e._subscribeToEvents()})),e._subscribeToCallback(e._rowsView.renderCompleted,(function(){e._rowsView.scrollChanged.remove(n),e._rowsView.scrollChanged.add(n)}));var i=0!==e._rowsView.getScrollbarWidth(),o=0;e._subscribeToCallback(e.getController("tablePosition").positionChanged,(function(t){if(e._isResizing&&!e._rowsView.isResizing){var n=0!==e._rowsView.getScrollbarWidth();i!==n||o&&o!==t.height?(i=n,o=t.height,e.component.updateDimensions()):e._rowsView.updateFreeSpaceRowHeight()}o=t.height}))},optionChanged:function(e){this.callBase(e),"allowColumnResizing"===e.name&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())},isResizing:function(){return this._isResizing},init:function(){this._subscribesToCallbacks=[],V(this)&&this._init()},pointsByColumns:function(e){if(void 0===e)return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns;this._pointsByColumns=e},dispose:function(){this._unsubscribes(),this.callBase()}}),K=f.default.ViewController.inherit({update:function(e){var t=this,n={},i=t._columnHeadersView.element(),o=i&&i.offset(),r=o&&o.top||0,a=(0,s.isDefined)(e)?Math.abs(e-r):0,l=t._columnHeadersView?t._columnHeadersView.getHeight():0,d=t._rowsView.getScrollbarWidth(!0),u=t._rowsView?t._rowsView.height()-d:0,c=t.component.getController("columnsResizer"),h=t.component.getView("draggingHeaderView");n.height=l;var p=!1!==c.isResizing()||h.isDragging();p&&(n.height+=u-a),null!==e&&i&&i.length&&(n.top=i[0].offsetTop+a),t.positionChanged.fire(n)},init:function(){var e=this;e.callBase(),e._columnHeadersView=this.getView("columnHeadersView"),e._rowsView=this.getView("rowsView"),e._pagerView=this.getView("pagerView"),e._rowsView.resizeCompleted.add((function(){if(e.option("allowColumnResizing")){var t=e.getController("columnsResizer")._targetPoint;e.update(t?t.y:null)}}))},ctor:function(e){this.callBase(e),this.positionChanged=(0,a.default)()}}),U=f.default.ViewController.inherit({_generatePointsByColumns:function(e){var t=this;return g.default.getPointsByColumns(e.columnElements,(function(n){return t._pointCreated(n,e.columns,e.targetDraggingPanel.getName(),e.sourceColumn)}),e.isVerticalOrientation,e.startColumnIndex)},_pointCreated:function(e,t,n,i){var o=t[e.columnIndex],r=t[e.columnIndex-1];switch(n){case"columnChooser":return!0;case"headers":return i&&!i.allowReordering||(!o||!o.allowReordering)&&(!r||!r.allowReordering);default:return 0===t.length}},_subscribeToEvents:function(e,t){var n=this;(0,l.each)(t,(function(o,a){if(a)for(var s,d=a.getRowCount?a.getRowCount():1,u=a.getName(),h=function(o,l){if(l){var d=(0,i.default)(l),h=s[o];a.allowDragging(h,u,t)&&(d.addClass(n.addWidgetPrefix(b)),r.default.on(d,(0,c.addNamespace)(p.start,R),n.createAction((function(r){var a=r.event,s=(0,c.eventData)(a);e.dragHeader({deltaX:s.x-(0,i.default)(a.currentTarget).offset().left,deltaY:s.y-(0,i.default)(a.currentTarget).offset().top,sourceColumn:h,index:h.index,columnIndex:o,columnElement:d,sourceLocation:u,draggingPanels:t,rowIndex:n._columnsController.getRowIndex(h.index,!0)})}))),r.default.on(d,(0,c.addNamespace)(p.move,R),{that:e},n.createAction(e.moveHeader)),r.default.on(d,(0,c.addNamespace)(p.end,R),{that:e},n.createAction(e.dropHeader)))}},f=0;f<d;f++){var g=a.getColumnElements(f)||[];g.length&&(s=a.getColumns(f)||[],(0,l.each)(g,h))}}))},_unsubscribeFromEvents:function(e,t){var n=this;(0,l.each)(t,(function(e,t){if(t){var o=t.getColumnElements()||[];(0,l.each)(o,(function(e,t){var o=(0,i.default)(t);r.default.off(o,(0,c.addNamespace)(p.start,R)),r.default.off(o,(0,c.addNamespace)(p.move,R)),r.default.off(o,(0,c.addNamespace)(p.end,R)),o.removeClass(n.addWidgetPrefix(b))}))}}))},_getSeparator:function(e){return"headers"===e?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators:function(e){var t=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=null,t&&t.hide(),"block"!==e&&n&&n.hide()},init:function(){var e=this;e.callBase(),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._columnsSeparatorView=e.getView("columnsSeparatorView"),e._draggingHeaderView=e.getView("draggingHeaderView"),e._rowsView=e.getView("rowsView"),e._blockSeparatorView=e.getView("blockSeparatorView"),e._headerPanelView=e.getView("headerPanel"),e._columnChooserView=e.getView("columnChooserView");var t=function(){if(e._draggingHeaderView){var t=[e._columnChooserView,e._columnHeadersView,e._headerPanelView];e._unsubscribeFromEvents(e._draggingHeaderView,t),e._subscribeToEvents(e._draggingHeaderView,t)}};e._columnHeadersView.renderCompleted.add(t),e._headerPanelView&&e._headerPanelView.renderCompleted.add(t),e._columnChooserView&&e._columnChooserView.renderCompleted.add(t)},allowDrop:function(e){return this._columnsController.allowMoveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)},drag:function(e){var t=e.sourceIndex,n=e.sourceLocation,i=e.sourceColumnElement,o=this._columnHeadersView,r=this._rowsView;i&&(i.css({opacity:P}),"headers"===n&&(o&&o.setRowsOpacity(t,P),r&&r.setRowsOpacity(t,P)))},dock:function(e){var t=this,n=(0,s.isObject)(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,i=e.sourceLocation,o=e.targetLocation,r=t._getSeparator(o),a=n>=0,l=function(){t._animationColumnIndex!==n&&(t.hideSeparators(),r.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=n,r.show(o))};t._columnHeadersView.element().find("."+k).toggleClass(t.addWidgetPrefix(I),"headers"!==i&&"headers"===o&&!a),r&&(t.allowDrop(e)&&a?"group"===o||"columnChooser"===o?l():(t.hideSeparators("block"),t.getController("tablePosition").update(e.posY),r.moveByX(e.posX-r.width()),r.show()):t.hideSeparators())},drop:function(e){var t=e.sourceColumnElement;if(t&&(t.css({opacity:""}),this._columnHeadersView.setRowsOpacity(e.sourceIndex,""),this._rowsView.setRowsOpacity(e.sourceIndex,""),this._columnHeadersView.element().find("."+k).removeClass(this.addWidgetPrefix(I))),this.allowDrop(e)){var n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(e.sourceColumnIndex,e.targetColumnIndex,e.sourceLocation,e.targetLocation)}},dispose:function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}),j={views:{columnsSeparatorView:N,blockSeparatorView:L,draggingHeaderView:H,trackerView:F},controllers:{draggingHeader:U,tablePosition:K,columnsResizer:z},extenders:{views:{rowsView:{_needUpdateRowHeight:function(e){var t=this.option("wordWrapEnabled"),n=this.getController("columnsResizer"),i=n.isResizing();return this.callBase.apply(this,arguments)||e>0&&t&&i}}},controllers:{editorFactory:{renderFocusOverlay:function(){if(!this.getController("columnsResizer").isResizing())return this.callBase.apply(this,arguments)}}}}};t.default=j,e.exports=t.default},"5ebc":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("d913"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("filterBuilder",o.default)},"614f":function(e,t,n){"use strict";t.default=void 0;var i={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},o={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"},r={getIconByFilterOperation:function(e){return i[e]},getNameByFilterOperation:function(e){return o[e]}};t.default=r,e.exports=t.default},"62df":function(e,t,n){"use strict";t.subscribeVisibilityChange=k,t.unsubscribeVisibilityChange=E,t.hiddenFocus=D,t.registerKeyboardAction=R,t.restoreFocus=O,t.selectView=M,t.setTabIndex=P;var i=d(n("14a3")),o=d(n("8de2")),r=n("1820"),a=n("d4b2"),s=d(n("b547")),l=n("2809");function d(e){return e&&e.__esModule?e:{default:e}}var u="dx-state-focused",c="dx-cell-focus-disabled",h=".dx-row-focused",p=".dx-datagrid-rowsview .dx-row",f="".concat(p," > td"),g=".dx-treelist-rowsview .dx-row",m="".concat(g," > td"),v={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:["".concat(h),"".concat(p,"[tabindex]"),"".concat(f,"[tabindex]"),"".concat(f),"".concat(g,"[tabindex]"),"".concat(m,"[tabindex]"),"".concat(m)],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]},_=!1,y=!1,C=null;function w(e,t,n,i,o,a){var s=I(t,n.originalEvent,a);if(!s){var l=(0,r.normalizeKeyName)(n);"enter"===l||"space"===l?(x(n.target,t),i&&i({event:n})):"tab"===l?o.addClass(u):M(e,t,n)}}function x(e,t){var n=(0,i.default)(e),o=n.attr("aria-label"),r=b(o,t.element()),s=r.index(n);C=(0,a.extend)({},{ariaLabel:o,index:s},{viewInstance:t})}function b(e,t){var n,o=(0,i.default)(t);return n=e?o.find('[aria-label="'.concat(e,'"][tabindex]')):o.find("[tabindex]"),n}function T(e){for(var t in e){var n=e[t],o=(0,i.default)(n).first();if(o.length)return o}}function I(e,t,n){var i={event:t,handled:!1};return n?n(i):e._createActionByOption("onKeyDown")(i),i.handled}function S(){y="visible"===s.default.getDocument().visibilityState}function k(){o.default.on(s.default.getDocument(),"visibilitychange",S)}function E(){o.default.off(s.default.getDocument(),"visibilitychange",S)}function D(e){y=!0,e.focus(),y=!1}function R(e,t,n,r,a,s){if(t.option("useLegacyKeyboardNavigation"))return l.noop;var d=(0,i.default)(t.element()),c=function(n){return w(e,t,n,a,d,s)},h=function(){_=!0,d.removeClass(u)},p=function(){var e=!_&&!y;e&&d.addClass(u),_=!1};return o.default.on(n,"keydown",r,c),o.default.on(n,"mousedown",r,h),o.default.on(n,"focusin",r,p),function(){o.default.off(n,"keydown",r,c),o.default.off(n,"mousedown",r,h),o.default.off(n,"focusin",r,p)}}function O(e){if(!e.option("useLegacyKeyboardNavigation")&&C){var t=C.viewInstance;if(t){var n=b(C.ariaLabel,t.element()),i=n.eq(C.index);C=null,o.default.trigger(i,"focus")}}}function M(e,t,n){var i=(0,r.normalizeKeyName)(n);if(n.ctrlKey&&("upArrow"===i||"downArrow"===i)){var a=Object.keys(v),s=a.indexOf(e);while(s>=0&&s<a.length){s="upArrow"===i?--s:++s;var l=a[s],d=v[l],u=T(d);if(u&&u.length){u.attr("tabindex",t.option("tabindex")||0),o.default.trigger(u,"focus"),u.removeClass(c);break}}}}function P(e,t){e.option("useLegacyKeyboardnavigation")||t.attr("tabindex",e.option("tabindex")||0)}},"6ac2":function(e,t,n){"use strict";t.default=void 0;var i=l(n("14a3")),o=l(n("8de2")),r=n("5c27"),a=n("ce5d"),s=l(n("1981"));function l(e){return e&&e.__esModule?e:{default:e}}var d="dx-error-row",u="dx-error-message",c="dx-closebutton",h="action",p=s.default.ViewController.inherit({init:function(){var e=this;e._columnHeadersView=e.getView("columnHeadersView"),e._rowsView=e.getView("rowsView")},_createErrorRow:function(e,t){var n,s,l=this,u=this._renderErrorMessage(e);return t?(n=(0,i.default)("<tr>").addClass(d),s=(0,i.default)("<div>").addClass(c).addClass(l.addWidgetPrefix(h)),o.default.on(s,r.name,l.createAction((function(e){var n,o=e.event,r=(0,i.default)(o.currentTarget).closest("."+d).index();o.stopPropagation(),(0,a.each)(t,(function(e,t){n=(0,i.default)(t).children("tbody").children("tr").eq(r),l.removeErrorRow(n)})),l.getController("resizing")&&l.getController("resizing").fireContentReadyAction()}))),(0,i.default)("<td>").attr({colSpan:l.getController("columns").getVisibleColumns().length,role:"presentation"}).prepend(s).append(u).appendTo(n),n):u},_renderErrorMessage:function(e){var t=e.url?e.message.replace(e.url,""):e.message||e,n=(0,i.default)("<div>").addClass(u).text(t);return e.url&&(0,i.default)("<a>").attr("href",e.url).text(e.url).appendTo(n),n},renderErrorRow:function(e,t,n){var o,r,s=this;if(n)return n.find("."+u).remove(),o=s._createErrorRow(e),n.prepend(o),o;var l=t>=0||!s._columnHeadersView.isVisible()?s._rowsView:s._columnHeadersView,d=n||l.getTableElements();if((0,a.each)(d,(function(n,a){if(o=s._createErrorRow(e,d),r=r||o,t>=0){var u=l._getRowElements((0,i.default)(a)).eq(t);s.removeErrorRow(u.next()),o.insertAfter(u)}else{var c=(0,i.default)(a).children("tbody"),h=c.children("tr");s._columnHeadersView.isVisible()?(s.removeErrorRow(h.last()),(0,i.default)(a).append(o)):(s.removeErrorRow(h.first()),c.first().prepend(o))}})),!n){var c=s.getController("resizing");c&&c.fireContentReadyAction()}return r},removeErrorRow:function(e){if(!e){var t=this._columnHeadersView&&this._columnHeadersView.element();if(e=t&&t.find("."+d),!e||!e.length){var n=this._rowsView.element();e=n&&n.find("."+d)}}e&&e.hasClass(d)&&e.remove()},optionChanged:function(e){var t=this;switch(e.name){case"errorRowEnabled":e.handled=!0;break;default:t.callBase(e)}}}),f={defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:p},extenders:{controllers:{data:{init:function(){var e=this,t=e.getController("errorHandling");e.callBase(),e.dataErrorOccurred.add((function(n,i){e.option("errorRowEnabled")&&t.renderErrorRow(n,void 0,i)})),e.changed.add((function(t){if(!t||"loadError"!==t.changeType){var n=e.getController("errorHandling"),i=e.getController("editing");i&&!i.hasChanges()&&n&&n.removeErrorRow()}}))}}}}};t.default=f,e.exports=t.default},"6d08":function(e,t,n){"use strict";t.StateStoringController=void 0;var i=p(n("8de2")),o=n("706b"),r=p(n("1981")),a=p(n("0fc0")),s=p(n("b876")),l=n("cb1a"),d=n("d4b2"),u=n("ce5d"),c=n("b62d"),h=n("b49b");function p(e){return e&&e.__esModule?e:{default:e}}var f=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,g=function e(t){t&&(0,u.each)(t,(function(n,i){if((0,c.isPlainObject)(i)||Array.isArray(i))e(i);else if("string"===typeof i){var o=f.exec(i);o&&(t[n]=new Date(Date.UTC(+o[1],+o[2]-1,+o[3],+o[4],+o[5],+o[6])))}}))},m=r.default.ViewController.inherit(function(){var e=function(e){var t="sessionStorage"===e.type?(0,l.sessionStorage)():(0,o.getWindow)().localStorage;if(!t)throw"file:"===(0,o.getWindow)().location.protocol&&s.default.msie?new Error("E1038"):new Error("E1007");return t},t=function(e){return(0,c.isDefined)(e.storageKey)?e.storageKey:"storage"};return{_loadState:function(){var n=this.option("stateStoring");if("custom"===n.type)return n.customLoad&&n.customLoad();try{return JSON.parse(e(n).getItem(t(n)))}catch(i){a.default.log(i.message)}},_saveState:function(n){var i=this.option("stateStoring");if("custom"!==i.type)try{e(i).setItem(t(i),JSON.stringify(n))}catch(o){a.default.log(o.message)}else i.customSave&&i.customSave(n)},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var e=this;return e._state={},e._isLoaded=!1,e._isLoading=!1,e._windowUnloadHandler=function(){void 0!==e._savingTimeoutID&&e._saveState(e.state())},i.default.on((0,o.getWindow)(),"unload",e._windowUnloadHandler),e},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){var e=this;this._isLoading=!0;var t=(0,h.fromPromise)(this._loadState());return t.always((function(){e._isLoaded=!0,e._isLoading=!1})).done((function(t){e.state(t)})),t},state:function(e){var t=this;if(!arguments.length)return(0,d.extend)(!0,{},t._state);t._state=(0,d.extend)({},e),g(t._state)},save:function(){var e=this;clearTimeout(e._savingTimeoutID),e._savingTimeoutID=setTimeout((function(){e._saveState(e.state()),e._savingTimeoutID=void 0}),e.option("stateStoring.savingTimeout"))},optionChanged:function(e){var t=this;switch(e.name){case"stateStoring":t.isEnabled()&&!t.isLoading()&&t.load(),e.handled=!0;break;default:t.callBase(e)}},dispose:function(){clearTimeout(this._savingTimeoutID),i.default.off((0,o.getWindow)(),"unload",this._windowUnloadHandler)}}}());t.StateStoringController=m},"6e89":function(e,t,n){"use strict";var i=d(n("14a3")),o=d(n("832e")),r=n("2809"),a=d(n("bb2d")),s=n("d4b2"),l=n("b62d");function d(e){return e&&e.__esModule?e:{default:e}}var u="dx-treelist-select-all",c="dx-cell-focus-disabled",h="dx-select-checkbox",p=a.default.extenders.views.rowsView._rowClick,f=a.default.extenders.controllers.data._handleDataChanged,g=function(e,t){return!!e.filter((function(e){return e===t})).length};o.default.registerModule("selection",(0,s.extend)(!0,{},a.default,{defaultOptions:function(){return(0,s.extend)(!0,a.default.defaultOptions(),{selection:{showCheckBoxesMode:"always",recursive:!1}})},extenders:{controllers:{data:{_handleDataChanged:function(e){var t=this.getController("selection"),n=t.isRecursiveSelection();!n||e&&"updateSelectionState"===e.changeType||t.updateSelectionState({selectedItemKeys:this.option("selectedRowKeys")}),f.apply(this,arguments)},loadDescendants:function(){var e=this,t=e.callBase.apply(e,arguments),n=e.getController("selection"),i=n.isRecursiveSelection();return i&&t.done((function(){n.updateSelectionState({selectedItemKeys:e.option("selectedRowKeys")})})),t}},selection:{init:function(){this.callBase.apply(this,arguments),this._selectionStateByKey={}},_getSelectionConfig:function(){var e=arguments,t=this,n=this.callBase.apply(this,arguments),i=n.plainItems;return n.plainItems=function(n){return n?t._dataController.getCachedStoreData()||[]:i.apply(t,e).map((function(e){return e.data}))},n.isItemSelected=function(e){var n=t._dataController.keyOf(e);return t.isRowSelected(n)},n.isSelectableItem=function(){return!0},n.getItemData=function(e){return e},n},renderSelectCheckBoxContainer:function(e,t){var n=this,i=n.component.getView("rowsView");e.addClass(c);var o=i._renderSelectCheckBox(e,{value:t.row.isSelected,row:t.row,column:t.column});i._attachCheckBoxClickEvent(o)},_updateSelectColumn:r.noop,_getSelectAllNodeKeys:function(){var e=this.component,t=e.getRootNode(),n={},i=[],r=this.isRecursiveSelection();return t&&o.default.foreachNodes(t.children,(function(t){return void 0!==t.key&&(t.visible||r)&&i.push(t.key),!t.visible||!r&&e.isRowExpanded(t.key,n)})),i},isSelectAll:function(){var e=this.component,t=this._getSelectAllNodeKeys(),n=t.filter((function(t){return e.isRowSelected(t)}));if(!n.length){var i=t.some((function(t){return void 0===e.isRowSelected(t)}));return!!i&&void 0}if(n.length===t.length)return!0},selectAll:function(){var e=this,t=e._getSelectAllNodeKeys().filter((function(t){return!e.isRowSelected(t)}));return e.selectRows(t,!0)},deselectAll:function(){var e=this._getSelectAllNodeKeys();return this.deselectRows(e)},selectedItemKeys:function(e,t,n,i){var o=this,a=o.option("selectedRowKeys"),s=this.isRecursiveSelection(),d=s&&o._normalizeSelectionArgs({keys:(0,l.isDefined)(e)?e:[]},!n);return d&&!(0,r.equalByValue)(d.selectedRowKeys,a)?(o._isSelectionNormalizing=!0,this.callBase(d.selectedRowKeys,!1,!1,!1).always((function(){o._isSelectionNormalizing=!1})).done((function(e){d.selectedRowsData=e,o._fireSelectionChanged(d)}))):this.callBase(e,t,n,i)},changeItemSelection:function(e,t){var n=this.isRecursiveSelection();if(n&&!t.shift){var i=this._dataController.getKeyByRowIndex(e);return this.selectedItemKeys(i,!0,this.isRowSelected(i))}return this.callBase.apply(this,arguments)},_updateParentSelectionState:function(e,t){var n=this,i=t,o=e.parent;if(o){if(o.children.length>1)if(!1===t){var r=o.children.some((function(e,t,i){return n._selectionStateByKey[e.key]}));i=!!r&&void 0}else if(!0===t){var a=o.children.some((function(e){return!n._selectionStateByKey[e.key]}));i=!a||void 0}this._selectionStateByKey[o.key]=i,o.parent&&o.parent.level>=0&&this._updateParentSelectionState(o,i)}},_updateChildrenSelectionState:function(e,t){var n=this,i=e.children;i&&i.forEach((function(e){n._selectionStateByKey[e.key]=t,e.children.length>0&&n._updateChildrenSelectionState(e,t)}))},_updateSelectionStateCore:function(e,t){for(var n=this._dataController,i=0;i<e.length;i++){this._selectionStateByKey[e[i]]=t;var o=n.getNodeByKey(e[i]);o&&(this._updateParentSelectionState(o,t),this._updateChildrenSelectionState(o,t))}},_getSelectedParentKeys:function(e,t,n){var i,o=this._dataController.getNodeByKey(e),r=o&&o.parent,a=[];while(r&&r.level>=0){a.unshift(r.key);var s=n?!g(t,r.key)&&this.isRowSelected(r.key):t.indexOf(r.key)>=0;if(s){i=r,a=this._getSelectedParentKeys(i.key,t,n).concat(a);break}if(n)break;r=r.parent}return i&&a||[]},_getSelectedChildKeys:function(e,t){var n=this,i=[];return e&&o.default.foreachNodes(e.children,(function(e){var o=t.indexOf(e.key);return o<0&&i.push(e.key),o>0||o<0&&void 0===n._selectionStateByKey[e.key]})),i},_normalizeParentKeys:function(e,t){var n=this,i=[e],o=n._getSelectedParentKeys(e,t.selectedRowKeys);if(o.length){i=i.concat(o),i.forEach((function(e){var n=t.selectedRowKeys.indexOf(e);n>=0&&t.selectedRowKeys.splice(n,1)}));var r=n._dataController.getNodeByKey(o[0]),a=n._getSelectedChildKeys(r,i);t.selectedRowKeys=t.selectedRowKeys.concat(a)}},_normalizeChildrenKeys:function(e,t){var n=this,i=n._dataController.getNodeByKey(e);i&&i.children.forEach((function(e){var i=t.selectedRowKeys.indexOf(e.key);i>=0&&t.selectedRowKeys.splice(i,1),n._normalizeChildrenKeys(e.key,t)}))},_normalizeSelectedRowKeysCore:function(e,t,n){var i=this;e.forEach((function(e){if(i.isRowSelected(e)!==n){i._normalizeChildrenKeys(e,t);var o=t.selectedRowKeys.indexOf(e);n?(o<0&&t.selectedRowKeys.push(e),t.currentSelectedRowKeys.push(e)):(o>=0&&t.selectedRowKeys.splice(o,1),t.currentDeselectedRowKeys.push(e),i._normalizeParentKeys(e,t))}}))},_normalizeSelectionArgs:function(e,t){var n,i=Array.isArray(e.keys)?e.keys:[e.keys],o=this.option("selectedRowKeys")||[];return i.length&&(n={currentSelectedRowKeys:[],currentDeselectedRowKeys:[],selectedRowKeys:o.slice(0)},this._normalizeSelectedRowKeysCore(i,n,t)),n},_updateSelectedItems:function(e){this.updateSelectionState(e),this.callBase(e)},_fireSelectionChanged:function(){this._isSelectionNormalizing||this.callBase.apply(this,arguments)},_isModeLeavesOnly:function(e){return"leavesOnly"===e},_getAllSelectedRowKeys:function(e){var t=this,n=[];return e.forEach((function(e){var i=n.length,o=t._getSelectedParentKeys(e,n,!0),r=t._dataController.getChildNodeKeys(e);n.splice.apply(n,[i,0].concat(o)),n.push(e),n=n.concat(r)})),n},_getParentSelectedRowKeys:function(e){var t=this,n=[];return e.forEach((function(i){var o=t._getSelectedParentKeys(i,e);!o.length&&n.push(i)})),n},_getLeafSelectedRowKeys:function(e){var t=this,n=[],i=t._dataController;return e.forEach((function(e){var t=i.getNodeByKey(e);t&&!t.hasChildren&&n.push(e)})),n},isRecursiveSelection:function(){var e=this.option("selection.mode"),t=this.option("selection.recursive");return"multiple"===e&&t},updateSelectionState:function(e){var t=e.removedItemKeys||[],n=e.selectedItemKeys||[];this._updateSelectionStateCore(t,!1),this._updateSelectionStateCore(n,!0)},isRowSelected:function(e){var t=this.callBase.apply(this,arguments),n=this.isRecursiveSelection();return!t&&n?e in this._selectionStateByKey&&this._selectionStateByKey[e]:t},getSelectedRowKeys:function(e){var t=this;if(!t._dataController)return[];var n=t.callBase.apply(t,arguments);return e&&(this.isRecursiveSelection()&&(n=this._getAllSelectedRowKeys(n)),"all"!==e&&("excludeRecursive"===e?n=t._getParentSelectedRowKeys(n):t._isModeLeavesOnly(e)&&(n=t._getLeafSelectedRowKeys(n)))),n},getSelectedRowsData:function(e){var t=this,n=t._dataController,i=this.getSelectedRowKeys(e)||[],o=[];return i.forEach((function(e){var t=n.getNodeByKey(e);t&&o.push(t.data)})),o},refresh:function(){return this._selectionStateByKey={},this.callBase.apply(this,arguments)}}},views:{columnHeadersView:{_processTemplate:function(e,t){var n,i=this,o=this.callBase(e,t),r=i._columnsController.getFirstDataColumnIndex();return n=o&&"header"===t.rowType&&t.column.index===r?{render:function(e){"multiple"===i.option("selection.mode")&&i.renderSelectAll(e.container,e.model),o.render(e)}}:o,n},renderSelectAll:function(e,t){e.addClass(u),this._renderSelectAllCheckBox(e)},_isSortableElement:function(e){return this.callBase(e)&&!e.closest("."+h).length}},rowsView:{_renderIcons:function(e,t){return this.callBase.apply(this,arguments),"multiple"===this.option("selection.mode")&&this.getController("selection").renderSelectCheckBoxContainer(e,t),e},_rowClick:function(e){var t=(0,i.default)(e.event.target);this.isExpandIcon(t)?this.callBase.apply(this,arguments):p.apply(this,arguments)}}}}}))},"70ff":function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var o=M(n("14a3")),r=M(n("b547")),a=n("706b"),s=M(n("8de2")),l=M(n("d28b0")),d=n("b62d"),u=n("ce5d"),c=n("d4b2"),h=M(n("1981")),p=n("5c27"),f=n("ee3d"),g=M(n("4f86")),m=M(n("f12e")),v=n("2253"),_=n("1820"),y=n("5c5d"),C=M(n("8a64")),w=M(n("5cf5")),x=M(n("205e")),b=M(n("2dd1")),T=M(n("2358")),I=M(n("d0cb")),S=n("b49b"),k=n("2809"),E=O(n("0814")),D=M(n("640d"));function R(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return R=function(){return e},e}function O(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=R();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function M(e){return e&&e.__esModule?e:{default:e}}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return H(e)||L(e)||N(e)||B()}function B(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(e){if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function L(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function H(e){if(Array.isArray(e))return W(e)}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var z="edit-form",K="edit-form-item",U="focus-overlay",j="readonly",G="edit-popup",$="form-buttons-container",q="addrow-button",Y="dx-dropdowneditor-overlay",X="dx-link",J="dx-editor-cell",Q="dx-selection",Z="dx-edit-row",ee="dx-edit-button",te="dx-command-edit",ne=te+"-with-icons",ie="dx-scrollable-container",oe="dx-button",re="__DX_INSERT_INDEX__",ae="dx-row",se="dx-row-removed",le="dx-row-inserted",de="dx-row-modified",ue="dx-cell-modified",ce="dxDataGridEditing",he="dx-data-row",pe="dx-cell-focus-disabled",fe="input:not([type='hidden'])",ge="[tabindex], "+fe,me="batch",ve="row",_e="cell",ye="form",Ce="popup",we="insert",xe="update",be="remove",Te="click",Ie=[me,ve,_e,ye,Ce],Se=[ve,ye,Ce],ke=[me,_e],Ee=[ye,Ce],De=[ve,ye],Re="targetComponent",Oe={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},Me={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},Pe={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},Ve={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},Ae=["edit","save","cancel","delete","undelete"],Fe="editing.popup",Be="editing.changes",Ne="editing.editRowKey",Le="editing.editColumnName",He=function(e){return function(t){var n=t instanceof Error?t:new Error(t&&String(t)||"Unknown error");e.reject(n)}},We=function(e){var t=e.option("editing.mode");return-1!==Ie.indexOf(t)?t:ve},ze=function(e){var t=We(e);return-1!==Se.indexOf(t)},Ke=function(e,t){return t.isEditing||e&&t.column.allowEditing},Ue=function(e,t){var n=!!t.column.command,i=Ke(e,t),o=!n&&(i||t.column.showEditorAlways);return"data"===t.rowType&&o},je=h.default.ViewController.inherit(function(){var e=function(e){return function(t,n){var i=(0,o.default)("<div>").appendTo(t);e.getController("editorFactory").createEditor(i,(0,c.extend)({},n.column,{value:n.value,setValue:n.setValue,row:n.row,parentType:"dataRow",width:null,readOnly:!n.setValue,isOnForm:n.isOnForm,id:n.id}))}},t=function(e){var t=e.component.option("editing.texts")||{};return{save:t.saveRowChanges,cancel:t.cancelRowChanges,edit:t.editRow,undelete:t.undeleteRow,delete:t.deleteRow,add:t.addRowToNode}},n=function(e,t){var n=-1;return e.some((function(e,o){if(i(e)===t)return n=o,!0})),n};function i(e){return(0,d.isObject)(e)?e.name:e}var h=function(e){var t=e.column;return e.isCustomEditorType?e.editorType:t.formItem&&t.formItem.editorType},I=function e(t,n){t.forEach((function(t){t.items||t.tabs?e(t.items||t.tabs,n):n(t)}))};return{init:function(){var e,t,n=this;(n._columnsController=n.getController("columns"),n._dataController=n.getController("data"),n._rowsView=n.getView("rowsView"),n._editForm=null,n._updateEditFormDeferred=null,n._lastOperation=null,n._deferreds&&n._deferreds.forEach((function(e){return e.reject("cancel")})),n._deferreds=[],n._dataChangedHandler||(n._dataChangedHandler=n._handleDataChanged.bind(n),n._dataController.changed.add(n._dataChangedHandler)),n._saveEditorHandler)||(n.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),n.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),n.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),n.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),n.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),n.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),n.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]}),n._pointerUpEditorHandler=function(){var e;t=null===(e=n.getController("columnsResizer"))||void 0===e?void 0:e.isResizing()},n._pointerDownEditorHandler=function(t){return e=(0,o.default)(t.target)},n._saveEditorHandler=n.createAction((function(i){var r=i.event,s=(0,o.default)(r.target),l=r[Re];if((!e||!e.is("input")||e.is(s))&&!ze(n)&&!n._editCellInProgress){var d=g(s)||g(null===l||void 0===l?void 0:l.$element()),u=!!s.closest((0,a.getWindow)().document).length,c=l&&!l._disposed&&l!==n.component,h=!!s.closest(".".concat(n.addWidgetPrefix(q))).length,p=s.hasClass(n.addWidgetPrefix(U)),f=We(n)===_e;t||d||p||h&&f&&n.isEditing()||!u&&!c||n._closeEditItem.bind(n)(s)}function g(e){return e&&!!e.closest(".".concat(Y)).length}})),s.default.on(r.default.getDocument(),g.default.up,n._pointerUpEditorHandler),s.default.on(r.default.getDocument(),g.default.down,n._pointerDownEditorHandler),s.default.on(r.default.getDocument(),p.name,n._saveEditorHandler));n._updateEditColumn(),n._updateEditButtons(),this._internalState||(this._internalState=[]),this.component._optionsByReference[Ne]=!0,this.component._optionsByReference[Be]=!0},getChanges:function(){return this.option(Be)},resetChanges:function(){var e=this.getChanges(),t=null===e||void 0===e?void 0:e.length;t&&this._silentOption(Be,[])},_getInternalData:function(e){return this._internalState.filter((function(t){return t.key===e}))[0]},_addInternalData:function(e){var t=this._getInternalData(e.key);return t?(0,c.extend)(t,e):(this._internalState.push(e),e)},_getOldData:function(e){var t;return null===(t=this._getInternalData(e))||void 0===t?void 0:t.oldData},getUpdatedData:function(e){var t=this._dataController.keyOf(e),n=this.getChanges(),i=m.default.getIndexByKey(t,n);return n[i]?(0,v.createObjectWithChanges)(e,n[i].data):e},getInsertedData:function(){return this.getChanges().filter((function(e){return e.data&&e.type===we})).map((function(e){return e.data}))},getRemovedData:function(){var e=this;return this.getChanges().filter((function(t){return e._getOldData(t.key)&&t.type===be})).map((function(t){return e._getOldData(t.key)}))},_fireDataErrorOccurred:function(e){if("cancel"!==e){var t=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,t)}},_needToCloseEditableCell:function(e){var t=this.component.$element(),n=this.isEditing(),i=!t||!!e.closest(t).length;if(i){var o=e.closest("."+he).length;if(o){var r=this.getView("rowsView"),a=e.closest("."+ae+"> td"),s=r.getRowIndex(a.parent()),l=r.getCellElements(s).index(a),d=this._columnsController.getVisibleColumns(),u=d[l]&&d[l].allowEditing;n=n&&!u&&!this.isEditCell(s,l)}}return n},_closeEditItem:function(e){this._needToCloseEditableCell(e)&&this.closeEditCell()},_handleDataChanged:function(e){var t=this._editForm;"refresh"===e.changeType&&We(this)===Ce&&t&&t.option("visible")&&this._repaintEditPopup()},_isDefaultButtonVisible:function(e,t){var n=!0,i=ze(this),o=We(this)===me,r=t.row&&t.row.rowIndex===this._getVisibleEditRowIndex()&&i;switch(e.name){case"edit":n=!r&&this.allowUpdating(t)&&i;break;case"save":case"cancel":n=r;break;case"delete":n=!r&&this.allowDeleting(t)&&(!o||!t.row.removed);break;case"undelete":n=o&&this.allowDeleting(t)&&t.row.removed}return n},_isButtonVisible:function(e,t){var n=e.visible;return(0,d.isDefined)(n)?(0,d.isFunction)(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):n:this._isDefaultButtonVisible(e,t)},_getButtonConfig:function(e,n){var o=this,r=(0,d.isObject)(e)?e:{},a=i(e),s=t(n),l=Pe[a],u=this.option("editing"),h=Ve[a],p=!h||u[h];return(0,c.extend)({name:a,text:s[a],cssClass:Oe[a],onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),setTimeout((function(){n.row&&p&&o[l]&&o[l](n.row.rowIndex)}))}},r)},_getEditingButtons:function(e){var t,i=this,o=!!e.column.buttons,r=(e.column.buttons||[]).slice();return o?(t=n(r,"edit"),t>=0&&(n(r,"save")<0&&r.splice(t+1,0,"save"),n(r,"cancel")<0&&r.splice(n(r,"save")+1,0,"cancel")),t=n(r,"delete"),t>=0&&n(r,"undelete")<0&&r.splice(t+1,0,"undelete")):r=Ae.slice(),r.map((function(t){return i._getButtonConfig(t,e)}))},_renderEditingButtons:function(e,t,n){var i=this;t.forEach((function(t){i._isButtonVisible(t,n)&&i._createButton(e,t,n)}))},_getEditCommandCellTemplate:function(){var e=this;return function(t,n){var i=(0,o.default)(t);if("data"===n.rowType){var r=e._getEditingButtons(n);e._renderEditingButtons(i,r,n),n.watch&&n.watch((function(){return r.map((function(t){return e._isButtonVisible(t,n)}))}),(function(){i.empty(),e._renderEditingButtons(i,r,n)}))}else m.default.setEmptyText(i)}},isRowEditMode:function(){return ze(this)},isFormEditMode:function(){var e=We(this);return-1!==Ee.indexOf(e)},isCellOrBatchEditMode:function(){var e=this.getEditMode();return-1!==ke.indexOf(e)},getEditMode:function(){return We(this)},getFirstEditableColumnIndex:function(){var e,t=this.getController("columns"),n=this._firstFormItem;if(We(this)===ye&&n){var i=this.option(Ne),o=this._dataController.getRowIndexByKey(i),r=this._rowsView.getCellElements(o);e=this._rowsView._getEditFormEditorVisibleIndex(r,n.column)}else{var a=t.getVisibleColumns();(0,u.each)(a,(function(t,n){if(n.allowEditing)return e=t,!1}))}return e},getFirstEditableCellInRow:function(e){var t=this.getView("rowsView");return t&&t._getCellElement(e||0,this.getFirstEditableColumnIndex())},getFocusedCellInRow:function(e){return this.getFirstEditableCellInRow(e)},getIndexByKey:function(e,t){return m.default.getIndexByKey(e,t)},hasChanges:function(e){for(var t=this.getChanges(),n=!1,i=0;i<(null===t||void 0===t?void 0:t.length);i++)if(t[i].type&&(!(0,d.isDefined)(e)||this._dataController.getRowIndexByKey(t[i].key)===e)){n=!0;break}return n},dispose:function(){this.callBase(),clearTimeout(this._inputFocusTimeoutID),s.default.off(r.default.getDocument(),g.default.up,this._pointerUpEditorHandler),s.default.off(r.default.getDocument(),g.default.down,this._pointerDownEditorHandler),s.default.off(r.default.getDocument(),p.name,this._saveEditorHandler)},optionChanged:function(e){if("editing"===e.name){var t=e.fullName,n=this._editPopup;if(t&&0===t.indexOf(Fe)){if(n){var i=t.slice(Fe.length+1);i?n.option(i,e.value):n.option(e.value)}}else n&&n.option("visible")&&0===t.indexOf("editing.form")?this._repaintEditPopup():t===Ne?this._handleEditRowKeyChange(e):t===Le?this._handleEditColumnNameChange(e):t===Be?this._handleChangesChange(e):(this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey());e.handled=!0}else this.callBase(e)},_handleEditRowKeyChange:function(e){var t=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),i=this._dataController.getRowIndexByKey(e.previousValue)+n,o=this._getVisibleEditColumnIndex();this.isCellOrBatchEditMode()?(0,d.isDefined)(e.value)&&e.value!==e.previousValue&&this._editCellFromOptionChanged(o,o,i):(0,d.isDefined)(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(t,i):this.cancelEditData()},_handleEditColumnNameChange:function(e){var t=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&-1!==t&&(0,d.isDefined)(e.value)&&e.value!==e.previousValue){var n=this._columnsController.getVisibleColumnIndex(e.value),i=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,i,t)}},_handleChangesChange:function(e){var t=this._dataController;(e.value.length||e.previousValue.length)&&t.updateItems({repaintChangesOnly:!0})},_editCellFromOptionChanged:function(e,t,n){var i=this,o=this._columnsController.getVisibleColumns();e>-1&&(0,k.deferRender)((function(){i._repaintEditCell(o[e],o[t],n)}))},publicMethods:function(){return["addRow","deleteRow","undeleteRow","editRow","editCell","closeEditCell","saveEditData","cancelEditData","hasEditData"]},refresh:function(e){var t=We(this),n=t===me||e&&"virtual"!==this.option("scrolling.mode");(0,d.isDefined)(this._pageIndex)&&(this.isCellOrBatchEditMode()?n&&(this._resetEditColumnName(),this._resetEditRowKey()):(this.resetChanges(),this.init(),(0,d.isDefined)(this.option(Ne))&&this._resetEditRowKey()))},isEditing:function(){var e=(0,d.isDefined)(this.option(Ne)),t=(0,d.isDefined)(this.option(Le));return this.isCellOrBatchEditMode()?e&&t:e},isEditRow:function(e){var t=We(this);return this._getVisibleEditRowIndex()===e&&-1!==Se.indexOf(t)},_setEditRowKey:function(e,t){t?this._silentOption(Ne,e):this.option(Ne,e)},_setEditRowKeyByIndex:function(e,t){var n=this._dataController.getKeyByRowIndex(e);void 0!==n?this._setEditRowKey(n,t):this._dataController.fireError("E1043")},getEditRowIndex:function(){return this._getVisibleEditRowIndex()},getEditFormRowIndex:function(){var e=We(this);return e===ye||e===Ce?this._getVisibleEditRowIndex():-1},isEditCell:function(e,t){return this._getVisibleEditRowIndex()===e&&this._getVisibleEditColumnIndex()===t},getPopupContent:function(){var e=We(this),t=this._editPopup&&this._editPopup.option("visible");if(e===Ce&&t)return this._$popupContent},getEditForm:function(){return this._editForm},_needInsertItem:function(e,t){var n=this,i=n._dataController.dataSource(),o=n.option("scrolling.mode"),r=i.pageIndex(),a=i.beginPageIndex?i.beginPageIndex():r,s=i.endPageIndex?i.endPageIndex():r;if("standard"!==o)switch(t){case"append":return e.key.pageIndex===s;case"prepend":return e.key.pageIndex===a;case"refresh":e.key.rowIndex=0,e.key.dataRowIndex=0,e.key.pageIndex=0;break;default:return e.key.pageIndex>=a&&e.key.pageIndex<=s}return e.key.pageIndex===r},_generateNewItem:function(e){var t={key:e};return e&&e[re]&&(t[re]=e[re]),t},_getLoadedRowIndexByInsertKey:function(e,t,n){var i=this._dataController,o=i.getRowIndexOffset(!0),r=n.dataRowIndex-o;"append"===t.changeType&&(r-=i.items(!0).length,t.removeCount&&(r+=t.removeCount));for(var a=0;a<r;a++)e[a]&&e[a][re]&&r++;return r},processItems:function(e,t){var n=this,i=t.changeType;this.update(i);var o=this.getChanges();return o.forEach((function(o){var r=o.key;if((0,d.isDefined)(r)&&o.type===we){var a=n._getLoadedRowIndexByInsertKey(e,t,r),s=n._generateNewItem(r);a>=0&&n._needInsertItem(o,i,e,s)&&e.splice(r.dataRowIndex?a:0,0,s)}})),e},processDataItem:function(e,t,n){var i=t.visibleColumns,o=e.data[re]?e.data.key:e.key,r=this.getChanges(),a=m.default.getIndexByKey(o,r);if(e.isEditing=!1,a>=0){var s=We(this),l=r[a],d=l.data,u=l.type;switch(u){case we:s===Ce&&(e.visible=!1),e.isNewRow=!0,e.key=o,e.data=d;break;case xe:e.modified=!0,e.oldData=e.data,e.data=(0,v.createObjectWithChanges)(e.data,d),e.modifiedValues=n(d,i,!0);break;case be:s===me&&(e.data=(0,v.createObjectWithChanges)(e.data,d)),e.removed=!0}}},_initNewRow:function(e){var t=this;if(this.executeAction("onInitNewRow",e),e.promise){var n=new S.Deferred;return(0,S.when)((0,S.fromPromise)(e.promise)).done(n.resolve).fail(He(n)).fail((function(e){return t._fireDataErrorOccurred(e)})),n}},_getInsertKey:function(e){var t=this,n=t._dataController,i=n.items(),o=We(t),r={parentKey:e,pageIndex:n.pageIndex(),rowIndex:t._getInsertRowIndex(e)},a=i[r.rowIndex];return a&&(!a.isEditing&&"detail"===a.rowType||"detailAdaptive"===a.rowType)&&r.rowIndex++,r.dataRowIndex=n.getRowIndexOffset()+i.filter((function(e,t){return t<r.rowIndex&&("data"===e.rowType&&!e.isNewRow||"group"===e.rowType)})).length,o!==me&&this._setEditRowKey(r,!0),r[re]=t._getInsertIndex(),r},_getInsertRowIndex:function(e){var t=this,n=t.getView("rowsView"),i=t._dataController.getRowIndexByKey(e);return i>=0?i+1:n?n.getTopVisibleItemIndex(!0):0},_getInsertIndex:function(){var e=0;return this.getChanges().forEach((function(t){t.type===we&&t.key[re]>e&&(e=t.key[re])})),e+1},addRow:function(e){var t=this,n=t._dataController,i=n.store(),o=i&&i.key(),r={data:{}},a=We(t),s=t._getVisibleEditRowIndex(),d=new S.Deferred;return i?a===_e&&t.hasChanges()?(t.saveEditData().done((function(){t.hasChanges()?d.reject("cancel"):t.addRow(e).done(d.resolve).fail(d.reject)})),d.promise()):(t.refresh(),t._allowRowAdding()?(o||(r.data.__KEY__=String(new l.default)),(0,S.when)(t._initNewRow(r,e)).done((function(){t._allowRowAdding()?(t._addRowCore(r.data,e,s),d.resolve()):d.reject("cancel")})).fail(d.reject),d.promise()):d.reject("cancel")):(n.fireError("E1052",this.component.NAME),d.reject())},_allowRowAdding:function(){var e=this,t=We(e),n=e._getInsertIndex();return!(t!==me&&n>1)},_addRowCore:function(e,t,n){var i=this,o=i._getVisibleEditRowIndex(),r=i._getInsertKey(t),a=We(i);i._addChange({key:r,data:e,type:we}),i._dataController.updateItems({changeType:"update",rowIndices:[n,o,r.rowIndex]}),a===Ce?i._showEditPopup(r.rowIndex):i._focusFirstEditableCellInRow(r.rowIndex),i._afterInsertRow({key:r,data:e})},_focusFirstEditableCellInRow:function(e){var t=this,n=t.getFirstEditableCellInRow(e);t._editCellInProgress=!0,t._delayedInputFocus(n,(function(){t._editCellInProgress=!1;var n=t.getFirstEditableCellInRow(e),i="dblClick"===t.option("editing.startEditAction")?f.name:p.name;n&&s.default.trigger(n,i)}))},_isEditingStart:function(e){return this.executeAction("onEditingStart",e),e.cancel},_beforeEditCell:function(e,t,n){var i=this;if(We(i)===_e&&!n.isNewRow&&i.hasChanges()){var o=new S.Deferred;return i.saveEditData().always((function(){o.resolve(i.hasChanges())})),o}},_beforeUpdateItems:function(){},_getVisibleEditColumnIndex:function(){var e=this.option(Le);return(0,d.isDefined)(e)?this._columnsController.getVisibleColumnIndex(e):-1},_setEditColumnNameByIndex:function(e,t){var n,i=this._columnsController.getVisibleColumns();this._setEditColumnName(null===(n=i[e])||void 0===n?void 0:n.name,t)},_setEditColumnName:function(e,t){t?this._silentOption(Le,e):this.option(Le,e)},_resetEditColumnName:function(){this._setEditColumnName(null,!0)},_getEditColumn:function(){var e=this.option(Le);return this._getColumnByName(e)},_getColumnByName:function(e){var t,n=this._columnsController.getVisibleColumns();return(0,d.isDefined)(e)&&n.some((function(n){if(n.name===e)return t=n,!0})),t},_getVisibleEditRowIndex:function(e){var t=this._dataController,n=this.option(Ne),i=t.getRowIndexByKey(n);return-1===i?i:i+this._getEditRowIndexCorrection(e)},_getEditRowIndexCorrection:function(e){var t=e?this._getColumnByName(e):this._getEditColumn(),n="adaptiveHidden"===(null===t||void 0===t?void 0:t.visibleWidth);return n?1:0},_resetEditRowKey:function(){this._setEditRowKey(null,!0)},_resetEditIndices:function(){this._resetEditColumnName(),this._resetEditRowKey()},editRow:function(e){var t=this._dataController,n=t.items(),i=n[e],o={data:i&&i.data,cancel:!1},r=this._getVisibleEditRowIndex();if(i)return e===r||void(void 0!==i.key?(i.isNewRow||(o.key=i.key),this._isEditingStart(o)||(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=t.pageIndex(),this._addInternalData({key:i.key,oldData:i.data}),this._setEditRowKey(i.key))):this._dataController.fireError("E1043"))},_editRowFromOptionChanged:function(e,t){var n=[t,e],i=We(this);this._beforeUpdateItems(n,e,t),i===Ce?this._showEditPopup(e):(this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:n}))},_focusEditorIfNeed:function(){var e=this,t=We(this);if(this._needFocusEditor){if(-1!==De.indexOf(t)){var n=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(n,(function(){n&&e.component.focus(n)}))}else if(-1!==ke.indexOf(t)){var i,o=this._getVisibleEditColumnIndex(),r=null===(i=this._rowsView)||void 0===i?void 0:i._getCellElement(this._getVisibleEditRowIndex(),o);r&&!r.find(":focus").length?this._focusEditingCell((function(){e._editCellInProgress=!1}),r,!0):this._editCellInProgress=!1}this._needFocusEditor=!1}},_showEditPopup:function(e,t){var n=this,i="desktop"!==b.default.current().deviceType,r=(0,c.extend)({showTitle:!1,fullScreen:i,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:n._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:n._getCancelButtonConfig()}],contentTemplate:n._getPopupEditFormTemplate(e)},n.option(Fe));if(!n._editPopup){var a=(0,o.default)("<div>").appendTo(n.component.$element()).addClass(n.addWidgetPrefix(G));n._editPopup=n._createComponent(a,x.default,{}),n._editPopup.on("hiding",n._getEditPopupHiddenHandler()),n._editPopup.on("shown",(function(e){s.default.trigger(e.component.$content().find(ge).not("."+ie).first(),"focus"),t&&n._editForm&&n._editForm.repaint()}))}n._editPopup.option(r),n._editPopup.show()},_repaintEditPopup:function(){var e=this._getVisibleEditRowIndex();if(this._editPopup&&this._editPopup.option("visible")&&e>=0){var t=this._editPopup.option("animation");this._editPopup.option("animation",null),this._showEditPopup(e,!0),this._editPopup.option("animation",t)}},_getEditPopupHiddenHandler:function(){var e=this;return function(t){e.isEditing()&&e.cancelEditData()}},_getPopupEditFormTemplate:function(e){var t=this,n=t.component.getVisibleRows()[e],i={row:n,rowType:n.rowType,key:n.key};return function(e){var n=t.getEditFormTemplate(),r=t._createComponent((0,o.default)("<div>").appendTo(e),D.default);t._$popupContent=r.$content(),n(t._$popupContent,i,!0)}},_getSaveButtonConfig:function(){return{text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)}},_getCancelButtonConfig:function(){return{text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)}},_removeInternalData:function(e){var t=this._getInternalData(e),n=this._internalState.indexOf(t);n>-1&&this._internalState.splice(n,1)},_removeChange:function(e){if(e>=0){var t=F(this.getChanges());this._removeInternalData(t[e].key),t.splice(e,1),this._silentOption(Be,t)}},executeOperation:function(e,t){var n=this;this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done((function(){"rejected"!==e.state()&&(t(),n._lastOperation=null)})).fail((function(){e.reject(),n._lastOperation=null}))},waitForDeferredOperations:function(){return S.when.apply(void 0,F(this._deferreds))},editCell:function(e,t){return this._editCell({rowIndex:e,columnIndex:t})},_editCell:function(e){var t,n=this,i=new S.Deferred;return this.executeOperation(i,(function(){t=n._editCellCore(e),(0,S.when)(t).done(i.resolve).fail(i.reject)})),void 0!==t?t:i.promise()},_getNormalizedEditCellOptions:function(e){var t,n=e.oldColumnIndex,i=e.oldRowIndex,o=e.columnIndex,r=e.rowIndex,a=this._columnsController,s=a.getVisibleColumns(),l=this._dataController.items(),u=l[r];t=(0,d.isDefined)(n)?s[n]:this._getEditColumn(),(0,d.isDefined)(i)||(i=this._getVisibleEditRowIndex()),(0,d.isString)(o)&&(o=a.columnOption(o,"index"),o=a.getVisibleIndex(o));var c=s[o];return{oldColumn:t,columnIndex:o,oldRowIndex:i,rowIndex:r,column:c,item:u}},_editCellCore:function(e){var t=this,n=this._dataController,i=(0,d.isDefined)(e.oldColumnIndex)||(0,d.isDefined)(e.oldRowIndex),o=this._getNormalizedEditCellOptions(e),r=o.columnIndex,a=o.rowIndex,s=o.column,l=o.item,u={data:null===l||void 0===l?void 0:l.data,cancel:!1,column:s};if(void 0!==l.key){if(s&&l&&("data"===l.rowType||"detailAdaptive"===l.rowType)&&!l.removed&&!ze(this)){if(!i&&this.isEditCell(a,r))return!0;var c=a+n.getRowIndexOffset();return(0,S.when)(this._beforeEditCell(a,r,l)).done((function(e){e||t._prepareEditCell(u,l,r,c)||t._processCanceledEditingCell()}))}return!1}this._dataController.fireError("E1043")},_processCanceledEditingCell:function(){},_prepareEditCell:function(e,t,n,i){return t.isNewRow||(e.key=t.key),!this._isEditingStart(e)&&(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key),this._setEditColumnNameByIndex(n),e.column.showEditorAlways||this._addInternalData({key:t.key,oldData:t.data}),!0)},_repaintEditCell:function(e,t,n){var i=this;this._needFocusEditor=!0,!e||!e.showEditorAlways||t&&!t.showEditorAlways?(i._editCellInProgress=!0,i.getController("editorFactory").loseFocus(),i._dataController.updateItems({changeType:"update",rowIndices:[n,i._getVisibleEditRowIndex()]})):i._dataController.updateItems({changeType:"update",rowIndices:[]})},_delayedInputFocus:function(e,t,n){var i=this;function o(){if(t&&t(),e){var n=e.find(ge).first();m.default.focusAndSelectElement(i,n)}i._beforeFocusCallback=null}b.default.real().ios||b.default.real().android?o():(i._beforeFocusCallback&&i._beforeFocusCallback(),clearTimeout(i._inputFocusTimeoutID),n&&(i._beforeFocusCallback=t),i._inputFocusTimeoutID=setTimeout(o))},_focusEditingCell:function(e,t,n){var i=this,o=i.getView("rowsView"),r=this._getVisibleEditColumnIndex();t=t||o&&o._getCellElement(i._getVisibleEditRowIndex(),r),i._delayedInputFocus(t,e,n)},deleteRow:function(e){var t=this;if("cell"===this.option("editing.mode")&&this.isEditing()){var n=this._dataController.items()[e].isNewRow;this.closeEditCell(null,n).always((function(){t._checkAndDeleteRow(e)}))}else this._checkAndDeleteRow(e)},_checkAndDeleteRow:function(e){var t=this,n=t.option("editing"),i=n&&n.texts,o=n&&n.mode===me,r=n&&n.confirmDelete,a=i&&i.confirmDeleteMessage,s=t._dataController.items()[e],l=o||!t.isEditing()||s.isNewRow;if(s&&l)if(!o&&r&&a){var u=i&&i.confirmDeleteTitle,c=(0,d.isDefined)(u)&&u.length>0;(0,y.confirm)(a,u,c).done((function(n){n&&t._deleteRowCore(e)}))}else t._deleteRowCore(e)},_deleteRowCore:function(e){var t=this._dataController,n=t.items()[e],i=n&&n.key,o=this._getVisibleEditRowIndex(),r=this.option("editing.mode")===me;this.refresh();var a=this.getChanges(),s=m.default.getIndexByKey(i,a);s>=0?a[s].type===we?this._removeChange(s):this._addChange({key:i,type:be}):this._addChange({key:i,oldData:n.data,type:be}),r?t.updateItems({changeType:"update",rowIndices:[o,e]}):this.saveEditData()},undeleteRow:function(e){var t=this,n=t._dataController,i=n.items()[e],o=t._getVisibleEditRowIndex(),r=i&&i.key,a=this.getChanges();if(i){var s=m.default.getIndexByKey(r,a);if(s>=0){var l=a[s].data;(0,d.isEmptyObject)(l)?t._removeChange(s):t._addChange({key:r,type:xe}),n.updateItems({changeType:"update",rowIndices:[o,e]})}}},_fireOnSaving:function(){var e=this,t={cancel:!1,promise:null,changes:F(this.getChanges())};this.executeAction("onSaving",t);var n=new S.Deferred;return(0,S.when)((0,S.fromPromise)(t.promise)).done((function(){n.resolve(t)})).fail((function(t){He(n),e._fireDataErrorOccurred(t),n.resolve({cancel:!0})})),n},_executeEditingAction:function(e,t,n){if(this.component._disposed)return null;var i=new S.Deferred;return this.executeAction(e,t),(0,S.when)((0,S.fromPromise)(t.cancel)).done((function(e){e?setTimeout((function(){i.resolve("cancel")})):n(t).done(i.resolve).fail(He(i))})).fail(He(i)),i},_processChanges:function(e,t,n,i){var o=this,r=this._dataController.store();(0,u.each)(i,(function(a,s){var l,u,c=o._getOldData(s.key),h=s.data,p=s.type,f=V({},s);if(!o._beforeSaveEditData(s,a)){switch(p){case be:u={data:c,key:s.key,cancel:!1},l=o._executeEditingAction("onRowRemoving",u,(function(){return r.remove(s.key).done((function(e){n.push({type:"remove",key:e})}))}));break;case we:u={data:h,cancel:!1},l=o._executeEditingAction("onRowInserting",u,(function(){return r.insert(u.data).done((function(e,t){(0,d.isDefined)(t)&&(f.key=t),e&&(0,d.isObject)(e)&&e!==u.data&&(f.data=e),n.push({type:"insert",data:e,index:0})}))}));break;case xe:u={newData:h,oldData:c,key:s.key,cancel:!1},l=o._executeEditingAction("onRowUpdating",u,(function(){return r.update(s.key,u.newData).done((function(e,t){e&&(0,d.isObject)(e)&&e!==u.newData&&(f.data=e),n.push({type:"update",key:t,data:e})}))}))}if(i[a]=f,l){var g=new S.Deferred;l.always((function(e){t.push({key:s.key,result:e})})).always(g.resolve),e.push(g.promise())}}}))},_processSaveEditDataResult:function(e){for(var t=this,n=!1,i=We(t),o=F(this.getChanges()),r=o.length,a=0;a<e.length;a++){var s=e[a].result,l="cancel"===s,d=m.default.getIndexByKey(e[a].key,o),u=o[d],c=s&&s instanceof Error;if(c){if(u&&this._addInternalData({key:u.key,error:s}),t._fireDataErrorOccurred(s),i!==me){(null===u||void 0===u?void 0:u.type)===be&&d>=0&&o.splice(d,1);break}}else l&&u&&(i===me||u.type!==be)||(d>=0&&o.splice(d,1),n=!l)}return o.length<r&&this._silentOption(Be,o),n},_fireSaveEditDataEvents:function(e){var t=this;(0,u.each)(e,(function(e,n){var i=n.data,o=n.key,r=n.type,a=t._addInternalData({key:o}),s={key:o,data:i};switch(a.error&&(s.error=a.error),r){case be:t.executeAction("onRowRemoved",(0,c.extend)({},s,{data:a.oldData}));break;case we:t.executeAction("onRowInserted",s);break;case xe:t.executeAction("onRowUpdated",s)}})),this.executeAction("onSaved",{changes:e})},saveEditData:function(){var e=this,t=new S.Deferred;return this.waitForDeferredOperations().done((function(){e.isSaving()?e._resolveAfterSave(t):(0,S.when)(e._beforeSaveEditData()).done((function(n){n?e._resolveAfterSave(t,{cancel:n}):(e._saving=!0,e._saveEditDataInner().done(t.resolve).fail(t.reject).always((function(){e._saving=!1})))})).fail(t.reject)})).fail(t.reject),t.promise()},_resolveAfterSave:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.cancel,i=t.error;(0,S.when)(this._afterSaveEditData(n)).done((function(){e.resolve(i)})).fail(e.reject)},_saveEditDataInner:function(){var e=this,t=[],n=[],i=[],o=this._dataController,r=o.dataSource(),a=new S.Deferred;return(0,S.when)(this._fireOnSaving()).done((function(o){var s=o.cancel,l=o.changes;return s?a.resolve().promise():(e._processChanges(n,t,i,l),n.length?(null===r||void 0===r||r.beginLoading(),S.when.apply(void 0,n).done((function(){e._processSaveEditDataResult(t)?e._endSaving(i,l,a):(null===r||void 0===r||r.endLoading(),a.resolve())})).fail((function(e){null===r||void 0===r||r.endLoading(),a.resolve(e)})),a.always((function(){e._focusEditingCell()})).promise()):void e._cancelSaving(a))})).fail(a.reject),a.promise()},_resetModifiedClassCells:function(e){var t=this,n=We(this);if(n===me){var i=this._columnsController.getVisibleColumns().length;e.forEach((function(e){var n=e.key,o=t._dataController.getRowIndexByKey(n);if(-1!==o)for(var r=0;r<i;r++)t._rowsView._getCellElement(o,r).removeClass(ue)}))}},_endSaving:function(e,t,n){var i,o=We(this),r=this._dataController.dataSource();o!==_e?(this._resetModifiedClassCells(t),this._resetEditIndices()):"update"!==(null===(i=t[0])||void 0===i?void 0:i.type)&&this._resetEditIndices(),o===Ce&&this._editPopup&&this._editPopup.hide(),null===r||void 0===r||r.endLoading(),this._refreshDataAfterSave(e,t,n)},_cancelSaving:function(e){var t=We(this),n=this._dataController;ze(this)?this.hasChanges()||this._cancelEditDataCore():this.isCellOrBatchEditMode()?(t!==_e&&this._resetEditIndices(),n.updateItems()):this._focusEditingCell(),this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)},_refreshDataAfterSave:function(e,t,n){var i=this,o=this._dataController,r=this.option("editing.refreshMode"),a="reshape"!==r&&"repaint"!==r;a||o.push(e),(0,S.when)(o.refresh({selection:a,reload:a,load:"reshape"===r,changesOnly:this.option("repaintChangesOnly")})).always((function(){i._fireSaveEditDataEvents(t)})).done((function(){i._resolveAfterSave(n)})).fail((function(e){i._resolveAfterSave(n,{error:e})}))},isSaving:function(){return this._saving},_updateEditColumn:function(){var e=this,t=e._isEditColumnVisible(),n=e.option("editing.useIcons"),i=te+(n?" "+ne:"");e._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:t,cssClass:i,width:"auto",alignment:"center",cellTemplate:e._getEditCommandCellTemplate(),fixedPosition:"right"}),e._columnsController.columnOption("command:edit",{visible:t,cssClass:i})},_isEditColumnVisible:function(){var e=this,t=e.option("editing");if(t){var n=We(e),i=!1;switch(n){case ve:i=t.allowUpdating||t.allowAdding;break;case ye:case Ce:i=t.allowUpdating}return t.allowDeleting||i}},_updateEditButtons:function(){var e=this,t=e.getView("headerPanel"),n=e.hasChanges();t&&(t.setToolbarItemDisabled("saveButton",!n),t.setToolbarItemDisabled("revertButton",!n))},_applyModified:function(e){e&&e.addClass(ue)},_beforeCloseEditCellInBatchMode:function(){},cancelEditData:function(){var e=this.getChanges(),t={cancel:!1,changes:e};this.executeAction("onEditCanceling",t),t.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))},_cancelEditDataCore:function(){var e=We(this),t=this._getVisibleEditRowIndex(),n=this._dataController;this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),-1!==Se.indexOf(e)&&t>=0?n.updateItems({changeType:"update",rowIndices:[t,t+1]}):n.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")}),e===Ce&&this._hideEditPopup()},_hideEditPopup:function(){this._editPopup&&this._editPopup.option("visible",!1)},hasEditData:function(){return this.hasChanges()},closeEditCell:function(e,t){var n=this,i=this,o=(0,S.when)(),r=i._getVisibleEditRowIndex();return ze(i)||(o=(0,S.Deferred)(),this.executeOperation(o,(function(){n._closeEditCellCore(e,r,t),o.resolve()}))),o.promise()},_closeEditCellCore:function(e,t,n){var i=this,o=We(i),r=i._dataController;if(o===_e&&i.hasChanges())n||i.saveEditData().done((function(e){i.hasChanges()||i.closeEditCell(!!e)}));else if(t>=0){var a=[t];this._resetEditRowKey(),i._resetEditColumnName(),i._beforeCloseEditCellInBatchMode(a),e||r.updateItems({changeType:"update",rowIndices:a})}},update:function(e){var t=this,n=t._dataController;n&&t._pageIndex!==n.pageIndex()&&("refresh"===e&&t.refresh(!0),t._pageIndex=n.pageIndex()),t._updateEditButtons()},_getRowIndicesForCascadeUpdating:function(e,t){return t?[]:[e.rowIndex]},addDeferred:function(e){var t=this;this._deferreds.indexOf(e)<0&&(this._deferreds.push(e),e.always((function(){var n=t._deferreds.indexOf(e);n>=0&&t._deferreds.splice(n,1)})))},_prepareChange:function(e,t,n){var i,r=this,a={},s=null===(i=e.row)||void 0===i?void 0:i.data,l=e.key,u=(0,o.default)(e.cellElement),h=We(r),p=new S.Deferred;if(void 0!==l){h===me&&r._applyModified(u,e),e.value=t;var f=(0,S.fromPromise)(e.column.setCellValue(a,t,(0,c.extend)(!0,{},s),n));f.done((function(){p.resolve({data:a,key:l,oldData:s,type:xe})})).fail(He(p)).fail((function(e){return r._fireDataErrorOccurred(e)})),(0,d.isDefined)(n)&&e.column.displayValueMap&&(e.column.displayValueMap[t]=n),r._updateRowValues(e),r.addDeferred(p)}return p},_updateRowValues:function(e){if(e.values){var t=this._dataController,n=t.getRowIndexByKey(e.key),i=t.getVisibleRows()[n];i&&(e.values=i.values),e.values[e.columnIndex]=e.value}},updateFieldValue:function(e,t,n,i){var o=this,r=e.key,a=new S.Deferred;return void 0===r&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,t,n).done((function(t){(0,S.when)(o._applyChange(e,t,i)).always((function(){a.resolve()}))})):a.resolve(),a.promise()},_focusPreviousEditingCellIfNeed:function(e){var t=this;if(t.hasEditData()&&!t.isEditCell(e.rowIndex,e.columnIndex))return t._focusEditingCell(),t._updateEditRow(e.row,!0),!0},_needUpdateRow:function(e){var t=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());var n=e&&e.setCellValue!==e.defaultSetCellValue,i=t.some((function(e){return e.calculateCellValue!==e.defaultCalculateCellValue}));return n||i},_applyChange:function(e,t,n){var i=this,o=We(i),r=e.column.setCellValue!==e.column.defaultSetCellValue,a=e.column.showEditorAlways,s=o===_e&&e.row&&!e.row.isNewRow,l=a&&!n&&s&&i.hasEditData()&&!i.isEditCell(e.rowIndex,e.columnIndex);if(l)return i._focusEditingCell(),void i._updateEditRow(e.row,!0,r);if(i._addChange(t,e.row),i._updateEditButtons(),a&&!n){if(s)return i._setEditRowKey(e.row.key,!0),i._setEditColumnNameByIndex(e.columnIndex,!0),i.saveEditData();o===me&&(n=i._needUpdateRow(e.column))}var d=e.row;d&&(n||r?i._updateEditRow(d,n,r):d.update&&d.update())},_updateEditRowCore:function(e,t,n){var i=this,o=i._editForm,r=We(i);r===Ce?i.option("repaintChangesOnly")?e.update&&e.update(e):o&&(i._updateEditFormDeferred=(new S.Deferred).done((function(){return o.repaint()})),i._updateLockCount||i._updateEditFormDeferred.resolve()):i._dataController.updateItems({changeType:"update",rowIndices:i._getRowIndicesForCascadeUpdating(e,t)})},_endUpdateCore:function(){this._updateEditFormDeferred&&this._updateEditFormDeferred.resolve()},_updateEditRow:function(e,t,n){var i=this;if(t||!ze(i))i._updateEditRowCore(e,!t,n),t||i._focusEditingCell();else{var a=new S.Deferred;i.addDeferred(a),setTimeout((function(){var t=(0,o.default)(r.default.getActiveElement()),s=i._rowsView.getCellIndex(t,e.rowIndex),l=t.get(0),d=m.default.getSelectionRange(l);if(i._updateEditRowCore(e,!1,n),s>=0){var u=i._rowsView._getCellElement(e.rowIndex,s);i._delayedInputFocus(u,(function(){setTimeout((function(){l=r.default.getActiveElement(),d.selectionStart>=0&&m.default.setSelectionRange(l,d)}))}))}a.resolve()}))}},_addChange:function(e,t){var n=F(this.getChanges()),i=m.default.getIndexByKey(e.key,n);i<0&&(i=n.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,n.push(e));var o=V({},n[i]);return o&&(e.data&&(o.data=(0,v.createObjectWithChanges)(o.data,e.data)),o.type&&e.data||!e.type||(o.type=e.type),t&&(t.oldData=this._getOldData(t.key),t.data=(0,v.createObjectWithChanges)(t.data,e.data))),n[i]=o,this._silentOption(Be,n),i},_getFormEditItemTemplate:function(t,n){return n.editCellTemplate||e(this)},renderFormEditTemplate:function(e,t,n,i,r){var s=this,l=(0,o.default)(i),d=t.column,u=h(t),p=null===e||void 0===e?void 0:e.row.data,f=(0,c.extend)({},e,{data:p,cellElement:null,isOnForm:!0,item:t,column:(0,c.extend)({},d,{editorType:u,editorOptions:t.editorOptions}),id:n.getItemID(t.name||t.dataField),columnIndex:d.index,setValue:!r&&d.allowEditing&&function(e){s.updateFieldValue(f,e)}});f.value=d.calculateCellValue(p);var g=s._getFormEditItemTemplate.bind(s)(f,d);return s._rowsView.renderTemplate(l,g,f,!!l.closest((0,a.getWindow)().document).length).done((function(){s._rowsView._updateCell(l,f)})),f},getFormEditorTemplate:function(e,t){var n=this,i=this.component.columnOption(t.dataField);return function(r,a){var s=(0,o.default)(a);e.row.watch&&e.row.watch((function(){return i.selector(e.row.data)}),(function(){var i,o=s.find(".dx-widget").first(),a=o.data("dxValidator"),l=null===(i=a)||void 0===i?void 0:i.option();s.contents().remove(),e=n.renderFormEditTemplate.bind(n)(e,t,r.component,s),o=s.find(".dx-widget").first(),a=o.data("dxValidator"),l&&!a&&o.dxValidator({validationRules:l.validationRules,validationGroup:l.validationGroup,dataGetter:l.dataGetter})})),e=n.renderFormEditTemplate.bind(n)(e,t,r.component,s)}},getEditFormOptions:function(e){var t=this.option("editing.form.customizeItem"),n=this.addWidgetPrefix(K),i=this.option("editing.form.items"),o={},r=this;if(i)I(i,(function(e){var t=(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.dataField);t&&(o[t]=!!e.editorType)}));else{var a=this.getController("columns").getColumns();i=[],(0,u.each)(a,(function(e,t){t.isBand||t.type||i.push({column:t,name:t.name,dataField:t.dataField})}))}return{items:i,formID:"dx-"+new l.default,customizeItem:function(i){var a,s=i.name||i.dataField;if((i.column||s)&&(a=i.column||r._columnsController.columnOption(i.name?"name:"+i.name:"dataField:"+i.dataField)),a){i.label=i.label||{},i.label.text=i.label.text||a.caption,i.template=i.template||r.getFormEditorTemplate(e,i),i.column=a,i.isCustomEditorType=o[s],a.formItem&&(0,c.extend)(i,a.formItem),void 0===i.isRequired&&a.validationRules&&(i.isRequired=a.validationRules.some((function(e){return"required"===e.type})),i.validationRules=[]);var l=!(0,d.isDefined)(i.visible)||i.visible;!r._firstFormItem&&l&&(r._firstFormItem=i)}t&&t.call(this,i),i.cssClass=(0,d.isString)(i.cssClass)?i.cssClass+" "+n:n}}},getEditFormTemplate:function(){var e=this;return function(t,n,i){var r=e.option("editing.form"),a=e.getEditFormOptions(n);if(e._firstFormItem=void 0,e._editForm=e._createComponent((0,o.default)("<div>").appendTo(t),T.default,(0,c.extend)({},r,a)),!i){var s=(0,o.default)("<div>").addClass(e.addWidgetPrefix($)).appendTo(t);e._createComponent((0,o.default)("<div>").appendTo(s),w.default,e._getSaveButtonConfig()),e._createComponent((0,o.default)("<div>").appendTo(s),w.default,e._getCancelButtonConfig())}e._editForm.on("contentReady",(function(){e._editPopup&&e._editPopup.repaint()}))}},getColumnTemplate:function(t){var n,i,o=this,r=t.column,a=t.row&&t.row.rowIndex,s=ze(o),l=o.isEditRow(a),d=o.isEditCell(a,t.columnIndex);if(!(r.showEditorAlways||r.setCellValue&&(l&&r.allowEditing||d))||"data"!==t.rowType&&"detailAdaptive"!==t.rowType||r.command)"detail"===r.command&&"detail"===t.rowType&&l&&(n=o.getEditFormTemplate(t));else{var u=o.allowUpdating(t);((u||l)&&r.allowEditing||d)&&(s&&l||!s)&&(r.showEditorAlways&&!s&&(i={cancel:!1,key:t.row.isNewRow?void 0:t.row.key,data:t.row.data,column:r},o._isEditingStart(i)),i&&i.cancel||(t.setValue=function(e,n){o.updateFieldValue(t,e,n)})),n=r.editCellTemplate||e(o)}return n},_createButton:function(e,t,n){var i=this,r=Me[t.name],a=i.option("editing.useIcons"),l=(0,o.default)("<a>").attr("href","#").addClass(X).addClass(t.cssClass);if(t.template)i._rowsView.renderTemplate(e,t.template,n,!0);else{if(a&&r||t.icon){r=t.icon||r;var u=E.getImageSourceType(r);"image"===u||"svg"===u?l=E.getImageContainer(r).addClass(t.cssClass):l.addClass("dx-icon"+("dxIcon"===u?"-":" ")+r).attr("title",t.text),l.addClass("dx-link-icon"),e.addClass(ne);var h=this.getButtonLocalizationNames()[t.name];h&&l.attr("aria-label",C.default.format(h))}else l.text(t.text);(0,d.isDefined)(t.hint)&&l.attr("title",t.hint),s.default.on(l,(0,_.addNamespace)("click",ce),i.createAction((function(e){t.onClick.call(t,(0,c.extend)({},e,{row:n.row,column:n.column})),e.event.preventDefault(),e.event.stopPropagation()}))),e.append(l,"&nbsp;")}},getButtonLocalizationNames:function(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}},prepareEditButtons:function(e){var t=this,n=t.option("editing")||{},i=t.option("editing.texts")||{},r={revert:i.cancelAllChanges,save:i.saveAllChanges,addRow:i.addRow},a={revert:"cancel",save:"save",addRow:"addrow"},s=[],l=function(n,i,s){var l=a[n],d=function(n){(0,o.default)(n.element).addClass(e._getToolbarButtonClass(ee+" "+t.addWidgetPrefix(l)+"-button"))},u=r[n],c=("save"===l||"cancel"===l)&&!t.hasChanges();return{widget:"dxButton",options:{onInitialized:d,icon:"edit-button-"+l,disabled:c,onClick:function(){setTimeout((function(){t[i]()}))},text:u,hint:u},showText:"inMenu",name:n+"Button",location:"after",locateInMenu:"auto",sortIndex:s}};return n.allowAdding&&s.push(l("addRow","addRow",20)),(n.allowUpdating||n.allowAdding||n.allowDeleting)&&We(t)===me&&(s.push(l("save","saveEditData",21)),s.push(l("revert","cancelEditData",22))),s},highlightDataCell:function(e,t){var n=this.isCellModified(t);n&&t.column.setCellValue&&e.addClass(ue)},_afterInsertRow:function(){},_beforeSaveEditData:function(e){if(e&&!(0,d.isDefined)(e.key)&&(0,d.isDefined)(e.type))return!0},_afterSaveEditData:function(){},_beforeCancelEditData:function(){},_allowEditAction:function(e,t){var n=this.option("editing."+e);return(0,d.isFunction)(n)&&(n=n({component:this.component,row:t.row})),n},allowUpdating:function(e,t){var n=this.option("editing.startEditAction")||Te,i=!(arguments.length>1)||(n===t||"down"===t);return i&&this._allowEditAction("allowUpdating",e)},allowDeleting:function(e){return this._allowEditAction("allowDeleting",e)},isCellModified:function(e){var t=e.columnIndex,n=e.row&&(e.row.isNewRow?e.row.values:e.row.modifiedValues);return!!n&&void 0!==n[t]}}}()),Ge={defaultOptions:function(){return{editing:{mode:"row",refreshMode:"full",allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:C.default.format("dxDataGrid-editingEditRow"),saveAllChanges:C.default.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:C.default.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:C.default.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:C.default.format("dxDataGrid-editingCancelRowChanges"),addRow:C.default.format("dxDataGrid-editingAddRow"),deleteRow:C.default.format("dxDataGrid-editingDeleteRow"),undeleteRow:C.default.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:C.default.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]}}},controllers:{editing:je},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(e,t){return!t&&this._editingController.refresh(),this.callBase.apply(this,arguments)},repaintRows:function(){if(!this.getController("editing").isSaving())return this.callBase.apply(this,arguments)},_updateEditRow:function(e){var t=this._editingController,n=this.option(Ne),i=m.default.getIndexByKey(n,e),o=e[i];o&&(o.isEditing=!0,t.getEditMode()===ye&&(o.rowType="detail"))},_updateItemsCore:function(e){this.callBase(e),this._updateEditRow(this.items())},_applyChangeUpdate:function(e){this._updateEditRow(e.items),this.callBase(e)},_applyChangesOnly:function(e){this._updateEditRow(e.items),this.callBase(e)},_processItems:function(e,t){return e=this._editingController.processItems(e,t),this.callBase(e,t)},_processDataItem:function(e,t){return this._editingController.processDataItem(e,t,this.generateDataValues),this.callBase(e,t)},_processItem:function(e,t){return e=this.callBase(e,t),e.isNewRow&&(t.dataIndex--,delete e.dataIndex),e},_getChangedColumnIndices:function(e,t,n,i){var o=this.getController("editing"),r=o.isRowEditMode();if(!(e.isNewRow!==t.isNewRow||e.removed!==t.removed||r&&e.isEditing!==t.isEditing))return this.callBase.apply(this,arguments)},_isCellChanged:function(e,t,n,i,o){var r=this.getController("editing"),a=e.cells&&e.cells[i],s=r&&r.isEditCell(n,i);return(!o||!s)&&(!(!a||!a.column||a.column.showEditorAlways||a.isEditing===s)||this.callBase.apply(this,arguments))}}},views:{rowsView:{init:function(){this.callBase(),this._editingController=this.getController("editing")},getCellElements:function(e){var t=this.callBase(e),n=this._editingController,i=n.getEditForm(),o=n.getEditFormRowIndex();return o===e&&t&&i?i.$element().find("."+this.addWidgetPrefix(K)+", ."+oe):t},getCellIndex:function(e,t){if(!e.is("td")&&t>=0){var n=this.getCellElements(t),i=-1;return(0,u.each)(n,(function(t,n){(0,o.default)(n).find(e).length&&(i=t)})),i}return this.callBase.apply(this,arguments)},_getVisibleColumnIndex:function(e,t,n){var i=this._editingController.getEditFormRowIndex();if(i===t&&(0,d.isString)(n)){var o=this._columnsController.columnOption(n);return this._getEditFormEditorVisibleIndex(e,o)}return this.callBase.apply(this,arguments)},_getEditFormEditorVisibleIndex:function(e,t){var n=-1;return(0,u.each)(e,(function(e,i){var r=(0,o.default)(i).find(".dx-field-item-content").data("dx-form-item");if(r&&r.column&&t&&r.column.index===t.index)return n=e,!1})),n},publicMethods:function(){return this.callBase().concat(["cellValue"])},_getCellTemplate:function(e){var t=this,n=t._editingController.getColumnTemplate(e);return n||t.callBase(e)},_isNativeClick:function(){return(b.default.real().ios||b.default.real().android)&&this.option("editing.allowUpdating")},_createTable:function(){var e=this,t=e.callBase.apply(e,arguments);return!ze(e)&&e.option("editing.allowUpdating")&&s.default.on(t,(0,_.addNamespace)(I.default.name,"dxDataGridRowsView"),"td:not(."+J+")",e.createAction((function(){var t=e._editingController;t.isEditing()&&t.closeEditCell()}))),t},_createRow:function(e){var t=this.callBase(e);if(e){var n=this._editingController,i=n.isEditRow(e.rowIndex),o=!!e.removed,r=!!e.isNewRow,a=!!e.modified;We(this)===me?o&&t.addClass(se):i&&t.addClass(Z),r&&t.addClass(le),a&&t.addClass(de),(i||r||o)&&t.removeClass(Q),i&&"detail"===e.rowType&&t.addClass(this.addWidgetPrefix(z))}return t},_getColumnIndexByElement:function(e){var t=e.closest("table"),n=this.getTableElements();while(t.length&&!n.filter(t).length)e=t.closest("td"),t=e.closest("table");return this._getColumnIndexByElementCore(e)},_getColumnIndexByElementCore:function(e){var t=e.closest("."+ae+"> td:not(.dx-master-detail-cell)");return this.getCellIndex(t)},_editCellByClick:function(e,t){var n=this,i=n._editingController,r=(0,o.default)(e.event.target),a=n._getColumnIndexByElement(r),s=n._dataController.items()[e.rowIndex],l=i.allowUpdating({row:s},t)||s&&s.isNewRow,d=n._columnsController.getVisibleColumns()[a],u=l&&d&&(d.allowEditing||i.isEditCell(e.rowIndex,a)),c=n.option("editing.startEditAction")||"click";return"down"===t?d&&d.showEditorAlways&&u&&i.editCell(e.rowIndex,a):("click"!==t||"dblClick"!==c||i.isEditCell(e.rowIndex,a)||i.closeEditCell(),u&&t===c?i.editCell(e.rowIndex,a)||i.isEditRow(e.rowIndex):void 0)},_rowPointerDown:function(e){var t=this;this._pointerDownTimeout=setTimeout((function(){t._editCellByClick(e,"down")}))},_rowClick:function(e){var t=(0,o.default)(e.rowElement).hasClass(this.addWidgetPrefix(z));e.event[Re]=this.component,this._editCellByClick(e,"click")||t||this.callBase.apply(this,arguments)},_rowDblClick:function(e){this._editCellByClick(e,"dblClick")||this.callBase.apply(this,arguments)},_cellPrepared:function(e,t){var n=this._editingController,i=!!t.column.command,o=t.setValue,r=n.isEditRow(t.rowIndex),a=Ke(r,t);if(Ue(r,t)){var s=t.column.alignment;e.toggleClass(this.addWidgetPrefix(j),!o).toggleClass(pe,!o),s&&e.find(fe).first().css("textAlign",s)}a&&this._editCellPrepared(e),t.column&&!i&&n.highlightDataCell(e,t),this.callBase.apply(this,arguments)},_editCellPrepared:function(e){},_formItemPrepared:function(){},_isFormItem:function(e){var t="detail"===e.rowType||"detailAdaptive"===e.rowType,n="data"===e.rowType&&"popup"===We(this);return(t||n)&&e.item},_updateCell:function(e,t){this._isFormItem(t)?this._formItemPrepared(t,e):this.callBase(e,t)},_update:function(e){this.callBase(e),"updateSelection"===e.changeType&&this.getTableElements().children("tbody").children("."+Z).removeClass(Q)},_getCellOptions:function(e){var t=this.callBase(e);return t.isEditing=this._editingController.isEditCell(t.rowIndex,t.columnIndex),t},_createCell:function(e){var t=this.callBase(e),n=this._editingController.isEditRow(e.rowIndex);return Ue(n,e)&&t.addClass(J),t},_renderCellContent:function(e,t){"data"===t.rowType&&We(this)===Ce&&!1===t.row.visible||this.callBase.apply(this,arguments)},cellValue:function(e,t,n,i){var o=this.getCellOptions(e,t);if(o){if(void 0===n)return o.value;this._editingController.updateFieldValue(o,n,i,!0)}},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._pointerDownTimeout)},_renderCore:function(){this.callBase.apply(this,arguments),this._editingController._focusEditorIfNeed()}},headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this.getController("editing").prepareEditButtons(this);return t.concat(e)},optionChanged:function(e){var t=e.fullName;switch(e.name){case"editing":var n=[Fe,Be,Le,Ne],i=t&&!n.some((function(e){return e===t}));i&&this._invalidate(),this.callBase(e);break;default:this.callBase(e)}},isVisible:function(){var e=this,t=e.getController("editing").option("editing");return e.callBase()||t&&(t.allowAdding||(t.allowUpdating||t.allowDeleting)&&t.mode===me)}}}}};t.default=Ge,e.exports=t.default},7527:function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var o=u(n("14a3")),r=n("2809"),a=n("9703"),s=u(n("be58")),l=n("d4b2"),d=u(n("ceb6"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function f(e,t,n){return f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=g(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function g(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=x(e),null===e)break;return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function _(e){var t=w();return function(){var n,i=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var b="dx-context-menu-content-delimiter",T="dx-submenu",I=function(e){m(n,e);var t=_(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"_getDefaultOptions",value:function(){return(0,l.extend)(f(x(n.prototype),"_getDefaultOptions",this).call(this),{orientation:"horizontal",tabIndex:null,onHoverStart:r.noop})}},{key:"_initDataAdapter",value:function(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||f(x(n.prototype),"_initDataAdapter",this).call(this)}},{key:"_renderContentImpl",value:function(){this._renderContextMenuOverlay(),f(x(n.prototype),"_renderContentImpl",this).call(this);var e=this._dataAdapter.getNodeByKey(this.option("_parentKey"));e&&this._renderItems(this._getChildNodes(e)),this._renderDelimiter()}},{key:"_renderDelimiter",value:function(){this.$contentDelimiter=(0,o.default)("<div>").appendTo(this._itemContainer()).addClass(b)}},{key:"_getOverlayOptions",value:function(){return(0,l.extend)(f(x(n.prototype),"_getOverlayOptions",this).call(this),{onPositioned:this._overlayPositionedActionHandler.bind(this)})}},{key:"_overlayPositionedActionHandler",value:function(e){this._showDelimiter(e)}},{key:"_hoverEndHandler",value:function(e){f(x(n.prototype),"_hoverEndHandler",this).call(this,e),this._toggleFocusClass(!1,e.currentTarget)}},{key:"_isMenuHorizontal",value:function(){return"horizontal"===this.option("orientation")}},{key:"_hoverStartHandler",value:function(e){var t=this.option("onHoverStart");t(e),f(x(n.prototype),"_hoverStartHandler",this).call(this,e),this._toggleFocusClass(!0,e.currentTarget)}},{key:"_drawSubmenu",value:function(e){this._actions.onShowing({rootItem:(0,a.getPublicElement)(e),submenu:this}),f(x(n.prototype),"_drawSubmenu",this).call(this,e),this._actions.onShown({rootItem:(0,a.getPublicElement)(e),submenu:this})}},{key:"_hideSubmenu",value:function(e){this._actions.onHiding({cancel:!0,rootItem:(0,a.getPublicElement)(e),submenu:this}),f(x(n.prototype),"_hideSubmenu",this).call(this,e),this._actions.onHidden({rootItem:(0,a.getPublicElement)(e),submenu:this})}},{key:"_showDelimiter",value:function(e){if(this.$contentDelimiter){var t=this._itemContainer().children(".".concat(T)).eq(0),n=this.option("position").of,i={of:t},o=e.position,r=o.v.location,a=o.h.location,l=n.offset(),d=Math.round(l.left),u=Math.round(l.top),c=n.width(),h=n.height(),p=t.width(),f=t.height();this.$contentDelimiter.css("display","block"),this.$contentDelimiter.width(this._isMenuHorizontal()?c<p?c-2:p:2),this.$contentDelimiter.height(this._isMenuHorizontal()?2:h<f?h-2:f),this._isMenuHorizontal()?r>u?Math.round(a)===d?(i.offset="1 -1",i.at=i.my="left top"):(i.offset="-1 -1",i.at=i.my="right top"):(this.$contentDelimiter.height(5),Math.round(a)===d?(i.offset="1 4",i.at=i.my="left bottom"):(i.offset="-1 2",i.at=i.my="right bottom")):a>d?Math.round(r)===u?(i.offset="-1 1",i.at=i.my="left top"):(i.offset="-1 -1",i.at=i.my="left bottom"):Math.round(r)===u?(i.offset="1 1",i.at=i.my="right top"):(i.offset="1 -1",i.at=i.my="right bottom"),s.default.setup(this.$contentDelimiter,i)}}},{key:"_getContextMenuPosition",value:function(){return this.option("position")}},{key:"isOverlayVisible",value:function(){return this._overlay.option("visible")}},{key:"getOverlayContent",value:function(){return this._overlay.$content()}}]),n}(d.default),S=I;t.default=S,e.exports=t.default},"76b9":function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var o=y(n("14a3")),r=y(n("1981")),a=n("2809"),s=n("706b"),l=n("ce5d"),d=n("b62d"),u=n("5e04"),c=y(n("f12e")),h=y(n("8a64")),p=n("b49b"),f=y(n("b547")),g=y(n("b876")),m=_(n("62df"));function v(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function _(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function y(e){return e&&e.__esModule?e:{default:e}}var C="table",w="borders",x="table-fixed",b="important-margin",T="text-content",I="dx-hidden",S="dx-gridbase-container",k="adaptiveHidden",E="input:not([type='hidden'])",D=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView"],R=function(e){return(0,d.isString)(e)&&"%"===e.slice(-1)},O=function(e){return(0,d.isString)(e)&&"px"===e.slice(-2)},M=function(e,t){var n=[];if(e&&t&&e.length&&e.length===t.length)for(var i=0;i<e.length;i++)n.push(e[i]>t[i]?e[i]:t[i]);else e&&e.length?n=e:t&&(n=t);return n},P=function(e){var t=e.get(0).clientHeight,n=parseFloat(e.css("paddingTop")),i=parseFloat(e.css("paddingBottom"));return t-n-i},V=function(e,t){var n=e._rowsView.contentWidth(),i=e._getTotalWidth(t,n);return n-i},A=function(e,t,n,i){return V(e,i.map((function(e,i){return i===t?n:e})))},F=function(e,t){m.hiddenFocus(e),c.default.setSelectionRange(e,t)},B=r.default.ViewController.inherit({_initPostRenderHandlers:function(){var e=this,t=e._dataController;e._refreshSizesHandler||(e._refreshSizesHandler=function(n){var i;t.changed.remove(e._refreshSizesHandler);var o=n&&n.changeType,r=n&&n.isDelayed,s=t.items();n&&"refresh"!==o&&"prepend"!==o&&"append"!==o?"update"===o&&n.changeTypes&&(!(s.length>1||"insert"!==n.changeTypes[0])||0===s.length&&"remove"===n.changeTypes[0]||n.needUpdateDimensions?i=e.resize():(0,a.deferUpdate)((function(){e._rowsView.resize()}))):r||(i=e.resize()),o&&"updateSelection"!==o&&"updateFocusedRow"!==o&&!r&&(0,p.when)(i).done((function(){e._setAriaRowColCount(),e.fireContentReadyAction()}))},e._dataController.changed.add((function(){e._dataController.changed.add(e._refreshSizesHandler)})))},fireContentReadyAction:function(){this.component._fireContentReadyAction()},_setAriaRowColCount:function(){var e=this.component;e.setAria({rowCount:this._dataController.totalItemsCount(),colCount:e.columnCount()},e.$element().children("."+S))},_getBestFitWidths:function(){if(!this.option("legacyRendering"))return this._rowsView.getColumnWidths();var e=this._rowsView.getColumnWidths(),t=this._columnHeadersView&&this._columnHeadersView.getColumnWidths(),n=this._footerView&&this._footerView.getColumnWidths(),i=M(e,t);return i=M(i,n),i},_setVisibleWidths:function(e,t){var n=this._columnsController;n.beginUpdate(),(0,l.each)(e,(function(e,i){var o=n.getColumnId(i);n.columnOption(o,"visibleWidth",t[e])})),n.endUpdate()},_toggleBestFitModeForView:function(e,t,n){var i=this;if(e&&e.isVisible()){var r=this._rowsView.getTableElements(),a=e.getTableElements();(0,l.each)(r,(function(e,r){var s,l=(0,o.default)(r),d=a.eq(e);d&&d.length&&(s=n?d.children("tbody").appendTo(l):l.children("."+t).appendTo(d),s.toggleClass(t,n),s.toggleClass(i.addWidgetPrefix("best-fit"),n))}))}},_toggleBestFitMode:function(e){var t=this.component.$element(),n=this;if(n.option("legacyRendering"))t.find("."+this.addWidgetPrefix(C)).toggleClass(this.addWidgetPrefix(x),!e),t.find(E).toggleClass(I,e),t.find(".dx-group-cell").toggleClass(I,e),t.find(".dx-header-row ."+this.addWidgetPrefix(T)).css("maxWidth","");else{var i=n._rowsView._getTableElement(),o=n._rowsView.getTableElements().eq(1);if(!i)return;i.css("tableLayout",e?"auto":"fixed"),i.children("colgroup").css("display",e?"none":""),o.toggleClass(this.addWidgetPrefix(x),!e),n._toggleBestFitModeForView(n._columnHeadersView,"dx-header",e),n._toggleBestFitModeForView(n._footerView,"dx-footer",e),n._needStretch()&&(i.get(0).style.width=e?"auto":""),g.default.msie&&11===parseInt(g.default.version)&&i.find("."+this.addWidgetPrefix(x)).each((function(){this.style.width=e?"10px":""}))}},_synchronizeColumns:function(){var e,t,n,i=this,o=i._columnsController,r=o.getVisibleColumns(),s=i.option("columnAutoWidth"),h=i.option("legacyRendering"),p=i._needBestFit(),m=!1,v=!1,_=[],y=function(){var e;(0,l.each)(r,(function(t,n){"groupExpand"===n.type&&(e=_[t])})),(0,l.each)(r,(function(t,n){"groupExpand"===n.type&&e&&(_[t]=e)}))};!p&&(0,l.each)(r,(function(e,t){if("auto"===t.width||h&&t.fixed)return p=!0,!1})),(0,l.each)(r,(function(e,t){if(t.minWidth)return m=!0,!1})),i._setVisibleWidths(r,[]),p&&(t=f.default.getActiveElement(),n=c.default.getSelectionRange(t),i._toggleBestFitMode(!0),e=!0),(0,a.deferUpdate)((function(){if(p?(_=i._getBestFitWidths(),(0,l.each)(r,(function(e,t){var n=o.getColumnId(t);o.columnOption(n,"bestFitWidth",_[e],!0)}))):m&&(_=i._getBestFitWidths()),(0,l.each)(r,(function(e){var t=this.width;"auto"!==t&&((0,d.isDefined)(t)?_[e]=(0,d.isNumeric)(t)||O(t)?parseFloat(t):t:s||(_[e]=void 0))})),e&&(i._toggleBestFitMode(!1),e=!1,t&&t!==f.default.getActiveElement())){var c=(0,u.getBoundingRect)(t).bottom<0;c||(g.default.msie?setTimeout((function(){F(t,n)})):F(t,n))}v=i._correctColumnWidths(_,r),s&&(y(),i._needStretch()&&i._processStretch(_,r)),(0,a.deferRender)((function(){(p||v)&&i._setVisibleWidths(r,_)}))}))},_needBestFit:function(){return this.option("columnAutoWidth")},_needStretch:function(){return this.option("legacyRendering")||this._columnsController.getVisibleColumns().some((function(e){return"auto"===e.width&&!e.command}))},_getAverageColumnsWidth:function(e){var t=V(this,e),n=e.filter((function(e){return void 0===e})).length;return t/n},_correctColumnWidths:function(e,t){var n,i=this,o=!1,r=!1,a=!1,s=i.component.$element(),l=i._hasWidth;for(n=0;n<t.length;n++){var u=n,h=t[u],p=e[u]===k,f=e[u],g=h.minWidth;if(g)if(void 0===f){var m=i._getAverageColumnsWidth(e);f=m}else if(R(f)){var v=A(i,u,g,e);v<0&&(f=-1)}g&&i._getRealColumnWidth(f)<g&&!p&&(e[u]=g,a=!0,n=-1),(0,d.isDefined)(h.width)||(r=!0),R(h.width)&&(o=!0)}if(s&&i._maxWidth&&(delete i._maxWidth,s.css("maxWidth","")),!r&&e.length){var _=i._rowsView.contentWidth(),y=i._rowsView.getScrollbarWidth(),C=i._getTotalWidth(e,_);if(C<_){var w=c.default.getLastResizableColumnIndex(t,e);w>=0&&(e[w]="auto",a=!0,!1!==l||o||(i._maxWidth=C+y+(i.option("showBorders")?2:0),s.css("maxWidth",i._maxWidth)))}}return a},_processStretch:function(e,t){var n=this._rowsView.contentWidth(),i=this._getTotalWidth(e,n),o={length:0};if(e.length){(0,l.each)(t,(function(t){(this.width||e[t]===k)&&(o[t]=!0,o.length++)}));var r=n-i,a=Math.floor(r/(e.length-o.length)),s=r-a*(e.length-o.length);if(r>=0)for(var d=0;d<e.length;d++)o[d]||(e[d]+=a,s>0&&(s<1?(e[d]+=s,s=0):(e[d]++,s--)))}},_getRealColumnWidth:function(e,t){return R(e)?(t=t||this._rowsView.contentWidth(),parseFloat(e)*t/100):parseFloat(e)},_getTotalWidth:function(e,t){for(var n=0,i=0;i<e.length;i++){var o=e[i];o&&o!==k&&(n+=this._getRealColumnWidth(o,t))}return n},updateSize:function(e){var t,n,i=this,o=i.addWidgetPrefix(b);void 0===i._hasHeight&&e&&e.is(":visible")&&e.width()&&(t=e.children("."+i.getWidgetContainerClass()),t.length&&t.detach(),i._hasHeight=!!P(e),n=e.width(),e.addClass(o),i._hasWidth=e.width()===n,e.removeClass(o),t.length&&t.appendTo(e))},publicMethods:function(){return["resize","updateDimensions"]},resize:function(){return!this.component._requireResize&&this.updateDimensions()},updateDimensions:function(e){var t=this;if(t._initPostRenderHandlers(),t._checkSize(e)){var n=t._resizeDeferred,i=t._resizeDeferred=new p.Deferred;return(0,p.when)(n).always((function(){(0,a.deferRender)((function(){t._dataController.isLoaded()&&t._synchronizeColumns(),t._resetGroupElementHeight(),(0,a.deferUpdate)((function(){(0,a.deferRender)((function(){(0,a.deferUpdate)((function(){t._updateDimensionsCore()}))}))}))})).done(i.resolve).fail(i.reject)})),i.promise()}},_resetGroupElementHeight:function(){var e=this.component.$element().children().get(0),t=this._rowsView.getScrollable();!e||!e.style.height||t&&t.scrollTop()||(e.style.height="")},_checkSize:function(e){var t=this.component.$element();return!(e&&(this._lastWidth===t.width()&&this._lastHeight===t.height()||!t.is(":visible")))},_setScrollerSpacingCore:function(e){var t=this,n=e?t._rowsView.getScrollbarWidth():0,i=t._rowsView.getScrollbarWidth(!0);(0,a.deferRender)((function(){t._columnHeadersView&&t._columnHeadersView.setScrollerSpacing(n),t._footerView&&t._footerView.setScrollerSpacing(n),t._rowsView.setScrollerSpacing(n,i)}))},_setScrollerSpacing:function(e){var t=this;!0===this.option("scrolling.useNative")?(0,a.deferRender)((function(){(0,a.deferUpdate)((function(){t._setScrollerSpacingCore(e)}))})):this._setScrollerSpacingCore(e)},_updateDimensionsCore:function(){var e,t=this,n=t._dataController,i=t._rowsView,r=t.component.$element(),s=r.children().get(0),d=r&&(r.get(0).clientHeight||r.height()),u=parseInt(r.css("maxHeight")),c=u&&d>=u,h=t.option("height")||r.get(0).style.height,p=t.getController("editorFactory"),f=c&&s.scrollHeight===s.offsetHeight;t.updateSize(r);var g=t._hasHeight||c;h&&t._hasHeight^"auto"!==h&&(e=(0,o.default)("<div>").height(h).appendTo(r),t._hasHeight=!!e.height(),e.remove()),(0,a.deferRender)((function(){i.height(null,g),c&&!f&&(0,o.default)(s).css("height",u),n.isLoaded()?(0,a.deferUpdate)((function(){t._updateLastSizes(r),t._setScrollerSpacing(g),(0,l.each)(D,(function(e,n){var i=t.getView(n);i&&i.resize()})),p&&p.resize()})):i.setLoading(n.isLoading())}))},_updateLastSizes:function(e){this._lastWidth=e.width(),this._lastHeight=e.height()},optionChanged:function(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"legacyRendering":case"renderAsync":return void(e.handled=!0);default:this.callBase(e)}},init:function(){var e=this;e._dataController=e.getController("data"),e._columnsController=e.getController("columns"),e._columnHeadersView=e.getView("columnHeadersView"),e._footerView=e.getView("footerView"),e._rowsView=e.getView("rowsView")}}),N=r.default.ViewController.inherit({_scrollChangedHandler:function(e,t,n){for(var i=0;i<e.length;i++)e[i]&&e[i].name!==n&&e[i].scrollTo({left:t.left,top:t.top})},init:function(){for(var e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],t=0;t<e.length;t++){var n=e[t];n&&n.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}}),L=r.default.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},_getWidgetAriaLabel:function(){return"dxDataGrid-ariaDataGrid"},init:function(){var e=this;e._resizingController=e.getController("resizing"),e._dataController=e.getController("data")},getView:function(e){return this.component._views[e]},element:function(){return this._groupElement},optionChanged:function(e){var t=this;(0,d.isDefined)(t._groupElement)&&"showBorders"===e.name?(t._groupElement.toggleClass(t.addWidgetPrefix(w),!!e.value),e.handled=!0):t.callBase(e)},_renderViews:function(e){var t=this;(0,l.each)(D,(function(n,i){var o=t.getView(i);o&&o.render(e)}))},_getTableRoleName:function(){return"grid"},render:function(e){var t=this,n=!t._groupElement,i=t._groupElement||(0,o.default)("<div>").addClass(t.getWidgetContainerClass());i.addClass(S),i.toggleClass(t.addWidgetPrefix(w),!!t.option("showBorders")),t.setAria("role","presentation",e),t.component.setAria({role:this._getTableRoleName(),label:h.default.format(t._getWidgetAriaLabel())},i),t._rootElement=e||t._rootElement,n&&(t._groupElement=i,(0,s.hasWindow)()&&t.getController("resizing").updateSize(e),i.appendTo(e)),t._renderViews(i)},update:function(){var e=this,t=e._rootElement,n=e._groupElement,i=e.getController("resizing");t&&n&&(i.resize(),e._dataController.isLoaded()&&e._resizingController.fireContentReadyAction())}}),H={defaultOptions:function(){return{showBorders:!1,renderAsync:!1,legacyRendering:!1}},controllers:{resizing:B,synchronizeScrolling:N},views:{gridView:L}};t.default=H,e.exports=t.default},"77e91":function(e,t,n){"use strict";t.default=void 0;var i=o(n("2721"));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default;t.default=r,e.exports=t.default,e.exports.default=e.exports},"7e24":function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var o=w(n("14a3")),r=w(n("8de2")),a=w(n("0fa5")),s=n("2809"),l=n("9703"),d=n("ce5d"),u=n("b62d"),c=n("d4b2"),h=n("439a"),p=n("1820"),f=w(n("4f86")),g=n("a65a"),m=w(n("8937")),v=w(n("b874")),_=w(n("7527")),y=w(n("5cf5")),C=w(n("db7c"));function w(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function T(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function I(e,t,n){return I="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=S(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},I(e,t,n||e)}function S(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=P(e),null===e)break;return e}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function D(e){var t=M();return function(){var n,i=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var V="dx-menu",A=V+"-vertical",F=V+"-horizontal",B=V+"-item",N=V+"-items-container",L=B+"-expanded",H="dx-context-menu",W=H+"-container-border",z="dx-context-menu-content-delimiter",K="dx-submenu",U="dx-state-disabled",j="dx-state-hover",G="dx-state-active",$=V+"-adaptive-mode",q=V+"-hamburger-button",Y=$+"-overlay-wrapper",X="up",J="down",Q="left",Z="right",ee="showSubmenu",te="nextItem",ne="prevItem",ie={show:50,hide:300},oe=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"],re=function(e){k(n,e);var t=D(n);function n(){return x(this,n),t.apply(this,arguments)}return T(n,[{key:"_getDefaultOptions",value:function(){return(0,c.extend)(I(P(n.prototype),"_getDefaultOptions",this).call(this),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}},{key:"_setOptionsByReference",value:function(){I(P(n.prototype),"_setOptionsByReference",this).call(this),(0,c.extend)(this._optionsByReference,{animation:!0,selectedItem:!0})}},{key:"_itemElements",value:function(){var e=I(P(n.prototype),"_itemElements",this).call(this),t=this._submenuItemElements();return e.add(t)}},{key:"_submenuItemElements",value:function(){var e=[],t=".".concat(B),n=this._submenus.length&&this._submenus[0];return n&&n.itemsContainer()&&(e=n.itemsContainer().find(t)),e}},{key:"_focusTarget",value:function(){return this.$element()}},{key:"_isMenuHorizontal",value:function(){return"horizontal"===this.option("orientation")}},{key:"_moveFocus",value:function(e){var t,i,o,r,a=this._getAvailableItems(),s=this._isMenuHorizontal(),d=this._getActiveItem(!0);switch(e){case X:i=s?ee:this._getItemsNavigationOperation(ne),t=s?d:a,o=this._getKeyboardNavigationAction(i,t),r=o();break;case J:i=s?ee:this._getItemsNavigationOperation(te),t=s?d:a,o=this._getKeyboardNavigationAction(i,t),r=o();break;case Z:i=s?this._getItemsNavigationOperation(te):ee,t=s?a:d,o=this._getKeyboardNavigationAction(i,t),r=o();break;case Q:i=s?this._getItemsNavigationOperation(ne):ee,t=s?a:d,o=this._getKeyboardNavigationAction(i,t),r=o();break;default:return I(P(n.prototype),"_moveFocus",this).call(this,e)}r&&0!==r.length&&this.option("focusedElement",(0,l.getPublicElement)(r))}},{key:"_getItemsNavigationOperation",value:function(e){var t=e;return this.option("rtlEnabled")&&(t=e===ne?te:ne),t}},{key:"_getKeyboardNavigationAction",value:function(e,t){var n=s.noop;switch(e){case ee:t.hasClass(U)||(n=this._showSubmenu.bind(this,t));break;case te:n=this._nextItem.bind(this,t);break;case ne:n=this._prevItem.bind(this,t)}return n}},{key:"_clean",value:function(){I(P(n.prototype),"_clean",this).call(this),this.option("templatesRenderAsynchronously")&&clearTimeout(this._resizeEventTimer)}},{key:"_visibilityChanged",value:function(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}},{key:"_isAdaptivityEnabled",value:function(){return this.option("adaptivityEnabled")&&"horizontal"===this.option("orientation")}},{key:"_updateItemsWidthCache",value:function(){var e=this.$element().find("ul").first().children("li").children(".".concat(B));this._menuItemsWidth=this._getSummaryItemsWidth(e,!0)}},{key:"_dimensionChanged",value:function(){if(this._isAdaptivityEnabled()){var e=this.$element().outerWidth();this._toggleAdaptiveMode(this._menuItemsWidth>e)}}},{key:"_init",value:function(){I(P(n.prototype),"_init",this).call(this),this._submenus=[]}},{key:"_initActions",value:function(){var e=this;this._actions={},(0,d.each)(oe,(function(t,n){e._actions[n]=e._createActionByOption(n)}))}},{key:"_initMarkup",value:function(){this._visibleSubmenu=null,this.$element().addClass(V),I(P(n.prototype),"_initMarkup",this).call(this),this.setAria("role","menubar")}},{key:"_render",value:function(){I(P(n.prototype),"_render",this).call(this),this._initAdaptivity()}},{key:"_renderHamburgerButton",value:function(){return this._hamburger=new y.default((0,o.default)("<div>").addClass(q),{icon:"menu",activeStateEnabled:!1,onClick:this._toggleTreeView.bind(this)}),this._hamburger.$element()}},{key:"_toggleTreeView",value:function(e){(0,u.isPlainObject)(e)&&(e=!this._overlay.option("visible")),this._overlay.option("visible",e),this._toggleHamburgerActiveState(e)}},{key:"_toggleHamburgerActiveState",value:function(e){this._hamburger&&this._hamburger.$element().toggleClass(G,e)}},{key:"_toggleAdaptiveMode",value:function(e){var t=this.$element().find(".".concat(F)),n=this.$element().find(".".concat($));e?this._hideVisibleSubmenu():(this._treeView&&this._treeView.collapseAll(),this._overlay&&this._toggleTreeView(e)),t.toggle(!e),n.toggle(e)}},{key:"_removeAdaptivity",value:function(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}},{key:"_treeviewItemClickHandler",value:function(e){this._actions.onItemClick(e),e.node.children.length||this._toggleTreeView(!1)}},{key:"_getAdaptiveOverlayOptions",value:function(){var e=this,t=this.option("rtlEnabled"),n=t?"right":"left";return{maxHeight:function(){return(0,h.getElementMaxHeightByWindow)(e.$element())},deferRendering:!1,shading:!1,animation:!1,closeOnTargetScroll:!0,onHidden:function(){e._toggleHamburgerActiveState(!1)},height:"auto",closeOnOutsideClick:function(e){return!(0,o.default)(e.target).closest(".".concat(q)).length},position:{collision:"flipfit",at:"bottom "+n,my:"top "+n,of:this._hamburger.$element()}}}},{key:"_getTreeViewOptions",value:function(){var e=this,t={},n=["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],i=["onItemContextMenu","onSelectionChanged"];return(0,d.each)(n,(function(n,i){t[i]=e.option(i)})),(0,d.each)(i,(function(n,i){t[i]=function(t){e._actions[i](t)}})),(0,c.extend)(t,{dataSource:this.getDataSource(),animationEnabled:!!this.option("animation"),onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:function(t){e._overlay.repaint(),e._actions.onSubmenuShown(t)},onItemCollapsed:function(t){e._overlay.repaint(),e._actions.onSubmenuHidden(t)},selectNodesRecursive:!1,selectByClick:this.option("selectByClick"),expandEvent:"click"})}},{key:"_initAdaptivity",value:function(){if(this._isAdaptivityEnabled()){this._$adaptiveContainer=(0,o.default)("<div>").addClass($);var e=this._renderHamburgerButton();this._treeView=this._createComponent((0,o.default)("<div>"),C.default,this._getTreeViewOptions()),this._overlay=this._createComponent((0,o.default)("<div>"),v.default,this._getAdaptiveOverlayOptions()),this._overlay.$content().append(this._treeView.$element()).addClass($).addClass(this.option("cssClass")),this._overlay._wrapper().addClass(Y),this._$adaptiveContainer.append(e),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}}},{key:"_getDelay",value:function(e){var t=this.option("showFirstSubmenuMode").delay;return(0,u.isDefined)(t)?(0,u.isObject)(t)?t[e]:t:ie[e]}},{key:"_keyboardHandler",value:function(e){return I(P(n.prototype),"_keyboardHandler",this).call(this,e,!!this._visibleSubmenu)}},{key:"_renderContainer",value:function(){var e=(0,o.default)("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?F:A),I(P(n.prototype),"_renderContainer",this).call(this,e)}},{key:"_renderSubmenuItems",value:function(e,t){var n=this._createSubmenu(e,t);return this._submenus.push(n),this._renderBorderElement(t),n}},{key:"_getKeyboardListeners",value:function(){return I(P(n.prototype),"_getKeyboardListeners",this).call(this).concat(this._visibleSubmenu)}},{key:"_createSubmenu",value:function(e,t){var n=(0,o.default)("<div>").addClass(H).appendTo(t),i=this._getChildNodes(e),r=this._createComponent(n,_.default,(0,c.extend)(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:i,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(t)}));return this._attachSubmenuHandlers(t,r),r}},{key:"_getSubmenuOptions",value:function(){var e=this,t=(0,o.default)("<div>"),n=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),target:t,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),cssClass:this.option("cssClass"),selectByClick:this.option("selectByClick"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onFocusedItemChanged:function(t){t.component.option("visible")&&e.option("focusedElement",t.component.option("focusedElement"))},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:n?null:this._moveMainMenuFocus.bind(this,ne),onLeftLastItem:n?null:this._moveMainMenuFocus.bind(this,te),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,n?ne:null),onExpandLastSubmenu:n?this._moveMainMenuFocus.bind(this,te):null}}},{key:"_getShowFirstSubmenuMode",value:function(){if(!this._isDesktopDevice())return"onClick";var e=this.option("showFirstSubmenuMode");return(0,u.isObject)(e)?e.name:e}},{key:"_moveMainMenuFocus",value:function(e){var t=this._getAvailableItems(),n=t.length,i=t.filter(".".concat(L)).eq(0),o=t.index(i);this._hideSubmenu(this._visibleSubmenu),o+=e===ne?-1:1,o>=n?o=0:o<0&&(o=n-1);var r=t.eq(o);this.option("focusedElement",(0,l.getPublicElement)(r))}},{key:"_nestedItemOnSelectionChangedHandler",value:function(e){var t=e.addedItems.length&&e.addedItems[0],n=_.default.getInstance(e.element),i=this._actions.onSelectionChanged;i(e),t&&this._clearSelectionInSubmenus(t[0],n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",t)}},{key:"_clearSelectionInSubmenus",value:function(e,t){var n=this,i=!arguments.length;(0,d.each)(this._submenus,(function(e,o){var r=o._itemContainer(),a=!r.is(t&&t._itemContainer()),s=r.find(".".concat(n._selectedItemClass()));if(a&&s.length||i){s.removeClass(n._selectedItemClass());var l=n._getItemData(s);l&&(l.selected=!1),o._clearSelectedItems()}}))}},{key:"_clearRootSelection",value:function(){var e=this.$element().find(".".concat(N)).first().children().children().filter(".".concat(this._selectedItemClass()));if(e.length){var t=this._getItemData(e);t.selected=!1,e.removeClass(this._selectedItemClass())}}},{key:"_nestedItemOnItemClickHandler",value:function(e){this._actions.onItemClick(e)}},{key:"_nestedItemOnItemRenderedHandler",value:function(e){this._actions.onItemRendered(e)}},{key:"_attachSubmenuHandlers",value:function(e,t){var n=this,i=t.getOverlayContent(),o=i.find(".".concat(K)),a=(0,p.addNamespace)(g.end,this.NAME+"_submenu");t.option({onShowing:this._submenuOnShowingHandler.bind(this,e,t),onShown:this._submenuOnShownHandler.bind(this,e,t),onHiding:this._submenuOnHidingHandler.bind(this,e,t),onHidden:this._submenuOnHiddenHandler.bind(this,e,t)}),(0,d.each)(o,(function(t,i){r.default.off(i,a),r.default.on(i,a,null,n._submenuMouseLeaveHandler.bind(n,e))}))}},{key:"_submenuOnShowingHandler",value:function(e,t){var n=e.children(".".concat(W));this._actions.onSubmenuShowing({rootItem:(0,l.getPublicElement)(e),submenu:t}),n.show(),e.addClass(L)}},{key:"_submenuOnShownHandler",value:function(e,t){this._actions.onSubmenuShown({rootItem:(0,l.getPublicElement)(e),submenu:t})}},{key:"_submenuOnHidingHandler",value:function(e,t,n){var i=e.children(".".concat(W)),o=n;o.rootItem=(0,l.getPublicElement)(e),o.submenu=t,this._actions.onSubmenuHiding(o),n=o,n.cancel||(this._visibleSubmenu===t&&(this._visibleSubmenu=null),i.hide(),e.removeClass(L))}},{key:"_submenuOnHiddenHandler",value:function(e,t){this._actions.onSubmenuHidden({rootItem:(0,l.getPublicElement)(e),submenu:t})}},{key:"_submenuMouseLeaveHandler",value:function(e,t){var n=(0,o.default)(t.relatedTarget).parents(".".concat(H))[0],i=this._getSubmenuByRootElement(e).getOverlayContent()[0];this.option("hideSubmenuOnMouseLeave")&&n!==i&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}},{key:"_hideSubmenuAfterTimeout",value:function(){if(this._visibleSubmenu){var e=(0,o.default)(this._visibleSubmenu.$element().context).hasClass(j),t=this._visibleSubmenu.getOverlayContent().find(".".concat(j)).length,n=this._visibleSubmenu.getOverlayContent().get(0).querySelector(":hover");n||t||e||this._visibleSubmenu.hide()}}},{key:"_getSubmenuByRootElement",value:function(e){if(!e)return!1;var t=e.children(".".concat(H));return t.length&&_.default.getInstance(t)}},{key:"getSubmenuPosition",value:function(e){var t=this._isMenuHorizontal(),n=this.option("submenuDirection").toLowerCase(),i=this.option("rtlEnabled"),o={collision:"flip",of:e};switch(n){case"leftortop":o.at="left top",o.my=t?"left bottom":"right top";break;case"rightorbottom":o.at=t?"left bottom":"right top",o.my="left top";break;default:t?(o.at=i?"right bottom":"left bottom",o.my=i?"right top":"left top"):(o.at=i?"left top":"right top",o.my=i?"right top":"left top")}return o}},{key:"_renderBorderElement",value:function(e){(0,o.default)("<div>").appendTo(e).addClass(W).hide()}},{key:"_itemPointerDownHandler",value:function(e){var t=(0,o.default)(e.target),i=t.closest(this._itemElements());i.hasClass("dx-menu-item-has-submenu")?this.option("focusedElement",null):I(P(n.prototype),"_itemPointerDownHandler",this).call(this,e)}},{key:"_hoverStartHandler",value:function(e){var t=(0,p.addNamespace)(f.default.move,this.NAME),n=this._getItemElementByEventArgs(e),i=this._dataAdapter.getNodeByItem(this._getItemData(n)),o=(0,u.isDefined)(e.buttons)&&1===e.buttons||!(0,u.isDefined)(e.buttons)&&1===e.which;if(!this._isItemDisabled(n))if(r.default.off(n,t),this._hasChildren(i)){if("onHover"===this._getShowFirstSubmenuMode()&&!o){var a=this._getSubmenuByElement(n);this._clearTimeouts(),a.isOverlayVisible()||(r.default.on(n,t,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}else this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"))}},{key:"_hoverEndHandler",value:function(e){var t=this,i=this._getItemElementByEventArgs(e),r=(0,o.default)(e.relatedTarget);I(P(n.prototype),"_hoverEndHandler",this).call(this,e),this._clearTimeouts(),this._isItemDisabled(i)||r.hasClass(z)||this.option("hideSubmenuOnMouseLeave")&&!r.hasClass(N)&&(this._hideSubmenuTimer=setTimeout((function(){t._hideSubmenuAfterTimeout()}),this._getDelay("hide")))}},{key:"_hideVisibleSubmenu",value:function(){return!!this._visibleSubmenu&&(this._hideSubmenu(this._visibleSubmenu),!0)}},{key:"_showSubmenu",value:function(e){var t=this._getSubmenuByElement(e);this._visibleSubmenu!==t&&this._hideVisibleSubmenu(),t&&(this._clearTimeouts(),t.show(),this.option("focusedElement",t.option("focusedElement"))),this._visibleSubmenu=t,this._hoveredRootItem=e}},{key:"_hideSubmenu",value:function(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}},{key:"_itemMouseMoveHandler",value:function(e){var t=this;if(!e.pointers||!e.pointers.length){var n=(0,o.default)(e.currentTarget);(0,u.isDefined)(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout((function(){var e=t._getSubmenuByElement(n);e&&!e.isOverlayVisible()&&t._showSubmenu(n)}),this._getDelay("show")))}}},{key:"_clearTimeouts",value:function(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}},{key:"_getSubmenuByElement",value:function(e,t){var n=this._getSubmenuByRootElement(e);if(n)return n;t=t||this._getItemData(e);var i=this._dataAdapter.getNodeByItem(t);return this._hasChildren(i)&&this._renderSubmenuItems(i,e)}},{key:"_updateSubmenuVisibilityOnClick",value:function(e){var t=e.args.length&&e.args[0];if(t&&!this._disabledGetter(t.itemData)){var n=(0,o.default)(t.itemElement),i=this._getSubmenuByElement(n,t.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu){if(this._visibleSubmenu===i)return void("onClick"===this.option("showFirstSubmenuMode")&&this._hideSubmenu(this._visibleSubmenu));this._hideSubmenu(this._visibleSubmenu)}i&&(i.isOverlayVisible()||this._showSubmenu(n))}}},{key:"_optionChanged",value:function(e){switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e.name,e.value);break;case"onSubmenuShowing":case"onSubmenuShown":case"onSubmenuHiding":case"onSubmenuHidden":this._initActions();break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":this._isAdaptivityEnabled()&&(this._treeView.option(e.name,e.value),this._overlay.option(e.name,e.value)),I(P(n.prototype),"_optionChanged",this).call(this,e),this._dimensionChanged();break;case"animation":this._isAdaptivityEnabled()&&this._treeView.option("animationEnabled",!!e.value),I(P(n.prototype),"_optionChanged",this).call(this,e);break;default:this._isAdaptivityEnabled()&&this._treeView.option(e.name,e.value),I(P(n.prototype),"_optionChanged",this).call(this,e)}}},{key:"_changeSubmenusOption",value:function(e,t){(0,d.each)(this._submenus,(function(n,i){i.option(e,t)}))}},{key:"selectItem",value:function(e){this._hideSubmenu(this._visibleSubmenu),I(P(n.prototype),"selectItem",this).call(this,e)}},{key:"unselectItem",value:function(e){this._hideSubmenu(this._visibleSubmenu),I(P(n.prototype),"selectItem",this).call(this,e)}}]),n}(m.default);(0,a.default)("dxMenu",re);var ae=re;t.default=ae,e.exports=t.default},"7fde":function(e,t,n){"use strict";t.default=void 0;var i=c(n("14a3")),o=c(n("b547")),r=n("b62d"),a=n("cb15"),s=n("ce5d"),l=c(n("f12e")),d=c(n("8a64")),u=c(n("43bb"));function c(e){return e&&e.__esModule?e:{default:e}}var h="search-panel",p="search-text",f="header-panel",g=700;function m(e){return(0,r.isDefined)(e.allowSearch)?e.allowSearch:e.allowFiltering}function v(e,t){var n=e.lookup;return e.parseValue?n?e.parseValue.call(n,t):e.parseValue(t):t}var _={defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:d.default.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}},extenders:{controllers:{data:function(){var e=function(e,t){var n,i,o,r=e._columnsController.getColumns(),s=e.option("searchPanel.searchVisibleColumnsOnly"),d=[];if(!t)return null;function c(e){for(var t=(0,a.compileGetter)(o.valueExpr),n=0;n<e.length;n++){var r=t(e[n]);d.push(i.createFilterExpression(r,null,"search"))}}for(n=0;n<r.length;n++)if(i=r[n],(!s||i.visible)&&m(i)&&i.calculateFilterExpression){o=i.lookup;var h=v(i,t);o&&o.items?(0,u.default)(o.items).filter(i.createFilterExpression.call({dataField:o.displayExpr,dataType:o.dataType,calculateFilterExpression:i.calculateFilterExpression},h,null,"search")).enumerate().done(c):void 0!==h&&d.push(i.createFilterExpression(h,null,"search"))}return l.default.combineFilters(d,"or")};return{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var t=this,n=t.callBase(),i=e(t,t.option("searchPanel.text"));return l.default.combineFilters([n,i])},searchByText:function(e){this.option("searchPanel.text",e)},optionChanged:function(e){var t=this;switch(e.fullName){case"searchPanel.text":case"searchPanel":t._applyFilter(),e.handled=!0;break;default:t.callBase(e)}}}}()},views:{headerPanel:function(){var e=function(e){return e.option("searchPanel")};return{_getToolbarItems:function(){var e=this.callBase();return this._prepareSearchItem(e)},_prepareSearchItem:function(t){var n=this,o=n.getController("data"),r=e(n);if(r&&r.visible){var a={template:function(e,t,a){var s=(0,i.default)("<div>").addClass(n.addWidgetPrefix(h)).appendTo(a);n.getController("editorFactory").createEditor(s,{width:r.width,placeholder:r.placeholder,parentType:"searchPanel",value:n.option("searchPanel.text"),updateValueTimeout:g,setValue:function(e){o.searchByText(e)},editorOptions:{inputAttr:{"aria-label":d.default.format("dxDataGrid-ariaSearchInGrid")}}}),n.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};t.push(a)}return t},getSearchTextEditor:function(){var e=this,t=e.element(),n=t.find("."+e.addWidgetPrefix(h)).filter((function(){return(0,i.default)(this).closest("."+e.addWidgetPrefix(f)).is(t)}));return n.length?n.dxTextBox("instance"):null},isVisible:function(){var t=e(this);return this.callBase()||t&&t.visible},optionChanged:function(e){if("searchPanel"===e.name){if("searchPanel.text"===e.fullName){var t=this.getSearchTextEditor();t&&t.option("value",e.value)}else this._invalidate();e.handled=!0}else this.callBase(e)}}}(),rowsView:{init:function(){this.callBase.apply(this,arguments),this._searchParams=[]},_getFormattedSearchText:function(e,t){var n=v(e,t),i=l.default.getFormatOptionsByColumn(e,"search");return l.default.formatValue(n,i)},_getStringNormalizer:function(){var e=this.option("searchPanel.highlightCaseSensitive");return function(t){return e?t:t.toLowerCase()}},_findHighlightingTextNodes:function(e,t,n){var o,r=this,a=t.parent(),s=this._getStringNormalizer(),l=s(n);if(a.length){if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)o=t;else{var d=r._columnsController.getVisibleIndex(e.index);o=a.children("td").eq(d).find("*")}}else a=(0,i.default)("<div>").append(t);return o=o&&o.length?o:a.find("*"),o=o.filter((function(e,t){for(var n=(0,i.default)(t).contents(),o=0;o<n.length;o++){var r=n.get(o);return 3===r.nodeType&&s(r.textContent||r.nodeValue).indexOf(l)>-1}})),o},_highlightSearchTextCore:function(e,t){var n=this,r=(0,i.default)("<span>").addClass(n.addWidgetPrefix(p)),a=e.text(),s=e[0],l=this._getStringNormalizer(),d=l(a).indexOf(l(t));if(d>=0)return s.textContent?s.textContent=a.substr(0,d):s.nodeValue=a.substr(0,d),e.after(r.text(a.substr(d,t.length))),e=(0,i.default)(o.default.createTextNode(a.substr(d+t.length))).insertAfter(r),n._highlightSearchTextCore(e,t)},_highlightSearchText:function(e,t,n){var o=this,r=this._getStringNormalizer(),a=o.option("searchPanel.text");if(t&&n&&(a=a&&o._getFormattedSearchText(n,a)),a&&o.option("searchPanel.highlightSearchText")){var l=o._findHighlightingTextNodes(n,e,a);(0,s.each)(l,(function(e,n){(0,s.each)((0,i.default)(n).contents(),(function(e,n){t?r((0,i.default)(n).text())===r(a)&&(0,i.default)(this).replaceWith((0,i.default)("<span>").addClass(o.addWidgetPrefix(p)).text((0,i.default)(n).text())):o._highlightSearchTextCore((0,i.default)(n),a)}))}))}},_renderCore:function(){this.callBase.apply(this,arguments),this.option("rowTemplate")&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){this._highlightSearchText(this._getTableElement())}.bind(this))):this._highlightSearchText(this._getTableElement()))},_updateCell:function(e,t){var n=t.column,i=n.lookup&&n.lookup.dataType||n.dataType,o="string"!==i;m(n)&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(function(){this._searchParams.forEach(function(e){this._highlightSearchText.apply(this,e)}.bind(this)),this._searchParams=[]}.bind(this))),this._searchParams.push([e,o,n])):this._highlightSearchText(e,o,n)),this.callBase(e,t)},dispose:function(){clearTimeout(this._highlightTimer),this.callBase()}}}}};t.default=_,e.exports=t.default},8125:function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("d582"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("columnChooser",o.default)},"832e":function(e,t,n){"use strict";t.default=void 0;var i=n("d4b2"),o=r(n("1981"));function r(e){return e&&e.__esModule?e:{default:e}}var a=(0,i.extend)({},o.default,{modules:[],foreachNodes:function(e,t){for(var n=0;n<e.length;n++)!1!==t(e[n])&&e[n].hasChildren&&e[n].children.length&&this.foreachNodes(e[n].children,t)}});t.default=a,e.exports=t.default},8641:function(e,t,n){"use strict";t.default=void 0;var i=c(n("0fa5")),o=n("2809"),r=n("b62d"),a=n("ce5d"),s=n("d4b2"),l=c(n("cc156")),d=c(n("832e")),u=n("fbaa");function c(e){return e&&e.__esModule?e:{default:e}}n("9d51"),n("a68f"),n("022c"),n("8d02"),n("45ae"),n("a698"),n("c9a3"),n("2077"),n("43b86");var h=d.default.callModuleItemsMethod,p=".dx-row",f="dx-treelist";d.default.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","editing","grouping","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var g=l.default.inherit({_activeStateUnit:p,_getDefaultOptions:function(){var e=this,t=e.callBase();return(0,a.each)(d.default.modules,(function(){(0,r.isFunction)(this.defaultOptions)&&(0,s.extend)(!0,t,this.defaultOptions())})),t},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return(0,u.isMaterial)()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}}])},_init:function(){var e=this;e.callBase(),d.default.processModules(e,d.default),h(e,"init")},_clean:o.noop,_optionChanged:function(e){var t=this;h(t,"optionChanged",[e]),e.handled||t.callBase(e)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(e){e&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.$element().addClass(f),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var e=this;(0,o.deferRender)((function(){e._renderContentImpl()}))},_dispose:function(){var e=this;e.callBase(),h(e,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){var e=this;e.callBase(),h(e,"beginUpdate")},endUpdate:function(){var e=this;h(e,"endUpdate"),e.callBase()},getController:function(e){return this._controllers[e]},getView:function(e){return this._views[e]},focus:function(e){this.callBase(),(0,r.isDefined)(e)&&this.getController("keyboardNavigation").focus(e)}});g.registerModule=d.default.registerModule.bind(d.default),(0,i.default)("dxTreeList",g);var m=g;t.default=m,e.exports=t.default},"86e7":function(e,t,n){"use strict";t.default=void 0;var i=E(n("14a3")),o=E(n("718c")),r=E(n("5c39")),a=n("cb15"),s=n("2809"),l=n("b62d"),d=n("ce5d"),u=n("5e04"),c=n("d4b2"),h=n("5e98"),p=E(n("d859")),f=n("dd1a"),g=E(n("0fc0")),m=E(n("1981")),v=E(n("f12e")),_=n("c591"),y=E(n("dc83")),C=E(n("061a")),w=E(n("7585")),x=E(n("8a64")),b=n("b49b"),T=E(n("2fe1")),I=n("fb5d"),S=n("f028"),k=E(n("0093"));function E(e){return e&&e.__esModule?e:{default:e}}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=["filterValues","filterType","fixed","fixedPosition"],P=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","selectedFilterOperation","added"].concat(M),V={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},A="dx-command-expand",F=Number.MAX_SAFE_INTEGER||9007199254740991,B="groupExpand",N=/columns\[(\d+)\]\.?/gi,L=1,H={defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:x.default.format("dxDataGrid-trueText"),falseText:x.default.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}},controllers:{columns:m.default.Controller.inherit(function(){var e={visible:!0,showInColumnChooser:!0},t={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},n={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},m="group",x="columnChooser",E=function(e){e.filterOperations=e.defaultFilterOperations},D=function(t,n,i,o){var r={};if(n){(0,l.isString)(n)&&(n={dataField:n}),t.setName(n);var a={};if(n.command)a=(0,f.deepExtendArraySafe)(r,n);else{r=t.getCommonSettings(n),i&&i.name&&i.dataField&&(n=(0,c.extend)({},n,{dataField:i.dataField}));var s=t._createCalculatedColumnOptions(n,o);n.type||(a={headerId:"dx-col-".concat(L++)}),a=(0,f.deepExtendArraySafe)(a,e),(0,f.deepExtendArraySafe)(a,r),(0,f.deepExtendArraySafe)(a,s),(0,f.deepExtendArraySafe)(a,n),(0,f.deepExtendArraySafe)(a,{selector:null})}return n.filterOperations===n.defaultFilterOperations&&E(a),a}},O=function e(t,n,i){var o=[];return n&&(0,d.each)(n,(function(n,r){var a=t._columnsUserState&&re(r,t._columnsUserState[n])&&t._columnsUserState[n],s=D(t,r,a,i);s&&(i&&(s.ownerBand=i),o.push(s),s.columns&&(o=o.concat(e(t,s.columns,s)),delete s.columns,s.hasColumns=!0))})),o},H=function(e,t){var n=[],i=t[e];while(i)n.unshift(i),e=i.index,i=t[e];return n},W=function(e,t,n){var i=[],o=t[e];if(o)for(var r=0;r<o.length;r++){var a=o[r];(0,l.isDefined)(a.groupIndex)&&!a.showWhenGrouped||(i.push(a),n&&a.isBand&&(i=i.concat(W(a.index,t,n))))}return i},z=function(e,t){var n,i,o=e.getBandColumnsCache(),r=function(e){var t=n?n.index:void 0;return e.ownerBand===t};if(o.isPlain)n=e._columns[t[0]];else{i=e._columns.filter(r);for(var a=0;a<t.length;a++)n=i[t[a]],n&&(i=e._columns.filter(r))}return n},K=function(e,t){var n,i=[],o=e.getBandColumnsCache(),r=function(e){return e.ownerBand===t.ownerBand};if(o.isPlain){var a=e._columns.indexOf(t);a>=0&&(i=["columns[".concat(a,"]")])}else{n=e._columns.filter(r);while(n.length&&-1!==n.indexOf(t))i.unshift("columns[".concat(n.indexOf(t),"]")),t=o.columnParentByIndex[t.index],n=t?e._columns.filter(r):[]}return i.join(".")},U=function e(t,n){var i=0,o=t.getChildrenByBandColumn(n,!0);return(0,d.each)(o,(function(n,o){o.isBand?(o.colspan=o.colspan||e(t,o.index),i+=o.colspan||1):i+=1})),i},j=function(e,t,n){for(var i,o=0;o<t.length;o++){var r=t[o];(r.visible||r.command)&&(r.isBand&&(r.colspan=r.colspan||U(e,r.index)),r.isBand&&r.colspan||(i=e.getRowCount(),r.command||(0,l.isDefined)(r.groupIndex)&&!r.showWhenGrouped||(i-=H(r.index,n.columnParentByIndex).length),i>1&&(r.rowspan=i)))}},G=function(e){var t=(0,l.type)(e);return"string"!==t&&"boolean"!==t&&"number"!==t&&"date"!==t&&"object"!==t&&(t=void 0),t},$=function(e,t){switch(e){case"date":case"datetime":return y.default.getDateSerializationFormat(t);case"number":if((0,l.isString)(t))return"string";if((0,l.isNumeric)(t))return null}},q=function(e,t){e.deserializeValue||(v.default.isDateType(t)&&(e.deserializeValue=function(e){return y.default.deserializeDate(e)},e.serializeValue=function(e){return(0,l.isString)(e)?e:y.default.serializeDate(e,this.serializationFormat)}),"number"===t&&(e.deserializeValue=function(e){var t=parseFloat(e);return isNaN(t)?e:t},e.serializeValue=function(e,t){return"filter"===t?e:(0,l.isDefined)(e)&&"string"===this.serializationFormat?e.toString():e}))},Y=function(e,t){switch(e){case"number":return"right";case"boolean":return"center";default:return(0,u.getDefaultAlignment)(t)}},X=function(e){return!0===e.value?this.trueText||"true":!1===e.value?this.falseText||"false":e.valueText||""},J=function(e){if("boolean"===e)return X},Q=function(e,t){for(var n,i=e._getFirstItems(t),o={},a=[],s=0;s<i.length;s++)if(i[s])for(n in i[s])(0,l.isFunction)(i[s][n])&&!r.default.isWrapped(i[s][n])||(o[n]=!0);for(n in o)if(0!==n.indexOf("__")){var d=D(e,n);a.push(d)}return a},Z=function(e){(0,d.each)(e._columns,(function(e,t){t.index=e})),(0,d.each)(e._columns,(function(e,t){(0,l.isObject)(t.ownerBand)&&(t.ownerBand=t.ownerBand.index)})),(0,d.each)(e._commandColumns,(function(e,t){t.index=-(e+1)}))},ee=function(e,t){(0,h.normalizeIndexes)(e._columns,"groupIndex",t,(function(e){var t=e.grouped;return delete e.grouped,t}))},te=function(e,t){(0,d.each)(e._columns,(function(e,t){(0,l.isDefined)(t.sortIndex)&&!ge(t.sortOrder)&&delete t.sortIndex})),(0,h.normalizeIndexes)(e._columns,"sortIndex",t,(function(e){return!(0,l.isDefined)(e.groupIndex)&&ge(e.sortOrder)}))},ne=function(e,t){for(var n,i,o={},r=[],a=e.getBandColumnsCache(),s=e._columns.filter((function(e){return!e.command})),l=0;l<s.length;l++){i=s[l];var d=H(l,a.columnParentByIndex);if(d.length){var u=d[d.length-1].index;o[u]=o[u]||[],o[u].push(i)}else r.push(i)}for(n in o)(0,h.normalizeIndexes)(o[n],"visibleIndex",t);(0,h.normalizeIndexes)(r,"visibleIndex",t)},ie=function(e,t,n){var i,o=(0,l.isObject)(t)?t.rowIndex:null,r=n===m?e.getGroupColumns():n===x?e.getChooserColumns():e.getVisibleColumns(o);return t=(0,l.isObject)(t)?t.columnIndex:t,i=r[t],i&&i.type===B&&(i=e._columns.filter((function(e){return i.type===e.type}))[0]||i),i&&(0,l.isDefined)(i.index)?i.index:-1},oe=function(e,t,n){var i,o=e.getGroupColumns();if(n>=0)for(i=0;i<o.length;i++)o[i].groupIndex>=n&&o[i].groupIndex++;else for(n=0,i=0;i<o.length;i++)n=Math.max(n,o[i].groupIndex+1);return n};function re(e,t){return e&&t&&(t.name===e.name||!e.name)&&(t.dataField===e.dataField||e.name)}var ae=function(e){var t,n,i,o=e._columnsUserState,r=e._ignoreColumnOptionNames||[],a=e._columns,s={},d=[],u=!0,c=[];function p(e,t){if(t)for(var n=0;n<P.length;n++){var i=P[n];(0,h.inArray)(i,r)>=0||("dataType"===i?e[i]=e[i]||t[i]:(0,h.inArray)(i,M)>=0?i in t&&(e[i]=t[i]):("selectedFilterOperation"===i&&t[i]&&(e.defaultSelectedFilterOperation=e[i]||null),e[i]=t[i]))}}function f(e,t){for(var n=t.name||t.dataField,i=s[n]||0,o=0;o<e.length;o++)if(re(t,e[o])){if(!i)return s[n]=s[n]||0,s[n]++,o;i--}return-1}if(o){for(i=0;i<a.length;i++)n=f(o,a[i]),u=u&&n>=0,c.push(n);for(i=0;i<a.length;i++)t=a[i],n=c[i],(e._hasUserState||u)&&p(t,o[n]),n>=0&&(0,l.isDefined)(o[n].initialIndex)?d[n]=t:d.push(t);var g=!1;for(i=0;i<o.length;i++){var m=o[i];m.added&&f(a,m)<0&&(t=D(e,m.added),p(t,m),d.push(t),m.added.columns&&(g=!0))}g&&(Z(e),d=O(e,d)),de(e,d)}},se=function(e,t){Z(e),ee(e,t),te(e,t),Ee(e),ne(e,t)},le=function(e){e.resetColumnsCache()};function de(e,t){e._columns=t,le(e),e.updateColumnDataTypes()}var ue=function(e,t,n,i){var o=e._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:i};n=n||"all",n=n.split(".")[0];var r=o.changeTypes;t&&!r[t]&&(r[t]=!0,r.length++);var a=o.optionNames;n&&!a[n]&&(a[n]=!0,a.length++),void 0!==i&&i===o.columnIndex||delete o.columnIndex,e._columnChanges=o,le(e)},ce=function(e){var t=e.option("onColumnsChanging"),n=e._columnChanges,i=["dataField","lookup","dataType","columns"],o=function(e){return e&&i.some((function(t){return e[t]}))};e.isInitialized()&&!e._updateLockCount&&n&&(t&&(e._updateLockCount++,t((0,c.extend)({component:e.component},n)),e._updateLockCount--),e._columnChanges=void 0,o(n.optionNames)?e.reinit():e.columnsChanged.fire(n))},he=function(e,t,n,i){var o=i>=0;if(n>=0)o||(t.lastSortOrder=t.sortOrder);else{var r=e.option("sorting.mode"),a=t.lastSortOrder;if("single"===r){var s=e._columns.some((function(e){return e!==t&&(0,l.isDefined)(e.sortIndex)}));s&&(a=void 0)}t.sortOrder=a}},pe=function(e,t){var n=t.value,i=t.optionName,o=t.prevValue,r=t.fullOptionName,a="".concat(r,".").concat(i);V[i]||e._skipProcessingColumnsChange===a||(e._skipProcessingColumnsChange=a,e.component._notifyOptionChanged(a,n,o),e._skipProcessingColumnsChange=!1)},fe=function(e,t,i,o,r){var s,d,u,c=(0,a.compileGetter)(i),p=t.index;if(3===arguments.length)return c(t,{functionsAsIs:!0});var f=c(t,{functionsAsIs:!0});if(f!==o){"groupIndex"===i||"calculateGroupValue"===i?(d="grouping",he(e,t,o,f)):d="sortIndex"===i||"sortOrder"===i||"calculateSortValue"===i?"sorting":"columns";var g=(0,a.compileSetter)(i);g(t,o,{functionsAsIs:!0});var m=K(e,t);n[i]&&(se(e,t),o=c(t)),"name"!==i&&"allowEditing"!==i||e._checkColumns(),m&&pe(e,{fullOptionName:m,optionName:i,value:o,prevValue:f}),(0,l.isDefined)(f)||(0,l.isDefined)(o)||0===i.indexOf("buffer")||(r=!0),r?le(e):((0,h.inArray)(i,P)<0&&"visibleWidth"!==i&&(s=e.option("columns"),u=e.getColumnByPath(m,s),(0,l.isString)(u)&&(u=s[p]={dataField:u}),u&&re(u,t)&&g(u,o,{functionsAsIs:!0})),ue(e,d,i,p))}};function ge(e){return"asc"===e||"desc"===e}var me=function(e){var t=e._getExpandColumnOptions();e.addCommandColumn(t)},ve=function(e,t){var n=this.dataField.split("."),i=n.length-1;this.serializeValue&&(t=this.serializeValue(t));for(var o=0;o<i;o++){var r=n[o];e=e[r]=e[r]||{}}e[n[i]]=t},_e=function e(t,n,i){var o=[];return n=n||0,t[n]&&(0,d.each)(t[n],(function(r,a){a.ownerBand!==i&&a.type!==B||(a.isBand&&a.colspan?o.push.apply(o,e(t,n+1,a.index)):(!a.command||n<1)&&o.push(a))})),o},ye=function(e){var t=1,n=e.getBandColumnsCache(),i=n.columnParentByIndex;return e._columns.forEach((function(e){var n=H(e.index,i),o=n.filter((function(e){return!e.visible}));e.visible&&!o.length&&(t=Math.max(t,n.length+1))})),t},Ce=function(e,t){return!!e._columns.filter((function(e){return e.type===t.type})).length},we=function(e,t){var n=e.option("rtlEnabled");return t.command&&!Ce(e,t)||!t.fixedPosition?n?"right":"left":t.fixedPosition},xe=function(e,t,n,i){var o,r=this.getRowCount(),a=e[i]&&e[i].rowspan,s=t.filter((function(e){return e.type===n}));return e.forEach((function(t,i){t.type===n&&(o=i,a=e[i+1]?e[i+1].rowspan:r)})),a>1&&(s=(0,d.map)(s,(function(e){return(0,c.extend)({},e,{rowspan:a})}))),s.unshift.apply(s,(0,l.isDefined)(o)?[o,1]:[i,0]),e.splice.apply(e,s),a||1},be=function(e){var t;for(t=0;e>1;t++)e/=10;return t},Te=function(e,t){var n=e?e.toString():"0";while(n.length<t)n="0"+n;return n},Ie=function(e,t,n,i){for(var o,r,a=t.slice().map((function(e){return(0,c.extend)({},e)})),s=e._isColumnFixing(),l=n.slice().map((function(e){return(0,c.extend)({fixed:s},e)})),d=function(e){return n.reduce((function(t,n,o){var r=i&&e.type===B?"expand":e.type;return n.type===r||n.command===e.command?o:t}),-1)},u=function(e){return e.command!==n[r].command},h=0;h<t.length;h++)if(o=t[h],r=o&&(o.type||o.command)?d(o):-1,r>=0)if(i)a[h]=(0,c.extend)({fixed:s},n[r],o),o.type!==B&&(l=l.filter(u));else{var p={visibleIndex:o.visibleIndex,index:o.index,headerId:o.headerId,allowFixing:0===o.groupIndex,allowReordering:0===o.groupIndex,groupIndex:o.groupIndex};a[h]=(0,c.extend)({},o,n[r],o.type===B&&p)}return t.length&&i&&l.length&&(a=a.concat(l)),a},Se=function(e,t){return(0,l.isDefined)(t.fixed)||!t.type?t.fixed:e._isColumnFixing()},ke=function(e){e.forEach((function(t){(0,l.isDefined)(t.ownerBand)&&(t.ownerBand=e[t.ownerBand])}))},Ee=function(e){e._bandColumnsCache=void 0},De=function(e,t){var n,i=(0,l.isString)(t)&&t.substr(0,t.indexOf(":"));if(void 0!==t)return i&&(t=t.substr(i.length+1)),i?n=e.filter((function(e){return""+e[i]===t}))[0]:["index","name","dataField","caption"].some((function(i){return n=e.filter((function(e){return e[i]===t}))[0],!!n})),n};return{_getExpandColumnOptions:function(){return{type:"expand",command:"expand",width:"auto",cssClass:A,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}},_getFirstItems:function(e){var t,n=[],i=function e(t,n){if(!t||!n)return t;for(var i=0;i<t.length;i++){var o=e(t[i].items||t[i].collapsedItems,n-1);if(o&&o.length)return o}};return e&&e.items().length>0&&(t=v.default.normalizeSortingInfo(e.group()).length,n=i(e.items(),t)||[]),n},_endUpdateCore:function(){!this._skipProcessingColumnsChange&&ce(this)},init:function(){var e=this,t=e.option("columns");e._commandColumns=e._commandColumns||[],e._columns=e._columns||[],e._isColumnsFromOptions=!!t,e._isColumnsFromOptions?(de(e,t?O(e,t):[]),ae(e)):de(e,e._columnsUserState?O(e,e._columnsUserState):e._columns),me(e),e._dataSourceApplied?e.applyDataSource(e._dataSource,!0):se(e),e._checkColumns()},callbackNames:function(){return["columnsChanged"]},getColumnByPath:function(e,t){var n,i=this,o=[];return e.replace(N,(function(e,t){return o.push(parseInt(t)),""})),o.length&&(n=t?o.reduce((function(e,t){return e&&e.columns&&e.columns[t]}),{columns:t}):z(i,o)),n},optionChanged:function(e){var t;switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"dataSource":e.value===e.previousValue||this.option("columns")||Array.isArray(e.value)&&Array.isArray(e.previousValue)||(this._columns=[]);break;case"columns":t=this._skipProcessingColumnsChange,e.handled=!0,this._skipProcessingColumnsChange||(e.name===e.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(e),t=!0)),t&&this._updateRequireResize(e);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"editing":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":var n,i,o,r,a;e.handled=!0;var s="columnWidth"===e.fullName&&["width"],l=0===(null===(n=e.fullName)||void 0===n?void 0:n.indexOf("editing.popup")),d=0===(null===(i=e.fullName)||void 0===i?void 0:i.indexOf("editing.form")),u=0===(null===(o=e.fullName)||void 0===o?void 0:o.indexOf("editing.editRowKey")),c=0===(null===(r=e.fullName)||void 0===r?void 0:r.indexOf("editing.editColumnName")),h=0===(null===(a=e.fullName)||void 0===a?void 0:a.indexOf("editing.changes")),p=!l&&!d&&!u&&!h&&!c;p&&this.reinit(s);break;case"rtlEnabled":this.reinit();break;default:this.callBase(e)}},_columnOptionChanged:function(e){var t={},n=this.getColumnByPath(e.fullName),i=e.fullName.replace(N,"");n&&(i?t[i]=e.value:t=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,t),this._skipProcessingColumnsChange=!1)},_updateRequireResize:function(e){var t=this.component;"width"===e.fullName.replace(N,"")&&t._updateLockCount&&(t._requireResize=!0)},publicMethods:function(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex"]},applyDataSource:function(e,t){var n=this,i=e&&e.isLoaded();if(n._dataSource=e,!n._dataSourceApplied||0===n._dataSourceColumnsCount||t||n.option("regenerateColumnsByVisibleItems")){if(i){if(!n._isColumnsFromOptions){var o=Q(n,e);o.length&&(de(n,o),n._dataSourceColumnsCount=n._columns.length,ae(n))}return n.updateColumns(e,t)}n._dataSourceApplied=!1}else if(i&&!n.isAllDataTypesDefined(!0)&&n.updateColumnDataTypes(e))return ue(n,"columns"),ce(n),(new b.Deferred).reject().promise()},reset:function(){this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()},resetColumnsCache:function(){var e=this;e._visibleColumns=void 0,e._fixedColumns=void 0,e._rowCount=void 0,Ee(e)},reinit:function(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)},isInitialized:function(){return!!this._columns.length||!!this.option("columns")},isDataSourceApplied:function(){return this._dataSourceApplied},getCommonSettings:function(e){var t=(!e||!e.type)&&this.option("commonColumnSettings")||{},n=this.option("grouping")||{},i=this.option("groupPanel")||{};return(0,c.extend)({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:n.autoExpandAll,allowCollapsing:n.allowCollapsing,allowGrouping:i.allowColumnDragging&&i.visible||n.contextMenuEnabled},t)},isColumnOptionUsed:function(e){for(var t=0;t<this._columns.length;t++)if(this._columns[t][e])return!0},isAllDataTypesDefined:function(e){var t=this._columns;if(!t.length)return!1;for(var n=0;n<t.length;n++)if((t[n].dataField||t[n].calculateCellValue!==t[n].defaultCalculateCellValue)&&(!t[n].dataType||e&&t[n].deserializeValue&&void 0===t[n].serializationFormat))return!1;return!0},getColumns:function(){return this._columns},isBandColumnsUsed:function(){return this.getColumns().some((function(e){return e.isBand}))},getGroupColumns:function(){var e=[];return(0,d.each)(this._columns,(function(){var t=this;(0,l.isDefined)(t.groupIndex)&&(e[t.groupIndex]=t)})),e},getVisibleColumns:function(e){return this._visibleColumns=this._visibleColumns||this._getVisibleColumnsCore(),e=(0,l.isDefined)(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]},getFixedColumns:function(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=(0,l.isDefined)(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]},getFilteringColumns:function(){return this.getColumns().filter((function(e){return(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)})).map((function(e){var t=(0,c.extend)(!0,{},e);return(0,l.isDefined)(t.dataField)||(t.dataField=t.name),t.filterOperations=e.filterOperations!==e.defaultFilterOperations?t.filterOperations:null,t}))},getColumnIndexOffset:function(){return 0},_getFixedColumnsCore:function(){var e,t,n,i=this,o=[],r=i.getRowCount(),a=i._isColumnFixing(),s={command:"transparent"},d=0;if(a)for(var u=0;u<=r;u++){e=0,n=null,t=null;for(var c=i.getVisibleColumns(u,!0),h=0;h<c.length;h++){var p=c[h-1],f=c[h];f.fixed?p&&p.fixed&&we(i,p)!==we(i,f)?(0,l.isDefined)(t)||(t=h):n=f.fixedPosition:(0===u&&(f.isBand&&f.colspan?d+=f.colspan:d++),e++,(0,l.isDefined)(t)||(t=h))}if(0===u&&(0===e||e>=c.length))return[];(0,l.isDefined)(t)||(t="right"===n?0:c.length),o[u]=c.slice(0),s.colspan||(s.colspan=d),o[u].splice(t,e,s)}return o.map((function(e){return e.map((function(e){var t=R({},e);return t.headerId&&(t.headerId+="-fixed"),t}))}))},_isColumnFixing:function(){var e=this.option("columnFixing.enabled");return!e&&(0,d.each)(this._columns,(function(t,n){if(n.fixed)return e=!0,!1})),e},_getExpandColumnsCore:function(){return this.getGroupColumns()},getExpandColumns:function(){var e,t=this._getExpandColumnsCore(),n=t.filter((function(e){return 0===e.groupIndex}))[0],i=n&&n.fixed,o=this._isColumnFixing();return t.length&&(e=this.columnOption("command:expand")),t=(0,d.map)(t,(function(t){return(0,c.extend)({},t,{visibleWidth:null,minWidth:null,cellTemplate:(0,l.isDefined)(t.groupIndex)?null:t.cellTemplate,headerCellTemplate:null,fixed:!(!(0,l.isDefined)(t.groupIndex)||!i)||o},e,{index:t.index,type:t.type||B})})),t},getBandColumnsCache:function(){if(!this._bandColumnsCache){var e=this._columns,t={},n={},i=!0;e.forEach((function(o){var r=o.ownerBand,a=e[r];o.hasColumns&&(i=!1),o.colspan&&(o.colspan=void 0),o.rowspan&&(o.rowspan=void 0),a?n[o.index]=a:r=-1,t[r]=t[r]||[],t[r].push(o)})),this._bandColumnsCache={isPlain:i,columnChildrenByIndex:t,columnParentByIndex:n}}return this._bandColumnsCache},_isColumnVisible:function(e){return e.visible&&this.isParentColumnVisible(e.index)},_getVisibleColumnsCore:function(){var e,t,n=this,i=[],o=0,r=0,a=n.getRowCount(),s=[],u=[],c=0,h=n.option("rtlEnabled"),p=n.getBandColumnsCache(),g=Ie(n,n.getExpandColumns(),n._columns),m=Ie(n,n._columns,n._commandColumns,!0),v=be(m.length);for(j(n,m,p),e=0;e<a;e++)i[e]=[],u[e]=[{}],s[e]=[{},{},{}];return(0,d.each)(m,(function(){var i,o=this,r=o.visibleIndex,a=H(o.index,p.columnParentByIndex),d=n._isColumnVisible(o);if(d&&(!(0,l.isDefined)(o.groupIndex)||o.showWhenGrouped)){var f=a.length;if(r<0?(r=-r,i=u[f]):(o.fixed=a.length?a[0].fixed:o.fixed,o.fixedPosition=a.length?a[0].fixedPosition:o.fixedPosition,o.fixed?(t="right"===o.fixedPosition,!h||o.command&&!Ce(n,o)||(t=!t),i=t?s[f][2]:s[f][0]):i=s[f][1]),a.length)for(r=Te(r,v),e=a.length-1;e>=0;e--)r=Te(a[e].visibleIndex,v)+r;i[r]=i[r]||[],i[r].push(o),c++}})),(0,d.each)(i,(function(e){(0,f.orderEach)(u[e],(function(t,n){i[e].unshift.apply(i[e],n)}));var t=i[e].length;(0,d.each)(s[e],(function(t,n){(0,f.orderEach)(n,(function(t,n){i[e].push.apply(i[e],n)}))})),r<e+1&&(r+=xe.call(n,i[e],g,"detailExpand",t)),o<e+1&&(o+=xe.call(n,i[e],g,B,t))})),i.push(_e(i)),!c&&n._columns.length&&i[a].push({command:"empty"}),i},getInvisibleColumns:function(e,t){var n,i=this,o=[];return e=e||i._columns,(0,d.each)(e,(function(e,r){if(r.ownerBand===t)return r.isBand?(n=r.visible?i.getInvisibleColumns(i.getChildrenByBandColumn(r.index),r.index):i.getChildrenByBandColumn(r.index),void(n.length&&(o.push(r),o=o.concat(n)))):void(r.visible||o.push(r))})),o},getChooserColumns:function(e){var t=e?this.getColumns():this.getInvisibleColumns();return(0,s.grep)(t,(function(e){return e.showInColumnChooser}))},allowMoveColumn:function(e,t,n,i){var o=this,r=ie(o,e,n),a=o._columns[r];return!(!a||!(a.allowReordering||a.allowGrouping||a.allowHiding))&&(n===i?n!==x&&(e=(0,l.isObject)(e)?e.columnIndex:e,t=(0,l.isObject)(t)?t.columnIndex:t,e!==t&&e+1!==t):n===m&&i!==x||i===m?a&&a.allowGrouping:n!==x&&i!==x||a&&a.allowHiding)},moveColumn:function(e,t,n,i){var o,r,a=this,s={},d=ie(a,e,n),u=ie(a,t,i);if(d>=0){var c=a._columns[d];if(t=(0,l.isObject)(t)?t.columnIndex:t,r=u>=0?a._columns[u].groupIndex:-1,(0,l.isDefined)(c.groupIndex)&&n===m&&(r>c.groupIndex&&r--,i!==m?s.groupIndex=void 0:(o=c.groupIndex,delete c.groupIndex,ee(a))),i===m)s.groupIndex=oe(a,c,r),c.groupIndex=o;else if(t>=0){var h=a._columns[u];h&&c.ownerBand===h.ownerBand?Se(a,c)^Se(a,h)?s.visibleIndex=F:s.visibleIndex=h.visibleIndex:s.visibleIndex=F}var p=i!==x;c.visible!==p&&(s.visible=p),a.columnOption(c.index,s)}},changeSortOrder:function(e,t){var n=this,i={},o=n.option("sorting"),r=o&&o.mode,a="single"===r||!t,s="single"===r||"multiple"===r,u=n._columns[e],c=function(e){if("ctrl"===t){if(!("sortOrder"in e)||!("sortIndex"in e))return!1;i.sortOrder=void 0,i.sortIndex=void 0}else(0,l.isDefined)(e.groupIndex)||(0,l.isDefined)(e.sortIndex)?i.sortOrder="desc"===e.sortOrder?"asc":"desc":i.sortOrder="asc";return!0};s&&u&&u.allowSorting&&(a&&!(0,l.isDefined)(u.groupIndex)&&(0,d.each)(n._columns,(function(t){t!==e&&this.sortOrder&&((0,l.isDefined)(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)})),ge(t)?u.sortOrder!==t&&(i.sortOrder=t):"none"===t?u.sortOrder&&(i.sortIndex=void 0,i.sortOrder=void 0):c(u)),n.columnOption(u.index,i)},getSortDataSourceParameters:function(e){var t=this,n=[],i=[];return(0,d.each)(t._columns,(function(){(this.dataField||this.selector||this.calculateCellValue)&&(0,l.isDefined)(this.sortIndex)&&!(0,l.isDefined)(this.groupIndex)&&(n[this.sortIndex]=this)})),(0,d.each)(n,(function(){var t=this&&this.sortOrder;if(ge(t)){var n={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:"desc"===this.sortOrder};this.sortingMethod&&(n.compare=this.sortingMethod.bind(this)),i.push(n)}})),i.length>0?i:null},getGroupDataSourceParameters:function(e){var t=[];return(0,d.each)(this.getGroupColumns(),(function(){var n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){var i={selector:n,desc:"desc"===this.sortOrder,isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(i.compare=this.sortingMethod.bind(this)),t.push(i)}})),t.length>0?t:null},refresh:function(e){var t=[];return(0,d.each)(this._columns,(function(){var n=this.lookup;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&t.push(n.update())}})),b.when.apply(i.default,t).done(le.bind(null,this))},_updateColumnOptions:function(e,n){e.selector=e.selector||function(t){return e.calculateCellValue(t)},(0,d.each)(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(function(t,i){var o=e[i];(0,l.isFunction)(o)&&!o.originalCallback&&(e[i]=function(t){return o.call(e,t)},e[i].originalCallback=o,e[i].columnIndex=n)})),(0,l.isString)(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=(0,a.compileGetter)(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),q(e,e.dataType);var i=e.lookup;i&&q(i,i.dataType);var o=i?i.dataType:e.dataType;o&&(e.alignment=e.alignment||Y(o,this.option("rtlEnabled")),e.format=e.format||v.default.getFormatByDataType(o),e.customizeText=e.customizeText||J(o),e.defaultFilterOperations=e.defaultFilterOperations||!i&&t[o]||[],(0,l.isDefined)(e.filterOperations)||E(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=(0,l.isDefined)(e.showEditorAlways)?e.showEditorAlways:"boolean"===o&&!e.cellTemplate)},updateColumnDataTypes:function(e){var t=this,n=t.option("dateSerializationFormat"),i=t._getFirstItems(e),o=!1;return(0,d.each)(t._columns,(function(e,r){var a,s,l,d,u,c=r.lookup;if(v.default.isDateType(r.dataType)&&void 0===r.serializationFormat&&(r.serializationFormat=n),c&&v.default.isDateType(c.dataType)&&void 0===r.serializationFormat&&(c.serializationFormat=n),r.calculateCellValue&&i.length){if(!r.dataType||c&&!c.dataType){for(a=0;a<i.length;a++)s=r.calculateCellValue(i[a]),r.dataType||(u=G(s),l=l||u,l&&u&&l!==u&&(l="string")),c&&!c.dataType&&(u=G(v.default.getDisplayValue(r,s,i[a])),d=d||u,d&&u&&d!==u&&(d="string"));(l||d)&&(l&&(r.dataType=l),c&&d&&(c.dataType=d),o=!0)}if(void 0===r.serializationFormat||c&&void 0===c.serializationFormat)for(a=0;a<i.length;a++)s=r.calculateCellValue(i[a],!0),void 0===r.serializationFormat&&(r.serializationFormat=$(r.dataType,s)),c&&void 0===c.serializationFormat&&(c.serializationFormat=$(c.dataType,c.calculateCellValue(s,!0)))}t._updateColumnOptions(r,e)})),o},_customizeColumns:function(e){var t=this,n=t.option("customizeColumns");if(n){var i=e.some((function(e){return(0,l.isObject)(e.ownerBand)}));i&&se(t),n(e),de(t,O(t,e))}},updateColumns:function(e,t){var n=this;if(t||this.updateSortingGrouping(e),!e||e.isLoaded()){var i=e?e.sort()||[]:this.getSortDataSourceParameters(),o=e?e.group()||[]:this.getGroupDataSourceParameters(),r=null===e||void 0===e?void 0:e.lastLoadOptions().filter;this._customizeColumns(this._columns),se(this);var a=this._columns;return(0,b.when)(this.refresh(!0)).always((function(){n._columns===a&&(n._updateChanges(e,{sorting:i,grouping:o,filtering:r}),ce(n))}))}},_updateChanges:function(e,t){e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),v.default.equalSortParameters(t.sorting,this.getSortDataSourceParameters())||ue(this,"sorting"),v.default.equalSortParameters(t.grouping,this.getGroupDataSourceParameters())||ue(this,"grouping");var n=this.getController("data");n&&!v.default.equalFilterParameters(t.filtering,n.getCombinedFilter())&&ue(this,"filtering"),ue(this,"columns")},updateSortingGrouping:function(e,t){var n,i,o=this,r=function(e,t,n){(0,d.each)(e,(function(e,i){if(delete i[n],t)for(var o=0;o<t.length;o++){var r=t[o].selector,a=t[o].isExpanded;if(r===i.dataField||r===i.name||r===i.selector||r===i.calculateCellValue||r===i.calculateGroupValue||r===i.calculateDisplayValue){i.sortOrder=i.sortOrder||(t[o].desc?"desc":"asc"),void 0!==a&&(i.autoExpandGroup=a),i[n]=o;break}}}))};if(e){n=v.default.normalizeSortingInfo(e.sort());var a=v.default.normalizeSortingInfo(e.group()),s=o.getGroupDataSourceParameters(),l=o.getSortDataSourceParameters();o._columns.length||((0,d.each)(a,(function(e,t){o._columns.push(t.selector)})),(0,d.each)(n,(function(e,t){o._columns.push(t.selector)})),de(o,O(o,o._columns))),!t&&(s||o._hasUserState)||v.default.equalSortParameters(a,s)||(r(o._columns,a,"groupIndex"),t&&(ue(o,"grouping"),i=!0)),!t&&(l||o._hasUserState)||v.default.equalSortParameters(n,l)||(r(o._columns,n,"sortIndex"),t&&(ue(o,"sorting"),i=!0)),i&&ce(o)}},updateFilter:function(e,t,n,i){var o=this;if(!Array.isArray(e))return e;if(e=(0,c.extend)([],e),n=void 0!==e.columnIndex?e.columnIndex:n,i=void 0!==e.filterValue?e.filterValue:i,(0,l.isString)(e[0])&&"!"!==e[0]){var r=o.columnOption(e[0]);t?(0,p.default)().forceIsoDateParsing&&r&&r.serializeValue&&e.length>1&&(e[e.length-1]=r.serializeValue(e[e.length-1],"filter")):r&&r.selector&&(e[0]=r.selector,e[0].columnIndex=r.index)}else(0,l.isFunction)(e[0])&&(e[0].columnIndex=n,e[0].filterValue=i);for(var a=0;a<e.length;a++)e[a]=o.updateFilter(e[a],t,n,i);return e},columnCount:function(){return this._columns?this._columns.length:0},columnOption:function(e,t,n,i){var o=this,r=o._columns.concat(o._commandColumns),a=De(r,e);if(a){if(1===arguments.length)return(0,c.extend)({},a);if((0,l.isString)(t)){if(2===arguments.length)return fe(o,a,t);fe(o,a,t,n,i)}else(0,l.isObject)(t)&&(0,d.each)(t,(function(e,t){fe(o,a,e,t,i)}));ce(o)}},clearSorting:function(){var e=this,t=this.columnCount();e.beginUpdate();for(var n=0;n<t;n++)e.columnOption(n,"sortOrder",void 0);e.endUpdate()},clearGrouping:function(){var e=this,t=this.columnCount();e.beginUpdate();for(var n=0;n<t;n++)e.columnOption(n,"groupIndex",void 0);e.endUpdate()},getVisibleIndex:function(e,t){for(var n=this.getVisibleColumns(t),i=n.length-1;i>=0;i--)if(n[i].index===e)return i;return-1},getVisibleColumnIndex:function(e,t){var n=this.columnOption(e,"index");return this.getVisibleIndex(n,t)},addColumn:function(e){var t=this,n=D(t,e),i=t._columns.length;t._columns.push(n),n.isBand&&(t._columns=O(t,t._columns),n=t._columns[i]),n.added=e,se(t,n),t.updateColumns(t._dataSource),t._checkColumns()},deleteColumn:function(e){var t=this,n=t.columnOption(e);if(n&&n.index>=0){if(ke(t._columns),t._columns.splice(n.index,1),n.isBand){var i=t.getChildrenByBandColumn(n.index).map((function(e){return e.index}));t._columns=t._columns.filter((function(e){return i.indexOf(e.index)<0}))}se(t),t.updateColumns(t._dataSource)}},addCommandColumn:function(e){var t=this._commandColumns.filter((function(t){return t.command===e.command}))[0];t||(t=e,this._commandColumns.push(t))},getUserState:function(){var e,t=this._columns,n=[];function i(i,o){void 0!==t[e][o]&&(n[e][o]=t[e][o])}for(e=0;e<t.length;e++)n[e]={},(0,d.each)(P,i);return n},setName:function(e){var t=e.dataField;!(0,l.isDefined)(e.name)&&(0,l.isDefined)(t)&&(e.name=t)},setUserState:function(e){var t=this,n=t._dataSource,i=t.option("stateStoring.ignoreColumnOptionNames");if(null===e||void 0===e||e.forEach(this.setName),!i){i=[];var o=t.getCommonSettings();t.option("columnChooser.enabled")||i.push("visible"),"none"===t.option("sorting.mode")&&i.push("sortIndex","sortOrder"),o.allowGrouping||i.push("groupIndex"),o.allowFixing||i.push("fixed","fixedPosition"),o.allowResizing||i.push("width","visibleWidth");var r=!t.option("filterPanel.visible");!t.option("filterRow.visible")&&r&&i.push("filterValue","selectedFilterOperation"),!t.option("headerFilter.visible")&&r&&i.push("filterValues","filterType")}t._columnsUserState=e,t._ignoreColumnOptionNames=i,t._hasUserState=!!e,ue(t,"filtering"),t.init(),n&&(n.sort(t.getSortDataSourceParameters()),n.group(t.getGroupDataSourceParameters()))},_checkColumns:function(){var e={},t=!1,n=[];this._columns.forEach((function(i){var o,r=i.name,a=null===(o=i.columns)||void 0===o?void 0:o.length,s=i.allowEditing&&(i.dataField||i.setCellValue)&&!a;r?(e[r]&&n.push('"'.concat(r,'"')),e[r]=!0):s&&(t=!0)})),n.length&&g.default.log("E1059",n.join(", ")),t&&g.default.log("E1060")},_createCalculatedColumnOptions:function(e,t){var n={},i=e.dataField;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,i=null),i){if((0,l.isString)(i)){var s=(0,a.compileGetter)(i);n={caption:(0,_.captionize)(i),calculateCellValue:function(e,t){var n=s(e);return this.deserializeValue&&!t?this.deserializeValue(n):n},setCellValue:ve,parseValue:function(e){var t,n,i=this;return"number"===i.dataType?(0,l.isString)(e)&&i.format?(n=C.default.parse(e),(0,l.isNumeric)(n)&&(t=n)):(0,l.isDefined)(e)&&(0,l.isNumeric)(e)&&(t=Number(e)):"boolean"===i.dataType?e===i.trueText?t=!0:e===i.falseText&&(t=!1):v.default.isDateType(i.dataType)?(n=w.default.parse(e,i.format),n&&(t=n)):t=e,t}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return k.default.defaultCalculateFilterExpression.apply(this,arguments)},n.createFilterExpression=function(e){var t;return this.calculateFilterExpression&&(t=this.calculateFilterExpression.apply(this,arguments)),(0,l.isFunction)(t)&&(t=[t,"=",!0]),t&&(t.columnIndex=this.index,t.filterValue=e),t},i&&(0,l.isString)(i)||(0,c.extend)(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),t&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),e.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&(n.lookup={calculateCellValue:function(e,t){return this.valueExpr&&(e=this.valueMap&&this.valueMap[e]),this.deserializeValue&&!t?this.deserializeValue(e):e},updateValueMap:function(){if(this.valueMap={},this.items)for(var e=(0,a.compileGetter)(this.valueExpr),t=(0,a.compileGetter)(this.displayExpr),n=0;n<this.items.length;n++){var i=this.items[n],o=t(i);this.valueMap[e(i)]=o,this.dataType=this.dataType||G(o)}},update:function(){var e=this,t=e.dataSource;if(t)if((0,l.isFunction)(t)&&!r.default.isWrapped(t)&&(t=t({})),(0,l.isPlainObject)(t)||t instanceof T.default||Array.isArray(t)){if(e.valueExpr){var n=(0,S.normalizeDataSourceOptions)(t);return n.paginate=!1,t=new I.DataSource(n),t.load().done((function(t){e.items=t,e.updateValueMap&&e.updateValueMap()}))}}else g.default.log("E1016");else e.updateValueMap&&e.updateValueMap()}}),n.resizedCallbacks=(0,o.default)(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),(0,d.each)(n,(function(e){if((0,l.isFunction)(n[e])&&0!==e.indexOf("default")){var t="default"+e.charAt(0).toUpperCase()+e.substr(1);n[t]=n[e]}})),n},getRowCount:function(){return this._rowCount=this._rowCount||ye(this),this._rowCount},getRowIndex:function(e,t){var n=this._columns[e],i=this.getBandColumnsCache();return n&&(t||n.visible&&!n.command&&!(0,l.isDefined)(n.groupIndex))?H(e,i.columnParentByIndex).length:0},getChildrenByBandColumn:function(e,t){var n=this,i=n.getBandColumnsCache(),o=W(e,i.columnChildrenByIndex,!t);return t?o.filter((function(e){return e.visible&&!e.command})).sort((function(e,t){return e.visibleIndex-t.visibleIndex})):o},isParentBandColumn:function(e,t){var n=!1,i=this._columns[e],o=this.getBandColumnsCache(),r=i&&H(e,o.columnParentByIndex);return r&&(0,d.each)(r,(function(e,i){if(i.index===t)return n=!0,!1})),n},isParentColumnVisible:function(e){var t=!0,n=this.getBandColumnsCache(),i=e>=0&&H(e,n.columnParentByIndex);return i&&(0,d.each)(i,(function(e,n){return t=t&&n.visible,t})),t},getColumnId:function(e){return e.command&&e.type===B?Ce(this,e)?"type:"+e.type:"command:"+e.command:e.index},getCustomizeTextByDataType:J,getHeaderContentAlignment:function(e){var t=this.option("rtlEnabled");return t?"left"===e?"right":"left":e}}}())}};t.default=H,e.exports=t.default},8963:function(e,t,n){"use strict";t.updateHeaderFilterItemSelectionState=y,t.headerFilterMixin=t.allowHeaderFiltering=t.HeaderFilterView=void 0;var i=h(n("14a3")),o=h(n("1981")),r=h(n("f12e")),a=n("b62d"),s=n("ce5d"),l=n("d4b2"),d=h(n("205e")),u=h(n("db7c")),c=h(n("2344"));function h(e){return e&&e.__esModule?e:{default:e}}var p="dx-header-filter",f="dx-header-filter-menu",g="text";function m(e){e=e||[];for(var t=0;t<e.length;t++)e[t].selected=!1,m(e[t].items)}function v(e,t){if(!e.component.option("searchValue")){var n=(0,i.default)(e.element).find(".dx-list-select-all-checkbox").data("dxCheckBox");n&&t&&t.length&&n.option("value",void 0)}}function _(e,t){var n=t.headerFilter;return n&&(0,a.isDefined)(n.allowSearch)?n.allowSearch:e.option("headerFilter.allowSearch")}function y(e,t,n){if(t^n){if(e.selected=!0,n&&e.items)for(var i=0;i<e.items.length;i++)if(!e.items[i].selected){e.selected=void 0;break}}else(n||e.selected)&&(e.selected=!1,m(e.items))}var C=o.default.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(e){var t=this,n=t.getListContainer(),i=n.option("searchValue"),o=!i&&!e.isFilterBuilder&&n.$element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked"),r=[],a=function e(t,o,r){(0,s.each)(o,(function(o,a){if(void 0!==a.selected&&!!a.selected^r){var s=n._getNode(a),l=n._hasChildren(s),d=l&&a.items&&a.items.some((function(e){return e.selected}));if(!i||!d)return void t.push(a.value)}a.items&&a.items.length&&e(t,a.items,r)}))};o?("tree"===e.type&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):"tree"===e.type&&(e.filterType&&(e.filterType="include"),a(r,n.option("items"),!1),e.filterValues=r),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),t.hideHeaderFilterMenu()},showHeaderFilterMenu:function(e,t){var n=this;if(t){n._initializePopupContainer(t);var i=n.getPopupContainer();n.hideHeaderFilterMenu(),n.updatePopup(e,t),i.show()}},hideHeaderFilterMenu:function(){var e=this.getPopupContainer();e&&e.hide()},updatePopup:function(e,t){var n=this,i="right"===t.alignment?"left":"right";n._popupContainer&&(n._cleanPopupContent(),n._popupContainer.option("position",{my:i+" top",at:i+" bottom",of:e,collision:"flip fit"}))},_getSearchExpr:function(e){var t=e.lookup,n=e.useDefaultSearchExpr,i=e.headerFilter&&e.headerFilter.dataSource;if(n||(0,a.isDefined)(i)&&!(0,a.isFunction)(i))return g;if(t)return t.displayExpr||"this";if(e.dataSource){var o=e.dataSource.group;if(Array.isArray(o)&&o.length>0)return o[0].selector;if((0,a.isFunction)(o)&&!e.remoteFiltering)return o}return e.dataField||e.selector},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.$content().empty()},_initializePopupContainer:function(e){var t=this,n=t.element(),i=t.option("headerFilter"),o=e.headerFilter&&e.headerFilter.width||i&&i.width,r=e.headerFilter&&e.headerFilter.height||i&&i.height,s={width:o,height:r,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,closeOnTargetScroll:!1,dragEnabled:!1,closeOnOutsideClick:!0,focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.ok,onClick:function(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:i.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:function(n){n.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e),e.onShowing&&e.onShowing(n)},onShown:function(){t.getListContainer().focus()},onHidden:e.onHidden,onInitialized:function(e){var t=e.component;t.option("animation",t._getDefaultOptions().animation)}};(0,a.isDefined)(t._popupContainer)?t._popupContainer.option(s):t._popupContainer=t._createComponent(n,d.default,s)},_initializeListContainer:function(e){var t=this,n=t._popupContainer.$content(),o={searchEnabled:_(t,e),searchTimeout:t.option("headerFilter.searchTimeout"),searchMode:e.headerFilter&&e.headerFilter.searchMode||"",dataSource:e.dataSource,onContentReady:function(){t.renderCompleted.fire()},itemTemplate:function(t,n,o){var r=(0,i.default)(o);return e.encodeHtml?r.text(t.text):r.html(t.text)}};function a(n){"searchValue"!==n.fullName||e.isFilterBuilder||!1===t.option("headerFilter.hideSelectAllOnSearch")||("tree"===e.type?n.component.option("showCheckBoxesMode",n.value?"normal":"selectAll"):n.component.option("selectionMode",n.value?"multiple":"all"))}"tree"===e.type?t._listContainer=t._createComponent((0,i.default)("<div>").appendTo(n),u.default,(0,l.extend)(o,{showCheckBoxesMode:e.isFilterBuilder?"normal":"selectAll",onOptionChanged:a,keyExpr:"id"})):t._listContainer=t._createComponent((0,i.default)("<div>").appendTo(n),c.default,(0,l.extend)(o,{searchExpr:t._getSearchExpr(e),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:e.isFilterBuilder?"multiple":"all",onOptionChanged:a,onSelectionChanged:function(t){var n=t.component.option("items"),i=t.component.option("selectedItems");if(!t.component._selectedItemsUpdating&&!t.component.option("searchValue")&&!e.isFilterBuilder){var o=e.filterValues||[],a="exclude"===e.filterType;0===i.length&&n.length&&(o.length<=1||a&&o.length===n.length-1)?(e.filterType="include",e.filterValues=[]):i.length===n.length&&(e.filterType="exclude",e.filterValues=[])}(0,s.each)(n,(function(t,n){var o=r.default.getIndexByKey(n,i,null)>=0,a=!!n.selected;if(a!==o){n.selected=o,e.filterValues=e.filterValues||[];var s=r.default.getIndexByKey(n.value,e.filterValues,null);s>=0&&e.filterValues.splice(s,1),o^"exclude"===e.filterType&&e.filterValues.push(n.value)}})),v(t,e.filterValues)},onContentReady:function(t){var n=t.component,i=n.option("items"),o=[];(0,s.each)(i,(function(){this.selected&&o.push(this)})),n._selectedItemsUpdating=!0,n.option("selectedItems",o),n._selectedItemsUpdating=!1,v(t,e.filterValues)}}))},_renderCore:function(){this.element().addClass(f)}});t.HeaderFilterView=C;var w=function(e){return(0,a.isDefined)(e.allowHeaderFiltering)?e.allowHeaderFiltering:e.allowFiltering};t.allowHeaderFiltering=w;var x={_applyColumnState:function(e){var t,n=e.rootElement,i=e.column;return"headerFilter"===e.name?(n.find("."+p).remove(),w(i)&&(t=this.callBase(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(i)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0)),t):this.callBase(e)},_isHeaderFilterEmpty:function(e){return!e.filterValues||!e.filterValues.length},_getIndicatorClassName:function(e){return"headerFilter"===e?p:this.callBase(e)},_renderIndicator:function(e){var t=e.container,n=e.indicator;if("headerFilter"===e.name){var i=this.option("rtlEnabled");if(t.children().length&&(!i&&"right"===e.columnAlignment||i&&"left"===e.columnAlignment))return void t.prepend(n)}this.callBase(e)},optionChanged:function(e){if("headerFilter"===e.name){var t="columnHeadersView"===this.name;this._invalidate(t,t),e.handled=!0}else this.callBase(e)}};t.headerFilterMixin=x},"89e1":function(e,t,n){"use strict";t.default=void 0;var i=o(n("8641"));function o(e){return e&&e.__esModule?e:{default:e}}n("085a"),n("8125"),n("5045"),n("9126"),n("0538"),n("a622"),n("9e09"),n("9abf"),n("8c33"),n("5ebc"),n("eb7b"),n("1cb1"),n("9cd8"),n("1d59"),n("0dda"),n("6e89"),n("f184"),n("1376"),n("55c1"),n("1176"),n("fcd5");var r=i.default;t.default=r,e.exports=t.default},"8c33":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("dbb2"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("filterSync",o.default)},"8d02":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("cb46"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("sorting",o.default)},"8f6d":function(module,exports,__webpack_require__){
/*!
 * DevExpress Gantt (dx-gantt)
 * Version: 2.0.8
 * Build date: Wed Nov 18 2020
 * 
 * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs
 */
(function(e,t){module.exports=t()})(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=50)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return r})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return d})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return c})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return g})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return _})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return C})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return x})),n.d(t,"__importStar",(function(){return T})),n.d(t,"__importDefault",(function(){return I})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return k}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function s(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,i){t(n,i,e)}}function d(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{l(i.next(e))}catch(t){r(t)}}function s(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}var h=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function f(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(e,t||[]),r=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){o[e]&&(i[e]=function(t){return new Promise((function(n,i){r.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{l(o[e](t))}catch(n){c(r[0][3],n)}}function l(e){e.value instanceof _?Promise.resolve(e.value.v).then(d,u):c(r[0][2],e)}function d(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function C(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,o){t[i]=e[i]?function(t){return(n=!n)?{value:_(e[i](t)),done:"return"===i}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof f?f(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){t=e[n](t),o(i,r,t.done,t.value)}))}}function o(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var b=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return b(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberToStringHex=t.numberToStringBin=t.isOdd=t.isEven=t.isNonNullString=t.isString=t.isNumber=t.boolToString=t.boolToInt=t.isDefined=void 0;var i=n(27);function o(e){return void 0!==e&&null!==e}function r(e){return e?1:0}function a(e){return e?"1":"0"}function s(e){return"number"===typeof e}function l(e){return"string"===typeof e}function d(e){return!!e}function u(e){return e%2!==0}function c(e){return e%2===0}function h(e,t){return void 0===t&&(t=0),i.StringUtils.padLeft(e.toString(2),t,"0")}function p(e,t){return void 0===t&&(t=0),i.StringUtils.padLeft(e.toString(16),t,"0")}t.isDefined=o,t.boolToInt=r,t.boolToString=a,t.isNumber=s,t.isString=l,t.isNonNullString=d,t.isEven=u,t.isOdd=c,t.numberToStringBin=h,t.numberToStringHex=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeUtils=void 0;var i=n(34),o=n(35),r=n(1),a=n(9),s=n(36),l=function(){function e(){}return e.compareDates=function(e,t){return e&&t?t.getTime()-e.getTime():-1},e.areDatesEqual=function(e,t){return 0==this.compareDates(e,t)},e.getMaxDate=function(e,t){if(!e&&!t)return null;if(!e)return t;if(!t)return e;var n=this.compareDates(e,t);return n>0?t:e},e.getMinDate=function(e,t){if(!e&&!t)return null;if(!e)return t;if(!t)return e;var n=this.compareDates(e,t);return n>0?e:t},e.getDaysBetween=function(e,t){var n=Math.abs(t.getTime()-e.getTime());return Math.ceil(n/this.msInDay)},e.getWeeksBetween=function(e,t){var n=this.getDaysBetween(e,t),i=Math.floor(n/7);return e.getDay()>t.getDay()&&i++,i},e.getMonthsDifference=function(e,t){var n=this.compareDates(e,t),i=n>=0?e:t,o=n>=0?t:e,r=o.getFullYear()-i.getFullYear(),a=12*r+(o.getMonth()-i.getMonth());return a},e.getYearsDifference=function(e,t){return Math.abs(t.getFullYear()-e.getFullYear())},e.getDayNumber=function(e){return Math.ceil(e.getTime()/this.msInDay)},e.getDateByDayNumber=function(e){var t=new Date(e*this.msInDay);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t},e.addDays=function(e,t){return new Date(e.getTime()+t*this.msInDay)},e.checkDayOfMonth=function(e,t){return e==t.getDate()},e.checkDayOfWeek=function(e,t){return e==t.getDay()},e.checkMonth=function(e,t){return e==t.getMonth()},e.checkYear=function(e,t){return e==t.getFullYear()},e.checkDayOfWeekOccurrenceInMonth=function(e,t,n){var i=this.getSpecificDayOfWeekInMonthDates(t,e.getFullYear(),e.getMonth());return n==s.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(e,i[i.length-1]):this.areDatesEqual(e,i[n])},e.getFirstDayOfWeekInMonth=function(e,t){var n=new Date(e,t,1);return n.getDay()},e.getSpecificDayOfWeekInMonthDates=function(e,t,n){var i=this.getFirstDayOfWeekInMonth(t,n),o=e>=i?e-i:e+7-i,r=new Array,a=new Date(t,n,o+1);while(a.getMonth()==n)r.push(a),a=this.addDays(a,7);return r},e.getSpecificDayOfWeekInMonthDate=function(e,t,n,i){var o=this.getSpecificDayOfWeekInMonthDates(e,t,n);return i==s.DayOfWeekMonthlyOccurrence.Last?o[o.length-1]:o[i]},e.checkValidDayInMonth=function(e,t,n){return!(n<1||n>31||new Date(e,t,n).getMonth()!=t)},e.getNextMonth=function(e,t){return void 0===t&&(t=1),(e+t)%12},e.convertToDate=function(e){if(e instanceof Date)return new Date(e);var t=Date.parse(e);return isNaN(t)?null:new Date(t)},e.convertTimeRangeToDateRange=function(e,t){var n=this.getDateByDayNumber(t),i=n.getFullYear(),o=n.getMonth(),r=n.getDate(),s=e.start,l=new Date(i,o,r,s.hour,s.min,s.sec,s.msec),d=e.end,u=new Date(i,o,r,d.hour,d.min,d.sec,d.msec);return new a.DateRange(l,u)},e.convertToTimeRanges=function(e){var t=this;return e instanceof Array?e.map((function(e){return t.convertToTimeRange(e)})):this.parseTimeRanges(e)},e.convertToTimeRange=function(e){return e?e instanceof o.TimeRange?e:r.isDefined(e.start)&&r.isDefined(e.end)?new o.TimeRange(this.convertToTime(e.start),this.convertToTime(e.end)):this.parseTimeRange(e):null},e.convertToTime=function(e){return e?e instanceof i.Time?e:e instanceof Date?this.getTimeGromJsDate(e):this.parseTime(e):null},e.parseTimeRanges=function(e){var t=this;if(!e)return null;var n=e.split(/;|,/);return n.map((function(e){return t.parseTimeRange(e)})).filter((function(e){return!!e}))},e.parseTimeRange=function(e){if(!e)return null;var t=e.split("-"),n=t[0],i=t[1];return r.isDefined(n)&&r.isDefined(i)?new o.TimeRange(this.parseTime(n),this.parseTime(i)):null},e.parseTime=function(e){if(!e)return null;var t=e.split(":"),n=parseInt(t[0])||0,o=parseInt(t[1])||0,r=parseInt(t[2])||0,a=parseInt(t[3])||0;return new i.Time(n,o,r,a)},e.getTimeGromJsDate=function(e){if(!e)return null;var t=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),r=e.getMilliseconds();return new i.Time(t,n,o,r)},e.caclTimeDifference=function(e,t){return t.getTimeInMilleconds()-e.getTimeInMilleconds()},e.areTimesEqual=function(e,t){return 0==this.caclTimeDifference(e,t)},e.getMaxTime=function(e,t){if(!e&&!t)return null;if(!e)return t;if(!t)return e;var n=this.caclTimeDifference(e,t);return n>0?t:e},e.getMinTime=function(e,t){if(!e&&!t)return null;if(!e)return t;if(!t)return e;var n=this.caclTimeDifference(e,t);return n>0?e:t},e.getLastTimeOfDay=function(){return new i.Time(23,59,59,999)},e.msInDay=864e5,e}();t.DateTimeUtils=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=void 0;var i=n(5),o=n(1),r=n(33),a=n(27),s=function(){function e(){}return e.clearInnerHtml=function(e){while(e.firstChild)e.removeChild(e.firstChild)},e.setStylePosition=function(e,t){e.left=r.MathUtils.round(t.x,3)+"px",e.top=r.MathUtils.round(t.y,3)+"px"},e.setStyleSize=function(e,t){e.width=r.MathUtils.round(t.width,3)+"px",e.height=r.MathUtils.round(t.height,3)+"px"},e.setStyleSizeAndPosition=function(t,n){e.setStylePosition(t,n),e.setStyleSize(t,n)},e.hideNode=function(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}},e.isHTMLElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},e.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},e.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},e.isHTMLTableRowElement=function(e){return"TR"===e.tagName},e.isItParent=function(e,t){if(!e||!t)return!1;while(t){if(t===e)return!0;if("BODY"===t.tagName)return!1;t=t.parentNode}return!1},e.getParentByTagName=function(e,t){t=t.toUpperCase();while(e){if("BODY"===e.tagName)return null;if(e.tagName===t)return e;e=e.parentNode}return null},e.getDocumentScrollTop=function(){var t=i.Browser.IE&&"hidden"===e.getCurrentStyle(document.body).overflow&&document.body.scrollTop>0;return i.Browser.WebKitFamily||i.Browser.Edge||t?i.Browser.MacOSMobilePlatform?window.pageYOffset:i.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},e.getDocumentScrollLeft=function(){var t=i.Browser.IE&&"hidden"===e.getCurrentStyle(document.body).overflow&&document.body.scrollLeft>0;return i.Browser.Edge||t?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:i.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},e.getCurrentStyle=function(e){if(e.currentStyle)return e.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var t=document.defaultView.getComputedStyle(e,null);if(!t&&i.Browser.Firefox&&window.frameElement){var n=[],o=window.frameElement;while(!(t=document.defaultView.getComputedStyle(e,null)))n.push([o,o.style.display]),o.style.setProperty("display","block","important"),o="BODY"===o.tagName?o.ownerDocument.defaultView.frameElement:o.parentNode;t=l(t);for(var r=void 0,a=0;r=n[a];a++)r[0].style.display=r[1];document.body.offsetWidth}return t}return window.getComputedStyle(e,null)},e.setFocus=function(e){function t(){try{e.focus(),i.Browser.IE&&document.activeElement!==e&&e.focus()}catch(t){}}i.Browser.MacOSMobilePlatform?t():setTimeout((function(){t()}),100)},e.hasClassName=function(e,t){try{var n=t.split(" "),i=e.classList;if(i){for(var o=n.length-1;o>=0;o--)if(!i.contains(n[o]))return!1}else{var r=e.getAttribute&&e.getAttribute("class");if(!r)return!1;var a=r.split(" ");for(o=n.length-1;o>=0;o--)if(a.indexOf(n[o])<0)return!1}return!0}catch(s){return!1}},e.addClassName=function(t,n){if(!e.hasClassName(t,n)){var i=t.getAttribute&&t.getAttribute("class");t.setAttribute("class",""===i?n:i+" "+n)}},e.removeClassName=function(e,t){var n=e.getAttribute&&e.getAttribute("class"),i=" "+n+" ",o=i.replace(" "+t+" "," ");i.length!==o.length&&e.setAttribute("class",a.StringUtils.trim(o))},e.toggleClassName=function(t,n,i){void 0===i?e.hasClassName(t,n)?e.removeClassName(t,n):e.addClassName(t,n):i?e.addClassName(t,n):e.removeClassName(t,n)},e.pxToInt=function(e){return d(e,parseInt)},e.pxToFloat=function(e){return d(e,parseFloat)},e.getAbsolutePositionY=function(t){function n(t){return i.Browser.IE&&null===t.parentNode?0:t.getBoundingClientRect().top+e.getDocumentScrollTop()}function o(t){return Math.round(t.getBoundingClientRect().top+e.getDocumentScrollTop())}function r(t){var n=!0;t&&e.isHTMLTableRowElement(t)&&t.cells.length>0&&(t=t.cells[0]);var i=u(t,!1);while(null!=t)i+=t.offsetTop,n||(i-=t.scrollTop),t=t.offsetParent,n=!1;return i+=document.body.scrollTop,i}function a(t){var n=u(t,!1),o=!0;while(null!=t){if(n+=t.offsetTop,o||null==t.offsetParent||(n-=t.scrollTop),!o&&i.Browser.Firefox){var r=e.getCurrentStyle(t);"DIV"===t.tagName&&"visible"!==r.overflow&&(n+=e.pxToInt(r.borderTopWidth))}o=!1,t=t.offsetParent}return n}function s(e){var t=0,n=!0;while(null!=e)t+=e.offsetTop,n||null==e.offsetParent||(t-=e.scrollTop),n=!1,e=e.offsetParent;return t}return t?i.Browser.IE?n(t):i.Browser.Firefox&&i.Browser.Version>=3?o(t):i.Browser.Opera?r(t):i.Browser.NetscapeFamily&&(!i.Browser.Firefox||i.Browser.Version<3)?a(t):i.Browser.WebKitFamily||i.Browser.Edge?o(t):s(t):0},e.getAbsolutePositionX=function(t){function n(t){return i.Browser.IE&&null===t.parentNode?0:t.getBoundingClientRect().left+e.getDocumentScrollLeft()}function o(t){return Math.round(t.getBoundingClientRect().left+e.getDocumentScrollLeft())}function r(e){var t=!0,n=u(e,!0);while(null!=e)n+=e.offsetLeft,t||(n-=e.scrollLeft),e=e.offsetParent,t=!1;return n+=document.body.scrollLeft,n}function a(t){var n=u(t,!0),o=!0;while(null!=t){if(n+=t.offsetLeft,o||null==t.offsetParent||(n-=t.scrollLeft),!o&&i.Browser.Firefox){var r=e.getCurrentStyle(t);"DIV"===t.tagName&&"visible"!==r.overflow&&(n+=e.pxToInt(r.borderLeftWidth))}o=!1,t=t.offsetParent}return n}function s(e){var t=0,n=!0;while(null!=e)t+=e.offsetLeft,n||null==e.offsetParent||(t-=e.scrollLeft),n=!1,e=e.offsetParent;return t}return t?i.Browser.IE?n(t):i.Browser.Firefox&&i.Browser.Version>=3?o(t):i.Browser.Opera?r(t):i.Browser.NetscapeFamily&&(!i.Browser.Firefox||i.Browser.Version<3)?a(t):i.Browser.WebKitFamily||i.Browser.Edge?o(t):s(t):0},e.isInteractiveControl=function(e){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(e.tagName)>-1},e.getClearClientHeight=function(t){return t.offsetHeight-(e.getTopBottomPaddings(t)+e.getVerticalBordersWidth(t))},e.getTopBottomPaddings=function(t,n){var i=n||e.getCurrentStyle(t);return e.pxToInt(i.paddingTop)+e.pxToInt(i.paddingBottom)},e.getVerticalBordersWidth=function(t,n){o.isDefined(n)||(n=i.Browser.IE&&9!==i.Browser.MajorVersion&&window.getComputedStyle?window.getComputedStyle(t):e.getCurrentStyle(t));var r=0;return"none"!==n.borderTopStyle&&(r+=e.pxToFloat(n.borderTopWidth)),"none"!==n.borderBottomStyle&&(r+=e.pxToFloat(n.borderBottomWidth)),r},e.getNodes=function(e,t){for(var n=e.all||e.getElementsByTagName("*"),i=[],o=0;o<n.length;o++){var r=n[o];t(r)&&i.push(r)}return i},e.getChildNodes=function(e,t){for(var n=e.childNodes,i=[],o=0;o<n.length;o++){var r=n[o];t(r)&&i.push(r)}return i},e.getNodesByClassName=function(t,n){if(t.querySelectorAll){var i=t.querySelectorAll("."+n),o=[];return i.forEach((function(e){return o.push(e)})),o}return e.getNodes(t,(function(t){return e.hasClassName(t,n)}))},e.getChildNodesByClassName=function(t,n){function i(e,t){var n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}if(t.querySelectorAll){var r=t.querySelectorAll("."+n);return i(r,(function(e){return e.parentNode===t}))}return e.getChildNodes(t,(function(t){return!!e.isElementNode(t)&&(o.isNonNullString(t.className)&&e.hasClassName(t,t.className))}))},e.getVerticalScrollBarWidth=function(){if(void 0===e.verticalScrollBarWidth){var t=document.createElement("DIV");t.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(t);var n=document.createElement("P");t.appendChild(n),n.style.cssText="width: 100%; height: 200px;";var i=n.offsetWidth;t.style.overflow="scroll";var o=n.offsetWidth;i===o&&(o=t.clientWidth),e.verticalScrollBarWidth=i-o,document.body.removeChild(t)}return e.verticalScrollBarWidth},e.getHorizontalBordersWidth=function(t,n){o.isDefined(n)||(n=i.Browser.IE&&window.getComputedStyle?window.getComputedStyle(t):e.getCurrentStyle(t));var r=0;return"none"!==n.borderLeftStyle&&(r+=e.pxToFloat(n.borderLeftWidth)),"none"!==n.borderRightStyle&&(r+=e.pxToFloat(n.borderRightWidth)),r},e.getFontFamiliesFromCssString=function(e){return e.split(",").map((function(e){return a.StringUtils.trim(e.replace(/'|"/gi,""))}))},e.getInnerText=function(t){if(i.Browser.Safari&&i.Browser.MajorVersion<=5){null===e.html2PlainTextFilter&&(e.html2PlainTextFilter=document.createElement("DIV"),e.html2PlainTextFilter.style.width="0",e.html2PlainTextFilter.style.height="0",e.html2PlainTextFilter.style.overflow="visible",e.html2PlainTextFilter.style.display="none",document.body.appendChild(e.html2PlainTextFilter));var n=e.html2PlainTextFilter;n.innerHTML=t.innerHTML,n.style.display="";var o=n.innerText;return n.style.display="none",o}return i.Browser.NetscapeFamily||i.Browser.WebKitFamily||i.Browser.IE&&i.Browser.Version>=9||i.Browser.Edge?t.textContent:t.innerText},e.html2PlainTextFilter=null,e.verticalScrollBarWidth=void 0,e}();function l(e){if("object"!==typeof e||!o.isDefined(e))return e;var t={};for(var n in e)t[n]=e[n];return t}function d(e,t){var n=0;if(o.isDefined(e)&&""!==e)try{var i=e.indexOf("px");i>-1&&(n=t(e.substr(0,i)))}catch(r){}return n}function u(e,t){var n=0,i=!0;while(null!=e){if("BODY"===e.tagName)break;var o=s.getCurrentStyle(e);if("absolute"===o.position)break;i||"DIV"!==e.tagName||""!==o.position&&"static"!==o.position||(n-=t?e.scrollLeft:e.scrollTop),e=e.parentNode,i=!1}return n}t.DomUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var i=function(){function e(e,t){this.x=e,this.y=t}return e.zero=function(){return new e(0,0)},e.fromNumber=function(t){return new e(t,t)},e.prototype.isZero=function(){return 0===this.x&&0===this.y},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.copyFrom=function(e){this.x=e.x,this.y=e.y},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},e.prototype.offset=function(e,t){return this.x+=e,this.y+=t,this},e.prototype.offsetByPoint=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.multiply=function(e,t){return this.x*=e,this.y*=t,this},e.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},e.prototype.applyConverter=function(e){return this.x=e(this.x),this.y=e(this.y),this},e.plus=function(t,n){return new e(t.x+n.x,t.y+n.y)},e.minus=function(t,n){return new e(t.x-n.x,t.y-n.y)},e.xComparer=function(e,t){return e.x-t.x},e.yComparer=function(e,t){return e.y-t.y},e.equals=function(e,t){return e.x===t.x&&e.y===t.y},e}();t.Point=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=void 0;var i=function(){function e(){}return e.IdentUserAgent=function(t,n){void 0===n&&(n=!1);var i=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],o="IE",r="Win",a={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(t&&0!==t.length){t=t.toLowerCase(),e.indentPlatformMajorVersion(t);try{for(var s={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},l="(?:/|\\s*)?",d="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?",u="(?:"+d+")?",c={Safari:"applewebkit(?:.*?(?:version/"+d+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+l+u,Mozilla:"mozilla(?:.*rv:"+u+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+u,Firefox:"firefox"+l+u,Opera:"(?:opera|\\sopr)"+l+u,Opera10:"opera.*\\s*version"+l+u,IE:"msie\\s*"+u,Edge:"edge"+l+u},h=null,p=-1,f=0;f<i.length;f++){var g=i[f],m=new RegExp(c[g],"i"),v=m.exec(t);if(v&&v.index>=0){if("IE"===h&&p>=11&&"Safari"===g)continue;h=g,"Opera10"===h&&(h="Opera");var _="trident"+l+u;p=e.GetBrowserVersion(t,v,_,e.getIECompatibleVersionString()),"Mozilla"===h&&p>=11&&(h="IE")}}h||(h=o);var y=-1!==p;y||(p=a[h]);var C=null,w=Number.MAX_VALUE;for(var x in s)if(Object.prototype.hasOwnProperty.call(s,x)){var b="!"===x.substr(0,1),T=t.indexOf((b?x.substr(1):x).toLowerCase());T>=0&&(T<w||b)&&(w=b?0:T,C=s[x])}var I="SM-[A-Z]",S=t.toUpperCase().match(I),k=S&&S.length>0;"WinPhone"===C&&p<9&&(p=Math.floor(e.getVersionFromTrident(t,"trident"+l+u))),!n&&"IE"===h&&p>7&&document.documentMode<p&&(p=document.documentMode),"WinPhone"===C&&(p=Math.max(9,p)),C||(C=r),C!==s["cpu os"]||y||(p=4),e.fillUserAgentInfo(i,h,p,C,k)}catch(E){e.fillUserAgentInfo(i,o,a[o],r)}}else e.fillUserAgentInfo(i,o,a[o],r)},e.GetBrowserVersion=function(t,n,i,o){var r=e.getVersionFromMatches(n);if(o){var a=e.getVersionFromTrident(t,i);if("edge"===o||parseInt(o)===a)return a}return r},e.getIECompatibleVersionString=function(){if(document.compatible)for(var e=0;e<document.compatible.length;e++)if("IE"===document.compatible[e].userAgent&&document.compatible[e].version)return document.compatible[e].version.toLowerCase();return""},e.isTouchEnabled=function(){return"ontouchstart"in window||navigator["maxTouchPoints"]>0||navigator["msMaxTouchPoints"]>0},e.fillUserAgentInfo=function(t,n,i,o,r){void 0===r&&(r=!1);for(var a=0;a<t.length;a++){var s=t[a];e[s]=s===n}e.Version=Math.floor(10*i)/10,e.MajorVersion=Math.floor(e.Version),e.WindowsPlatform="Win"===o||"WinPhone"===o,e.MacOSMobilePlatform="MacMobile"===o||"Mac"===o&&e.isTouchEnabled(),e.MacOSPlatform="Mac"===o&&!e.MacOSMobilePlatform,e.AndroidMobilePlatform="Android"===o,e.WindowsPhonePlatform="WinPhone"===o,e.WebKitFamily=e.Safari||e.Chrome||e.Opera&&e.MajorVersion>=15,e.NetscapeFamily=e.Netscape||e.Mozilla||e.Firefox,e.HardwareAcceleration=e.IE&&e.MajorVersion>=9||e.Firefox&&e.MajorVersion>=4||e.AndroidMobilePlatform&&e.Chrome||e.Chrome&&e.MajorVersion>=37||e.Safari&&!e.WindowsPlatform||e.Edge||e.Opera&&e.MajorVersion>=46,e.WebKitTouchUI=e.MacOSMobilePlatform||e.AndroidMobilePlatform;var l=e.IE&&e.MajorVersion>9&&e.WindowsPlatform&&e.UserAgent.toLowerCase().indexOf("touch")>=0;if(e.MSTouchUI=l||e.Edge&&!!window.navigator.maxTouchPoints,e.TouchUI=e.WebKitTouchUI||e.MSTouchUI,e.MobileUI=e.WebKitTouchUI||e.WindowsPhonePlatform,e.AndroidDefaultBrowser=e.AndroidMobilePlatform&&!e.Chrome,e.AndroidChromeBrowser=e.AndroidMobilePlatform&&e.Chrome,r&&(e.SamsungAndroidDevice=r),e.MSTouchUI){var d=e.UserAgent.toLowerCase().indexOf("arm;")>-1;e.VirtualKeyboardSupported=d||e.WindowsPhonePlatform}else e.VirtualKeyboardSupported=e.WebKitTouchUI;e.fillDocumentElementBrowserTypeClassNames(t)},e.indentPlatformMajorVersion=function(t){var n=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/,i=n.exec(t);i&&(e.PlaformMajorVersion=i[1])},e.getVersionFromMatches=function(e){var t=-1,n="";return e&&(e[1]&&(n+=e[1],e[2]&&(n+="."+e[2])),""!==n&&(t=parseFloat(n),isNaN(t)&&(t=-1))),t},e.getVersionFromTrident=function(t,n){var i=4,o=new RegExp(n,"i").exec(t);return e.getVersionFromMatches(o)+i},e.fillDocumentElementBrowserTypeClassNames=function(t){for(var n="",i=t.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),o=0;o<i.length;o++){var r=i[o];e[r]&&(n+="dx"+r+" ")}n+="dxBrowserVersion-"+e.MajorVersion,document&&document.documentElement&&(""!==document.documentElement.className&&(n=" "+n),document.documentElement.className+=n,e.Info=n)},e.UserAgent=navigator.userAgent.toLowerCase(),e._foo=e.IdentUserAgent(e.UserAgent),e}();t.Browser=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EvtUtils=void 0;var i=n(5),o=n(1),r=n(3),a=n(15),s=function(){function e(){}return e.preventEvent=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},e.getEventSource=function(e){return o.isDefined(e)?e.srcElement?e.srcElement:e.target:null},e.getEventSourceByPosition=function(t){return o.isDefined(t)?document.elementFromPoint&&void 0!==e.getEventX(t)&&void 0!==e.getEventY(t)?document.elementFromPoint(e.getEventX(t),e.getEventY(t)):t.srcElement?t.srcElement:t.target:null},e.getMouseWheelEventName=function(){return i.Browser.Safari?"mousewheel":i.Browser.NetscapeFamily&&i.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},e.isLeftButtonPressed=function(e){return!!a.TouchUtils.isTouchEvent(e)||(e=i.Browser.IE&&o.isDefined(event)?event:e,!!e&&(i.Browser.IE&&i.Browser.Version<11?!!i.Browser.MSTouchUI||e.button%2===1:i.Browser.WebKitFamily?"pointermove"===e.type?1===e.buttons:1===e.which:i.Browser.NetscapeFamily||i.Browser.Edge||i.Browser.IE&&i.Browser.Version>=11?e.type===a.TouchUtils.touchMouseMoveEventName?1===e.buttons:1===e.which:!i.Browser.Opera||0===e.button))},e.preventEventAndBubble=function(t){e.preventEvent(t),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},e.clientEventRequiresDocScrollCorrection=function(){var e=i.Browser.Safari&&i.Browser.Version<3,t=i.Browser.MacOSMobilePlatform&&i.Browser.Version<5.1;return i.Browser.AndroidDefaultBrowser||i.Browser.AndroidChromeBrowser||!(e||t)},e.getEventX=function(t){return a.TouchUtils.isTouchEvent(t)?a.TouchUtils.getEventX(t):t.clientX+(e.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollLeft():0)},e.getEventY=function(t){return a.TouchUtils.isTouchEvent(t)?a.TouchUtils.getEventY(t):t.clientY+(e.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollTop():0)},e.cancelBubble=function(e){e.cancelBubble=!0},e.getWheelDelta=function(e){var t;return t=i.Browser.NetscapeFamily&&i.Browser.MajorVersion<17?-e.detail:i.Browser.Safari?e.wheelDelta:-e.deltaY,i.Browser.Opera&&i.Browser.Version<9&&(t=-t),t},e}();t.EvtUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleCommandState=t.CommandBase=void 0;var i=function(){function e(e){this.control=e}return Object.defineProperty(e.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.state.enabled)return!1;var n=this.executeInternal.apply(this,e);return n&&this.control.barManager.updateItemsState([]),n},e.prototype.isEnabled=function(){return this.control.settings.editing.enabled},e.prototype.executeInternal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Not implemented")},e}();t.CommandBase=i;var o=function(){function e(e,t){this.visible=!0,this.enabled=e,this.value=t}return e}();t.SimpleCommandState=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaManager=t.MouseEventSource=void 0;var i=n(5),o=n(4),r=n(3),a=n(6),s=n(15),l=n(17);(function(e){e[e["TaskArea"]=0]="TaskArea",e[e["TaskEdit_Frame"]=1]="TaskEdit_Frame",e[e["TaskEdit_Progress"]=2]="TaskEdit_Progress",e[e["TaskEdit_Start"]=3]="TaskEdit_Start",e[e["TaskEdit_End"]=4]="TaskEdit_End",e[e["TaskEdit_DependencyStart"]=5]="TaskEdit_DependencyStart",e[e["TaskEdit_DependencyFinish"]=6]="TaskEdit_DependencyFinish",e[e["Successor_Wrapper"]=7]="Successor_Wrapper",e[e["Successor_DependencyStart"]=8]="Successor_DependencyStart",e[e["Successor_DependencyFinish"]=9]="Successor_DependencyFinish"})(t.MouseEventSource||(t.MouseEventSource={}));var d=function(){function e(e){this.time=new Date,this.touchTime=new Date,this.ganttView=e,this.eventManager=e.eventManager,this.position=new o.Point(-1,-1),i.Browser.WebKitTouchUI||this.initMouseEvents(),i.Browser.isTouchEnabled()&&this.initTouchEvents()}return e.prototype.initMouseEvents=function(){var e=this;this.ganttView.taskArea.addEventListener("click",(function(t){e.onTaskAreaClick(t)})),this.ganttView.taskArea.addEventListener("dblclick",(function(t){e.onTaskAreaDblClick(t)})),this.ganttView.taskArea.addEventListener("scroll",this.ganttView.updateView.bind(this.ganttView)),this.ganttView.taskArea.addEventListener("contextmenu",(function(t){e.onContextMenu(t)})),this.ganttView.taskArea.addEventListener(a.EvtUtils.getMouseWheelEventName(),(function(t){e.onMouseWheel(t)})),this.ganttView.taskArea.addEventListener("mousedown",(function(t){e.onMouseDown(t)})),document.addEventListener("mousemove",(function(t){e.onDocumentMouseMove(t)})),document.addEventListener("mouseup",(function(t){e.onDocumentMouseUp(t)})),document.addEventListener("keydown",(function(t){e.onDocumentKeyDown(t)}))},e.prototype.initTouchEvents=function(){var t=this;i.Browser.WebKitTouchUI||i.Browser.WindowsPlatform&&!i.Browser.Edge&&!i.Browser.IE?(this.ganttView.taskArea.addEventListener("touchstart",(function(e){t.onTouchStart(e)})),this.ganttView.taskArea.addEventListener("touchend",(function(e){t.onTouchEnd(e)})),this.ganttView.taskArea.addEventListener("touchmove",(function(e){t.onTouchMove(e)}))):i.Browser.MSTouchUI&&(this.ganttView.taskArea.classList.add(e.MS_POINTER_ACTIVE_CLASS),this.ganttView.taskArea.addEventListener("pointerdown",(function(e){t.onMouseDown(e)})),this.ganttView.taskArea.addEventListener("pointerup",(function(e){t.onDocumentMouseUp(e)})),this.ganttView.taskArea.addEventListener("pointermove",(function(e){t.onDocumentMouseMove(e)})))},e.prototype.attachEventsOnTask=function(e){var t=this;e.addEventListener("mouseenter",(function(e){i.Browser.MSTouchUI?setTimeout((function(){return t.onTaskElementHover(e)}),0):t.onTaskElementHover(e)}))},e.prototype.onMouseDown=function(e){this.eventManager.onMouseDown(e),this.preventSelect=!1,this.position=new o.Point(e.clientX,e.clientY)},e.prototype.onDocumentMouseUp=function(e){var t=this;this.ganttView.isFocus=!!r.DomUtils.isItParent(this.ganttView.taskArea,a.EvtUtils.getEventSource(e)),this.ganttView.isFocus&&!this.preventSelect&&this.ganttView.settings.allowSelectTask&&!this.isConnectorLine(e)&&setTimeout((function(){t.changeTaskSelection(t.getClickedTaskIndex(e))}),0),this.eventManager.onMouseUp(e)},e.prototype.onMouseWheel=function(e){this.eventManager.onMouseWheel(e)},e.prototype.onDocumentKeyDown=function(e){this.eventManager.onKeyDown(e)},e.prototype.onDocumentMouseMove=function(e){this.position.x==e.clientX&&this.position.y==e.clientY||(this.eventManager.onMouseMove(e),this.preventSelect=!0)},e.prototype.onTouchStart=function(t){this.position=new o.Point(s.TouchUtils.getEventX(t),s.TouchUtils.getEventY(t));var n=this.ganttView.viewModel.items[this.getClickedTaskIndex(t)],i=new Date;1===t.touches.length&&i.getTime()-this.touchTime.getTime()<e.DBLCLICK_INTERVAL?(t.preventDefault(),n&&this.ganttView.onTaskDblClick(n.task.id,t)&&this.ganttView.commandManager.showTaskEditDialog.execute(n.task)):this.eventManager.onTouchStart(t),n&&this.ganttView.onTaskClick(n.task.id,t)&&(this.touchTime=i),this.preventSelect=!1},e.prototype.onTouchEnd=function(e){this.eventManager.onTouchEnd(e)},e.prototype.onTouchMove=function(e){this.position.x==s.TouchUtils.getEventX(e)&&this.position.y==s.TouchUtils.getEventY(e)||(this.eventManager.onTouchMove(e),this.preventSelect=!0)},e.prototype.onContextMenu=function(e){var t=a.EvtUtils.getEventSource(e),n=this.isConnectorLine(e),r=n?"dependency":"task",s=n?t.getAttribute("dependency-id"):this.getClickedTaskKey(this.getClickedTaskIndex(e));if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),i.Browser.WebKitFamily&&(e.returnValue=!1),this.ganttView.ganttOwner.onGanttViewContextMenu(e,s,r)){var l={event:e,type:r,key:s,position:new o.Point(a.EvtUtils.getEventX(e),a.EvtUtils.getEventY(e))};this.ganttView.ganttOwner.showPopupMenu(l)}},e.prototype.onTaskElementHover=function(e){e.preventDefault();var t=this.getClickedTaskIndex(e);this.ganttView.taskEditController.show(t),this.ganttView.taskEditController.showTaskInfo(a.EvtUtils.getEventX(e))},e.prototype.getClickedTaskIndex=function(e){var t=a.EvtUtils.getEventY(e),n=r.DomUtils.getAbsolutePositionY(this.ganttView.taskArea),i=t-n;return Math.floor(i/this.ganttView.tickSize.height)},e.prototype.getClickedTaskKey=function(e){var t=this.ganttView.viewModel.items[e];return t&&t.task&&t.task.id},e.prototype.changeTaskSelection=function(e){var t=this.ganttView.viewModel.items[e];t&&this.ganttView.ganttOwner.changeGanttTaskSelection(t.task.id,!0)},e.prototype.onTaskAreaClick=function(e){var t=this.getClickedTaskIndex(e),n=this.ganttView.viewModel.items[t];n&&this.ganttView.onTaskClick(n.task.id,e)},e.prototype.onTaskAreaDblClick=function(e){e.preventDefault();var t=this.getClickedTaskIndex(e),n=this.ganttView.viewModel.items[t];n&&this.ganttView.onTaskDblClick(n.task.id,e)&&this.ganttView.commandManager.showTaskEditDialog.execute(n.task)},e.prototype.isConnectorLine=function(e){var t=a.EvtUtils.getEventSource(e);return r.DomUtils.hasClassName(t,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||r.DomUtils.hasClassName(t,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},e.DBLCLICK_INTERVAL=300,e.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",e}();t.TaskAreaManager=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateRange=void 0;var i=function(){function e(e,t){this.start=e,this.end=t}return e}();t.DateRange=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataObject=void 0;var i=n(1),o=n(33),r=function(){function e(){this.internalId=o.MathUtils.generateGuid()}return e.prototype.assignFromObject=function(e){i.isDefined(e)&&i.isDefined(e.id)&&(this.id=e.id,this.internalId=String(e.id))},e}();t.DataObject=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHistoryItem=t.HistoryItem=void 0;var i=n(0),o=function(){function e(e){this.modelManipulator=e}return e}();t.HistoryItem=o;var r=function(e){function t(){var t=e.call(this,null)||this;return t.historyItems=[],t}return i.__extends(t,e),t.prototype.redo=function(){for(var e,t=0;e=this.historyItems[t];t++)e.redo()},t.prototype.undo=function(){for(var e,t=this.historyItems.length-1;e=this.historyItems[t];t--)e.undo()},t.prototype.add=function(e){if(null==e)throw new Error("Can't add null HistoryItem");this.historyItems.push(e)},t.prototype.undoItemsQuery=function(){this.undo()},t}(o);t.CompositionHistoryItem=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionBase=void 0;var i=n(1),o=n(54),r=function(){function e(){this._items=new Array,this._isGanttCollection=!0}return e.prototype.add=function(e){if(i.isDefined(e)){if(this.getItemById(e.internalId))throw"The collection item with id ='"+e.internalId+"' already exists.";this._items.push(e)}},e.prototype.addRange=function(e){for(var t=0;t<e.length;t++)this.add(e[t])},e.prototype.remove=function(e){var t=this._items.indexOf(e);t>-1&&t<this._items.length&&this._items.splice(t,1)},e.prototype.clear=function(){this._items.splice(0,this._items.length)},Object.defineProperty(e.prototype,"items",{get:function(){return this._items.slice()},set:function(e){e&&(this._items=e.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),e.prototype.getItem=function(e){return e>-1&&e<this._items.length?this._items[e]:null},e.prototype.getItemById=function(e){return this._items.filter((function(t){return t.internalId===e}))[0]},e.prototype.getItemByPublicId=function(e){return this._items.filter((function(t){return t.id===e||t.id.toString()===e}))[0]},e.prototype.assign=function(e){i.isDefined(e)&&(this.items=e.items)},e.prototype.importFromObject=function(e){i.isDefined(e)&&(this.clear(),e._isGanttCollection?this.assign(e):e instanceof Array?this.importFromArray(e):this.createItemFromObjectAndAdd(e))},e.prototype.createItemFromObjectAndAdd=function(e){if(i.isDefined(e)){var t=this.createItem();t.assignFromObject(e),this.add(t)}},e.prototype.importFromArray=function(e){for(var t=0;t<e.length;t++)this.createItemFromObjectAndAdd(e[t])},e.prototype.importFromJSON=function(e){this.importFromObject(o.GanttJsonUtils.evalJson(e))},e}();t.CollectionBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dependency=t.DependencyType=void 0;var i,o=n(0),r=n(10),a=n(1);(function(e){e[e["FS"]=0]="FS",e[e["SS"]=1]="SS",e[e["FF"]=2]="FF",e[e["SF"]=3]="SF"})(i=t.DependencyType||(t.DependencyType={}));var s=function(e){function t(){var t=e.call(this)||this;return t.predecessorId="",t.successorId="",t.type=null,t}return o.__extends(t,e),t.prototype.assignFromObject=function(t){a.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.internalId=String(t.id),this.predecessorId=String(t.predecessorId),this.successorId=String(t.successorId),this.type=this.parseType(t.type))},t.prototype.parseType=function(e){if(!a.isDefined(e))return i.FS;var t=e.toString().toUpperCase();switch(t){case"SS":case"1":return i.SS;case"FF":case"2":return i.FF;case"SF":case"3":return i.SF;default:return i.FS}},t}(r.DataObject);t.Dependency=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskTitlePosition=t.Position=t.ViewType=void 0,function(e){e[e["TenMinutes"]=0]="TenMinutes",e[e["Hours"]=1]="Hours",e[e["SixHours"]=2]="SixHours",e[e["Days"]=3]="Days",e[e["Weeks"]=4]="Weeks",e[e["Months"]=5]="Months",e[e["Quarter"]=6]="Quarter",e[e["Years"]=7]="Years",e[e["FiveYears"]=8]="FiveYears"}(t.ViewType||(t.ViewType={})),function(e){e[e["Left"]=0]="Left",e[e["Top"]=1]="Top",e[e["Right"]=2]="Right",e[e["Bottom"]=3]="Bottom"}(t.Position||(t.Position={})),function(e){e[e["Inside"]=0]="Inside",e[e["Outside"]=1]="Outside",e[e["None"]=2]="None"}(t.TaskTitlePosition||(t.TaskTitlePosition={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchUtils=void 0;var i=n(5),o=n(1),r=function(){function e(){}return e.onEventAttachingToDocument=function(t,n){return!i.Browser.MacOSMobilePlatform||!e.isTouchEventName(t)||(e.documentTouchHandlers[t]||(e.documentTouchHandlers[t]=[]),e.documentTouchHandlers[t].push(n),e.documentEventAttachingAllowed)},e.isTouchEventName=function(e){return i.Browser.WebKitTouchUI&&(e.indexOf("touch")>-1||e.indexOf("gesture")>-1)},e.isTouchEvent=function(e){return i.Browser.WebKitTouchUI&&o.isDefined(e.changedTouches)},e.getEventX=function(e){return i.Browser.IE?e.pageX:e.changedTouches[0].pageX},e.getEventY=function(e){return i.Browser.IE?e.pageY:e.changedTouches[0].pageY},e.touchMouseDownEventName=i.Browser.WebKitTouchUI?"touchstart":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",e.touchMouseUpEventName=i.Browser.WebKitTouchUI?"touchend":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",e.touchMouseMoveEventName=i.Browser.WebKitTouchUI?"touchmove":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",e.msTouchDraggableClassName="dxMSTouchDraggable",e.documentTouchHandlers={},e.documentEventAttachingAllowed=!0,e}();t.TouchUtils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecurrenceBase=void 0;var i=n(0),o=n(10),r=n(70),a=n(36),s=n(71),l=n(1),d=n(2),u=n(37),c=function(e){function t(t,n,i,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=1),void 0===o&&(o=0);var r=e.call(this)||this;return r._start=null,r._end=null,r._interval=1,r._occurrenceCount=0,r._dayOfWeek=0,r._day=1,r._dayOfWeekOccurrence=0,r._month=0,r._calculateByDayOfWeek=!1,r.start=t,r.end=n,r.interval=i,r.occurrenceCount=o,r}return i.__extends(t,e),t.prototype.assignFromObject=function(t){l.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.start=d.DateTimeUtils.convertToDate(t.start),this.end=d.DateTimeUtils.convertToDate(t.end),l.isDefined(t.interval)&&(this.interval=t.interval),l.isDefined(t.occurrenceCount)&&(this.occurrenceCount=t.occurrenceCount),l.isDefined(t.dayOfWeek)&&(this.dayOfWeekInternal=u.RecurrenceFactory.getEnumValue(r.DayOfWeek,t.dayOfWeek)),l.isDefined(t.day)&&(this.dayInternal=t.day),l.isDefined(t.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=u.RecurrenceFactory.getEnumValue(a.DayOfWeekMonthlyOccurrence,t.dayOfWeekOccurrence)),l.isDefined(t.month)&&(this.monthInternal=u.RecurrenceFactory.getEnumValue(s.Month,t.month)),l.isDefined(t.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!t.calculateByDayOfWeek))},t.prototype.calculatePoints=function(e,t){if(!e||!t)return new Array;var n=d.DateTimeUtils.getMaxDate(e,this._start),i=d.DateTimeUtils.getMinDate(t,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(n,i):this.calculatePointsByDateRange(n,i)},t.prototype.calculatePointsByOccurrenceCount=function(e,t){var n=new Array,i=this.getFirstPoint(e);while(i&&n.length<this._occurrenceCount&&d.DateTimeUtils.compareDates(i,t)>=0)this.isRecurrencePoint(i)&&n.push(i),i=this.getNextPoint(i);return n},t.prototype.calculatePointsByDateRange=function(e,t){var n=new Array,i=this.getFirstPoint(e);while(i&&d.DateTimeUtils.compareDates(i,t)>=0)this.isRecurrencePoint(i)&&n.push(i),i=this.getNextPoint(i);return n},t.prototype.getFirstPoint=function(e){return this.isRecurrencePoint(e)?e:this.getNextPoint(e)},t.prototype.isRecurrencePoint=function(e){return this.isDateInRange(e)&&this.checkDate(e)&&(!this.useIntervalInCalc()||this.checkInterval(e))},t.prototype.isDateInRange=function(e){return!!e&&(!(this._start&&d.DateTimeUtils.compareDates(this.start,e)<0)&&!(0==this._occurrenceCount&&this.end&&d.DateTimeUtils.compareDates(e,this.end)<0))},t.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},t.prototype.getNextPoint=function(e){return this.isDateInRange(e)?this.useIntervalInCalc()?this.calculatePointByInterval(e):this.calculateNearestPoint(e):null},t.prototype.getSpecDayInMonth=function(e,t){var n;return n=this._calculateByDayOfWeek?d.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,e,t,this.dayOfWeekOccurrenceInternal):new Date(e,t,this.dayInternal),n},Object.defineProperty(t.prototype,"dayInternal",{get:function(){return this._day},set:function(e){e>0&&e<=31&&(this._day=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(e){e>=r.DayOfWeek.Sunday&&e<=r.DayOfWeek.Saturday&&(this._dayOfWeek=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(e){e>=a.DayOfWeekMonthlyOccurrence.First&&e<=a.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"monthInternal",{get:function(){return this._month},set:function(e){e>=s.Month.January&&e<=s.Month.December&&(this._month=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){e&&(this._start=e,this._end&&e>this._end&&(this._end=e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},set:function(e){e&&(this._end=e,this._start&&e<this._start&&(this._start=e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(e){e<0&&(e=0),this._occurrenceCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(e){e>0&&(this._interval=e)},enumerable:!1,configurable:!0}),t}(o.DataObject);t.RecurrenceBase=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayoutCalculator=void 0;var i=n(28),o=n(9),r=n(14),a=n(40),s=n(39),l=n(4),d=n(13),u=n(41),c=function(){function e(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2}return e.prototype.setSettings=function(e,t,n,o,r,a,l){void 0===l&&(l=0),this.visibleTaskAreaSize=e,this.tickSize=t,this.viewType=a,this.range=o,this.verticalTickCount=r.itemCount,this.viewModel=r,this.elementSizeValues=n,this.taskHeight=n.taskHeight,this.parentTaskHeight=n.parentTaskHeight,this.milestoneWidth=n.milestoneWidth,this.scaleHeight=n.scaleItemHeight,this.arrowSize=new i.Size(n.connectorArrowWidth,n.connectorArrowWidth),this.lineThickness=n.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=s.DateUtils.getTickTimeSpan(a),this.horizontalTickCount=this.getTotalTickCount(),this.scrollBarHeight=l,this.createTileToConnectorLinesMap(),this.createTileToNonWorkingIntervalsMap()},e.prototype.getTaskAreaBorderInfo=function(e,t){var n=t?this.getVerticalGridLineHeight():this.tickSize.width*this.horizontalTickCount;return this.getGridBorderInfo(e,t,n)},e.prototype.getScaleBorderInfo=function(e,t){var n=this.getGridBorderInfo(e,!0,this.scaleHeight);return n.position.x*=this.getScaleItemColSpan(t),n},e.prototype.getGridBorderInfo=function(e,t,n){var i=new a.GridElementInfo;return i.setPosition(this.getGridBorderPosition(e,t)),n&&i.setSize(this.getGridBorderSize(t,n)),i.className=t?"dx-gantt-vb":"dx-gantt-hb",i},e.prototype.getGridBorderPosition=function(e,t){var n=new l.Point(void 0,void 0),i=(e+1)*(t?this.tickSize.width:this.tickSize.height);return t?n.x=i:n.y=i,n},e.prototype.getGridBorderSize=function(e,t){var n=new i.Size(0,0);return e?n.height=t:n.width=t,n},e.prototype.getScaleElementInfo=function(e,t){var n=new a.GridElementInfo;return n.setPosition(this.getScaleItemPosition(e,t)),n.setSize(this.getScaleItemSize(t)),n.className=this.getScaleItemClassName(t,n,this.getRenderedNoWorkingIntervals(n.position.x)),n},e.prototype.getScaleItemClassName=function(e,t,n){var i="dx-gantt-si";return e.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(t,n)&&(i+=" dx-gantt-holiday-scaleItem"),i},e.prototype.isScaleItemInsideNoWorkingInterval=function(e,t){for(var n=e.position.x,i=e.position.x+e.size.width,o=0;o<t.length;o++){var r=t[o].position.x,a=t[o].position.x+t[o].size.width;if(n>=r&&i<=a)return!0}return!1},e.prototype.getScaleItemPosition=function(e,t){return new l.Point(e*this.tickSize.width*this.getScaleItemColSpan(t),void 0)},e.prototype.getScaleItemSize=function(e){return new i.Size(this.tickSize.width*this.getScaleItemColSpan(e),0)},e.prototype.getScaleItemColSpan=function(e){return e.valueOf()==this.viewType.valueOf()?1:this.viewType==r.ViewType.TenMinutes?6:this.viewType==r.ViewType.Hours?24:this.viewType==r.ViewType.SixHours?4:this.viewType==r.ViewType.Days?7:this.viewType==r.ViewType.Weeks?4.29:this.viewType==r.ViewType.Months?12:this.viewType==r.ViewType.Quarter?4:this.viewType==r.ViewType.Years?5:1},e.prototype.getTaskWrapperElementInfo=function(e){var t=new a.GridElementInfo;return t.className=this.getTaskWrapperClassName(e),t.setPosition(this.getTaskWrapperPoint(e)),t.setAttribute("task-index",e),t},e.prototype.getTaskWrapperClassName=function(e){var t="dx-gantt-taskWrapper";return this.getTask(e).isMilestone()&&(t="dx-gantt-milestoneWrapper"),this.viewModel.items[e].selected&&(t+=" dx-gantt-selectedTask"),t},e.prototype.getTaskWrapperPoint=function(e){var t=this.getTaskHeight(e),n=e*this.tickSize.height+(this.tickSize.height-t)/2,i=new l.Point(this.getPosByDate(this.getTask(e).start),n);if(this.getTask(e).isMilestone()){var o=this.getTaskHeight(e);i.x-=o/2}return i},e.prototype.getTaskElementInfo=function(e,t){void 0===t&&(t=!1);var n=new a.GridElementInfo,i=this.getTask(e),o=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(e);return i.isMilestone()||(n.size.width=this.getTaskWidth(e),t&&(n.size.height=this.getTaskHeight(e))),n.className=this.getTaskClassName(e,n.size.width),i.color&&(n.style.backgroundColor=i.color,o&&(n.style.borderLeftColor=i.color,n.style.borderRightColor=i.color,n.style.borderTopColor=i.color)),n},e.prototype.getTaskClassName=function(e,t){var n="dx-gantt-task",i=this.getTask(e),o=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(e);return i.isMilestone()?n+=" dx-gantt-milestone":t<=this.elementSizeValues.smallTaskWidth&&(n+=" dx-gantt-smallTask"),o&&(n+=this.getAutoCalcParentTaskClassName(i)),n},e.prototype.getAutoCalcParentTaskClassName=function(e){var t=" dx-gantt-parent";return 0==e.progress&&(t+=" dx-gantt-noPrg"),e.progress>=100&&(t+=" dx-gantt-cmpl"),t},e.prototype.getTaskPoint=function(e){var t=this.getTaskWrapperPoint(e);return this.getTask(e).isMilestone()||(t.y+=this.elementSizeValues.taskWrapperTopPadding),t},e.prototype.getTaskSize=function(e){return new i.Size(this.getTaskWidth(e),this.getTaskHeight(e))},e.prototype.getTaskWidth=function(e){var t=this.getTask(e);return t.isMilestone()?this.getTaskHeight(e):Math.max(this.getWidthByDateRange(t.start,t.end),this.minTaskWidth)},e.prototype.getTaskHeight=function(e){var t=this.getTask(e);return t.isMilestone()?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(t.id)?this.parentTaskHeight:this.taskHeight},e.prototype.getTask=function(e){return this.viewModel.items[e].task},e.prototype.getTaskProgressElementInfo=function(e){var t=new a.GridElementInfo;return t.className="dx-gantt-tPrg",t.setSize(this.getTaskProgressSize(e)),t},e.prototype.getTaskProgressSize=function(e){return new i.Size(this.getTaskProgressWidth(e),0)},e.prototype.getTaskProgressWidth=function(e){return this.getTaskWidth(e)*this.getTask(e).progress/100},e.prototype.getTaskTextElementInfo=function(e,t){var n=new a.GridElementInfo;if(n.className=this.getTaskTextElementClassName(t),!t){var i=this.getTaskPoint(e).x;i<this.elementSizeValues.outsideTaskTextDefaultWidth&&(n.size.width=i,n.margins.left=-i)}return n},e.prototype.getTaskTextElementClassName=function(e){var t="dx-gantt-taskTitle";return t+=e?" dx-gantt-titleIn":" dx-gantt-titleOut",t},e.prototype.getTaskResourcesWrapperElementInfo=function(e){var t=new a.GridElementInfo,n=this.getTaskSize(e).width;return t.className="dx-gantt-taskResWrapper",t.setPosition(this.getTaskWrapperPoint(e)),t.position.x=t.position.x+n,t},e.prototype.getTaskResourceElementInfo=function(){var e=new a.GridElementInfo;return e.className="dx-gantt-taskRes",e},e.prototype.getSelectionElementInfo=function(e){return this.getRowElementInfo(e,"dx-gantt-sel")},e.prototype.getSelectionPosition=function(e){var t=new l.Point(void 0,void 0);return t.y=e*this.tickSize.height,t},e.prototype.getSelectionSize=function(){return new i.Size(this.tickSize.width*this.horizontalTickCount,this.tickSize.height)},e.prototype.getHighlightRowInfo=function(e){return this.getRowElementInfo(e,"dx-gantt-altRow")},e.prototype.getRowElementInfo=function(e,t){var n=new a.GridElementInfo;return n.className=t,n.setPosition(this.getSelectionPosition(e)),n.setSize(this.getSelectionSize()),n},e.prototype.getNoWorkingIntervalInfo=function(e){var t=new a.GridElementInfo;return t.className="dx-gantt-nwi",t.setPosition(this.getNoWorkingIntervalPosition(e.start)),t.setSize(this.getNoWorkingIntervalSize(e)),t},e.prototype.getNoWorkingIntervalPosition=function(e){var t=new l.Point(void 0,void 0);return t.x=this.getPosByDate(e),t},e.prototype.getNoWorkingIntervalSize=function(e){return new i.Size(this.getWidthByDateRange(e.start,e.end),this.getVerticalGridLineHeight())},e.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},e.prototype.getConnectorInfo=function(e,t,n,i){for(var o=new Array,r=this.getConnectorPoints(t,n,i),a=0;a<r.length-1;a++)o.push(this.getConnectorLineInfo(e,r[a],r[a+1],0==a||a==r.length-2));return o.push(this.getArrowInfo(e,r,o,t,n)),o},e.prototype.getConnectorLineInfo=function(e,t,n,i){var o=new a.GridElementInfo,r=t.x==n.x;return o.className=this.getConnectorClassName(r),o.setPosition(this.getConnectorPosition(t,n)),o.setSize(this.getConnectorSize(t,n,r,i)),o.setAttribute("dependency-id",e),o},e.prototype.getConnectorClassName=function(t){return t?e.CLASSNAMES.CONNECTOR_VERTICAL:e.CLASSNAMES.CONNECTOR_HORIZONTAL},e.prototype.getConnectorPosition=function(e,t){return new l.Point(Math.min(e.x,t.x),Math.min(e.y,t.y))},e.prototype.getConnectorSize=function(e,t,n,o){var r=new i.Size(0,0),a=o?0:1;return n?r.height=Math.abs(t.y-e.y)+a:r.width=Math.abs(t.x-e.x)+a,r},e.prototype.getArrowInfo=function(e,t,n,i,o){var r=new a.GridElementInfo,s=this.findArrowLineInfo(n,i,o),l=this.getArrowPosition(t,i,o);return r.className=this.getArrowClassName(l),r.setPosition(this.getArrowPoint(s,l)),r.setAttribute("dependency-id",e),r},e.prototype.findArrowLineInfo=function(e,t,n){var i=t<n?e.length-1:0;return e[i]},e.prototype.getArrowPosition=function(e,t,n){var i=e[t<n?e.length-2:1],o=e[t<n?e.length-1:0];return i.x==o.x?i.y>o.y?r.Position.Top:r.Position.Bottom:i.x>o.x?r.Position.Left:r.Position.Right},e.prototype.getArrowClassName=function(e){var t="dx-gantt-arrow";switch(e){case r.Position.Left:t+=" dx-gantt-LA";break;case r.Position.Top:t+=" dx-gantt-TA";break;case r.Position.Right:t+=" dx-gantt-RA";break;case r.Position.Bottom:t+=" dx-gantt-BA";break}return t},e.prototype.getArrowPoint=function(e,t){return new l.Point(this.getArrowX(e,t),this.getArrowY(e,t))},e.prototype.getArrowX=function(e,t){switch(t){case r.Position.Left:return e.position.x-this.arrowSize.width/2;case r.Position.Right:return e.position.x+e.size.width-this.arrowSize.width/2;case r.Position.Top:case r.Position.Bottom:return e.position.x-(this.arrowSize.width-this.lineThickness)/2}},e.prototype.getArrowY=function(e,t){switch(t){case r.Position.Top:return e.position.y-this.arrowSize.height/2;case r.Position.Bottom:return e.position.y+e.size.height-this.arrowSize.height/2;case r.Position.Left:case r.Position.Right:return e.position.y-(this.arrowSize.height-this.lineThickness)/2}},e.prototype.getPosByDate=function(e){return this.getWidthByDateRange(this.range.start,e)},e.prototype.getWidthByDateRange=function(e,t){return this.getRangeTickCount(e,t)*this.tickSize.width},e.prototype.getRangeTickCount=function(e,t){return this.viewType==r.ViewType.Months?this.getRangeTickCountInMonthsViewType(e,t):this.viewType==r.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(e,t):(t.getTime()-e.getTime())/this.tickTimeSpan},e.prototype.getRangeTickCountInMonthsViewType=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth(),1),o=s.DateUtils.getOffsetInMonths(n,i),r=t.getTime()-i.getTime(),a=e.getTime()-n.getTime();return o+(r-a)/s.DateUtils.msPerMonth},e.prototype.getRangeTickCountInQuarterViewType=function(e,t){var n=new Date(e.getFullYear(),3*Math.floor(e.getMonth()/3),1),i=new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3),1),o=s.DateUtils.getOffsetInQuarters(n,i),r=t.getTime()-i.getTime(),a=e.getTime()-n.getTime();return o+(r-a)/(3*s.DateUtils.msPerMonth)},e.prototype.getDateByPos=function(e){var t=e/this.tickSize.width,n=new Date(this.range.start);if(this.viewType==r.ViewType.Months||this.viewType==r.ViewType.Quarter){var i=Math.floor(t);n=new Date(n.setMonth(n.getMonth()+(this.viewType==r.ViewType.Months?i:3*i))),t=(e-this.getPosByDate(n))/this.tickSize.width}var o=t*this.tickTimeSpan+n.getTime(),a=new Date;return a.setTime(o),a},e.prototype.getTotalTickCount=function(){return this.getRangeTickCount(this.range.start,this.range.end)},e.prototype.getConnectorPoints=function(e,t,n){switch(n){case d.DependencyType.FS:return this.getFinishToStartConnectorPoints(e,t);case d.DependencyType.SF:return this.getStartToFinishConnectorPoints(e,t);case d.DependencyType.SS:return this.getStartToStartConnectorPoints(e,t);case d.DependencyType.FF:return this.getFinishToFinishConnectorPoints(e,t);default:return new Array}},e.prototype.getFinishToStartConnectorPoints=function(e,t){return e<t?this.getTask(e).end<=this.getTask(t).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(e,t,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(e,t,!1):this.getTask(e).end<=this.getTask(t).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(t,e,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(t,e,!0)},e.prototype.getFinishToFinishConnectorPoints=function(e,t){return e<t?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(e,t):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(t,e)},e.prototype.getStartToStartConnectorPoints=function(e,t){return e<t?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(e,t):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(t,e)},e.prototype.getStartToFinishConnectorPoints=function(e,t){return e<t?this.getTask(e).start>=this.getTask(t).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(e,t,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(e,t,!1):this.getTask(e).start>=this.getTask(t).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(t,e,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(t,e,!0)},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),a=this.getTaskRightCenter(o,e),s=this.getTask(t).isMilestone(),d=this.getTaskTopCenter(r,t),u=n?this.getTaskWidth(t)-this.minLineLength:this.minLineLength;return i.push(new l.Point(Math.floor(a.x),Math.floor(a.y))),i.push(new l.Point(Math.floor(s?d.x:r.x+u),Math.floor(i[0].y))),i.push(new l.Point(Math.floor(i[1].x),Math.floor(d.y))),i},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(e,t){var n=new Array,i=this.getTaskPoint(e),o=this.getTaskPoint(t),r=this.getTaskRightCenter(i,e),a=this.getTaskRightCenter(o,t);return n.push(new l.Point(Math.floor(r.x),Math.floor(r.y))),n.push(new l.Point(Math.floor(Math.max(r.x,a.x)+this.minLineLength),Math.floor(n[0].y))),n.push(new l.Point(Math.floor(n[1].x),Math.floor(a.y))),n.push(new l.Point(Math.floor(a.x),Math.floor(a.y))),n},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),a=this.getTaskRightCenter(o,e),s=this.getTaskBottomCenter(o,e),d=this.getTaskLeftCenter(r,t),u=this.getTaskTopCenter(r,t);return i.push(new l.Point(Math.floor(a.x),Math.floor(a.y))),i.push(new l.Point(Math.floor(i[0].x+this.minLineLength),Math.floor(i[0].y))),i.push(new l.Point(Math.floor(i[1].x),Math.floor(n?s.y+this.minConnectorSpaceFromTask:u.y-this.minConnectorSpaceFromTask))),i.push(new l.Point(Math.floor(d.x-this.minLineLength),Math.floor(i[2].y))),i.push(new l.Point(Math.floor(i[3].x),Math.floor(d.y))),i.push(new l.Point(Math.floor(d.x),Math.floor(d.y))),i},e.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),a=this.getTaskBottomCenter(o,e),s=this.getTask(e).isMilestone(),d=this.getTaskRightCenter(r,t),u=n?this.getTaskWidth(e)-this.minLineLength:this.minLineLength;return i.push(new l.Point(Math.floor(s?a.x:o.x+u),Math.floor(a.y))),i.push(new l.Point(Math.floor(i[0].x),Math.floor(d.y))),i.push(new l.Point(Math.floor(d.x),Math.floor(d.y))),i},e.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),a=this.getTaskBottomCenter(o,e),s=this.getTask(e).isMilestone(),d=this.getTaskLeftCenter(r,t),u=n?this.getTaskWidth(e)-this.minLineLength:this.minLineLength;return i.push(new l.Point(Math.floor(s?a.x:o.x+u),Math.floor(a.y))),i.push(new l.Point(Math.floor(i[0].x),Math.floor(d.y))),i.push(new l.Point(Math.floor(d.x),Math.floor(d.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),a=this.getTaskLeftCenter(o,e),s=this.getTaskTopCenter(r,t),d=this.getTask(t).isMilestone(),u=n?this.getTaskWidth(t)-this.minLineLength:this.minLineLength;return i.push(new l.Point(Math.floor(a.x),Math.floor(a.y))),i.push(new l.Point(Math.floor(d?s.x:r.x+u),Math.floor(i[0].y))),i.push(new l.Point(Math.floor(i[1].x),Math.floor(s.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),a=this.getTaskLeftCenter(o,e),s=this.getTaskBottomCenter(o,e),d=this.getTaskRightCenter(r,t),u=this.getTaskTopCenter(r,t);return i.push(new l.Point(Math.floor(a.x),a.y)),i.push(new l.Point(Math.floor(i[0].x-this.minLineLength),i[0].y)),i.push(new l.Point(Math.floor(i[1].x),Math.floor(n?s.y+this.minConnectorSpaceFromTask:u.y-this.minConnectorSpaceFromTask))),i.push(new l.Point(Math.floor(d.x+this.minLineLength),Math.floor(i[2].y))),i.push(new l.Point(Math.floor(i[3].x),Math.floor(d.y))),i.push(new l.Point(Math.floor(d.x),Math.floor(d.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(e,t){var n=new Array,i=this.getTaskPoint(e),o=this.getTaskPoint(t),r=this.getTaskLeftCenter(i,e),a=this.getTaskLeftCenter(o,t);return n.push(new l.Point(Math.floor(r.x),Math.floor(r.y))),n.push(new l.Point(Math.floor(Math.min(r.x,a.x)-this.minLineLength),Math.floor(n[0].y))),n.push(new l.Point(Math.floor(n[1].x),Math.floor(a.y))),n.push(new l.Point(Math.floor(a.x),Math.floor(a.y))),n},e.prototype.getTaskLeftCenter=function(e,t){return new l.Point(e.x-this.getTaskEdgeCorrection(t),e.y+this.getTaskHeight(t)/2)},e.prototype.getTaskRightCenter=function(e,t){return new l.Point(e.x+this.getTaskWidth(t)+this.getTaskEdgeCorrection(t),e.y+this.getTaskHeight(t)/2)},e.prototype.getTaskTopCenter=function(e,t){return new l.Point(e.x+this.getTaskWidth(t)/2,e.y-this.getTaskEdgeCorrection(t))},e.prototype.getTaskBottomCenter=function(e,t){return new l.Point(e.x+this.getTaskWidth(t)/2,e.y+this.getTaskHeight(t)+this.getTaskEdgeCorrection(t))},e.prototype.getTaskEdgeCorrection=function(e){var t=this.viewModel.items[e].task.isMilestone();return t?this.getTaskHeight(e)*(Math.sqrt(2)-1)/2:0},e.prototype.getRenderedRowColumnIndices=function(e,t){for(var n=t?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,i=t?this.tickSize.height:this.tickSize.width,o=t?this.verticalTickCount:this.horizontalTickCount,r=this.getFirstVisibleGridCellIndex(e,i),a=this.getLastVisibleGridCellIndex(e,i,n,o),s=new Array,l=r;l<=a;l++)s.push(l);return s},e.prototype.getRenderedScaleItemIndices=function(e,t){for(var n=this.getScaleItemColSpan(e),i=Math.floor(t[0]/n),o=Math.floor(t[t.length-1]/n),r=new Array,a=i;a<=o;a++)r.push(a);return r},e.prototype.getFirstVisibleGridCellIndex=function(e,t){var n=Math.floor(e/t);return n=Math.max(n-10,0),n},e.prototype.getLastVisibleGridCellIndex=function(e,t,n,i){var o=Math.floor((e+n)/t);return o=Math.min(o+10,i-1),o},e.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var e=0;e<this.viewModel.items.length;e++)for(var t=0;t<this.viewModel.items[e].dependencies.length;t++)this.createConnecotInfo(this.viewModel.items[e].dependencies[t],this.viewModel.items[e].visibleIndex)},e.prototype.updateTileToConnectorLinesMap=function(e){this.tileToDependencyMap.forEach((function(t,n,i){i[n]=t.filter((function(t){return t.attr["dependency-id"]!=e}))}));var t=[],n=this.viewModel.items.filter((function(t){return t.dependencies.filter((function(t){return t.id==e})).length>0}))[0];if(n){var i=n.dependencies.filter((function(t){return t.id===e}))[0];t=this.createConnecotInfo(i,n.visibleIndex)}return t},e.prototype.createConnecotInfo=function(e,t){var n=this,i=e.predecessor.visibleIndex,o=e.type,r=e.id,a=this.getConnectorInfo(r,i,t,o);return a.forEach((function(e){n.addElementInfoToTileMap(e,n.tileToDependencyMap,!0)})),a},e.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var e=0;e<this.viewModel.noWorkingIntervals.length;e++){var t=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[e]);if(t){var n=this.getNoWorkingIntervalInfo(t);this.addElementInfoToTileMap(n,this.tileToNoWorkingIntervalsMap,!1)}}},e.prototype.getAdjustedNoWorkingInterval=function(e){return e.end.getTime()-e.start.getTime()<this.tickTimeSpan-1?null:new o.DateRange(s.DateUtils.getNearestScaleTickDate(e.start,this.range,this.tickTimeSpan,this.viewType),s.DateUtils.getNearestScaleTickDate(e.end,this.range,this.tickTimeSpan,this.viewType))},e.prototype.addElementInfoToTileMap=function(e,t,n){for(var i=n?e.position.y:e.position.x,o=n?e.size.height:e.size.width,r=2*(n?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width),a=Math.floor(i/r),s=Math.floor((i+o)/r),l=a;l<=s;l++)t[l]||(t[l]=new Array),t[l].push(e)},e.prototype.getRenderedConnectorLines=function(e){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,e)},e.prototype.getRenderedNoWorkingIntervals=function(e){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,e)},e.prototype.getRenderedStripLines=function(e){var t=new Array,n=e.stripLines.map((function(e){return e.clone()}));e.showCurrentTime&&n.push(new u.StripLine(new Date,null,e.currentTimeTitle,e.currentTimeCssClass,!0));for(var i=0,o=void 0;o=n[i];i++){var r=s.DateUtils.parse(o.start),l=o.end?s.DateUtils.parse(o.end):null;if(r>=this.range.start&&r<=this.range.end||l&&l>=this.range.start&&l<=this.range.end){var d=r>this.range.start?r:this.range.start,c=new a.GridElementInfo;c.size.height=this.getVerticalGridLineHeight(),c.position.x=this.getPosByDate(d),c.size.width=l?this.getWidthByDateRange(d,l<this.range.end?l:this.range.end):0,c.className=o.isCurrent?"dx-gantt-tc":l?"dx-gantt-ti":"dx-gantt-tm",c.className+=o.cssClass?" "+o.cssClass:"",c.attr.title=o.title,t.push(c)}}return t},e.prototype.getElementsInRenderedTiles=function(e,t,n){var i=new Array,o=t?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(o>0)for(var r=Math.floor(n/(2*o)),a=Math.floor((n+o)/(2*o)),s=r;s<=a;s++)e[s]&&e[s].forEach((function(e){-1==i.indexOf(e)&&i.push(e)}));return i},e.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},e}();t.GridLayoutCalculator=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskPropertyManipulator=t.TaskPropertiesManipulator=t.BaseManipulator=void 0;var i=n(0),o=n(43),r=n(9),a=function(){function e(e,t){this.viewModel=e,this.dispatcher=t}return e.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},e}();t.BaseManipulator=a;var s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.title=new d(t,n),i.description=new u(t,n),i.progress=new c(t,n),i.start=new h(t,n),i.end=new p(t,n),i.move=new f(t,n),i.color=new g(t,n),i}return i.__extends(t,e),t}(a);t.TaskPropertiesManipulator=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.setValue=function(e,t){var n=this.viewModel.tasks.getItemById(e),i=new o.HistoryItemState(e,this.getPropertyValue(n));this.setPropertyValue(n,t);var r=this.viewModel.findItem(e);return r&&this.viewModel.owner.recreateTaskElement(r.visibleIndex),i},t.prototype.restoreValue=function(e){if(e){var t=this.viewModel.tasks.getItemById(e.id);this.setPropertyValue(t,e.value);var n=this.viewModel.findItem(e.id);n&&this.viewModel.owner.recreateTaskElement(n.visibleIndex)}},t}(a);t.TaskPropertyManipulator=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.title},t.prototype.setPropertyValue=function(e,t){e.title=t,this.dispatcher.notifyTaskTitleChanged(e.id,t,this.getErrorCallback())},t}(l),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.description},t.prototype.setPropertyValue=function(e,t){e.description=t,this.dispatcher.notifyTaskDescriptionChanged(e.id,t,this.getErrorCallback())},t}(l),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.progress},t.prototype.setPropertyValue=function(e,t){t=t<0?0:t>100?100:t,e.progress=t,this.dispatcher.notifyTaskProgressChanged(e.id,t,this.getErrorCallback())},t}(l),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.start},t.prototype.setPropertyValue=function(e,t){e.start=t,this.dispatcher.notifyTaskStartChanged(e.id,t,this.getErrorCallback())},t}(l),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.end},t.prototype.setPropertyValue=function(e,t){e.end=t,this.dispatcher.notifyTaskEndChanged(e.id,t,this.getErrorCallback())},t}(l),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return new r.DateRange(e.start,e.end)},t.prototype.setPropertyValue=function(e,t){e.start=t.start,e.end=t.end,this.dispatcher.notifyTaskStartChanged(e.id,t.start,this.getErrorCallback()),this.dispatcher.notifyTaskEndChanged(e.id,t.end,this.getErrorCallback())},t}(l),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.color},t.prototype.setPropertyValue=function(e,t){e.color=t,this.dispatcher.notifyTaskColorChanged(e.id,t,this.getErrorCallback())},t}(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerStateBase=void 0;var i=n(4),o=n(3),r=function(){function e(e){this.handler=e}return e.prototype.start=function(){},e.prototype.finish=function(){},e.prototype.getRelativePos=function(e){var t=o.DomUtils.getAbsolutePositionX(this.handler.control.taskArea),n=o.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);return new i.Point(e.x-t,e.y-n)},e}();t.HandlerStateBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseArguments=void 0;var i=function(){function e(e){this.cancel=!1,this.values={},this.key=e}return e}();t.BaseArguments=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveDependencyHistoryItem=t.InsertDependencyHistoryItem=void 0;var i=n(0),o=n(11),r=function(e){function t(t,n,i,o){var r=e.call(this,t)||this;return r.predecessorId=n,r.successorId=i,r.type=o,r}return i.__extends(t,e),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.dependency?this.dependency.internalId:null)},t.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.dependency.internalId)},t}(o.HistoryItem);t.InsertDependencyHistoryItem=r;var a=function(e){function t(t,n){var i=e.call(this,t)||this;return i.dependencyId=n,i}return i.__extends(t,e),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},t.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},t}(o.HistoryItem);t.RemoveDependencyHistoryItem=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeassignResourceHistoryItem=t.AssignResourceHistoryItem=t.RemoveResourceHistoryItem=t.CreateResourceHistoryItem=void 0;var i=n(0),o=n(11),r=function(e){function t(t,n,i){void 0===i&&(i="");var o=e.call(this,t)||this;return o.text=n,o.color=i,o}return i.__extends(t,e),t.prototype.redo=function(){this.resource=this.modelManipulator.resource.create(this.text,this.color,this.resource?this.resource.internalId:null)},t.prototype.undo=function(){this.modelManipulator.resource.remove(this.resource.internalId)},t}(o.HistoryItem);t.CreateResourceHistoryItem=r;var a=function(e){function t(t,n){var i=e.call(this)||this;return i.modelManipulator=t,i.resourceId=n,i}return i.__extends(t,e),t.prototype.redo=function(){e.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},t.prototype.undo=function(){var t=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){t.resource.color&&t.modelManipulator.resource.properties.color.setValue(t.resource.internalId,t.resource.color),e.prototype.undo.call(t)}))},t.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){})),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),e.prototype.undo.call(this)},t}(o.CompositionHistoryItem);t.RemoveResourceHistoryItem=a;var s=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.resourceId=n,o.taskId=i,o}return i.__extends(t,e),t.prototype.redo=function(){this.assignment=this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.assignment?this.assignment.internalId:null)},t.prototype.undo=function(){this.modelManipulator.resource.deassig(this.assignment.internalId)},t}(o.HistoryItem);t.AssignResourceHistoryItem=s;var l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.assignmentId=n,i}return i.__extends(t,e),t.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},t.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},t}(o.HistoryItem);t.DeassignResourceHistoryItem=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmationDialogParameters=t.ConfirmationDialog=t.ConfirmationType=void 0;var i=n(0),o=n(24);(function(e){e[e["TaskDelete"]=0]="TaskDelete",e[e["DependencyDelete"]=1]="DependencyDelete",e[e["ResourcesDelete"]=2]="ResourcesDelete"})(t.ConfirmationType||(t.ConfirmationType={}));var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.applyParameters=function(e,t){return this.history.beginTransaction(),t.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},t.prototype.createParameters=function(e){return e},t.prototype.getDialogName=function(){return"Confirmation"},t}(o.DialogBase);t.ConfirmationDialog=r;var a=function(e){function t(t,n){var i=e.call(this)||this;return i.type=t,i.callback=n,i}return i.__extends(t,e),t.prototype.clone=function(){var e=new t(this.type,this.callback);return e.message=this.message,e},t}(o.DialogParametersBase);t.ConfirmationDialogParameters=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogParametersBase=t.DialogBase=void 0;var i=n(0),o=n(7),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.executeInternal=function(e){var t=this,n=this.createParameters(e),i=n.clone();return!!this.onBeforeDialogShow(n)&&(this.control.ganttOwner.showDialog(this.getDialogName(),n,(function(e){e&&t.applyParameters(e,i)}),(function(){t.afterClosing()})),!0)},t.prototype.onBeforeDialogShow=function(e){return!0},t.prototype.applyParameters=function(e,t){return!1},t.prototype.afterClosing=function(){},t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t}(o.CommandBase);t.DialogBase=r;var a=function(){function e(){}return e}();t.DialogParametersBase=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskColorHistoryItem=t.TaskMoveHistoryItem=t.TaskEndHistoryItem=t.TaskStartHistoryItem=t.TaskProgressHistoryItem=t.TaskDescriptionHistoryItem=t.TaskTitleHistoryItem=t.TaskPropertiesHistoryItemBase=void 0;var i=n(0),o=n(11),r=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.taskId=n,o.newValue=i,o}return i.__extends(t,e),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.taskId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},t}(o.HistoryItem);t.TaskPropertiesHistoryItemBase=r;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.title},t}(r);t.TaskTitleHistoryItem=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.description},t}(r);t.TaskDescriptionHistoryItem=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.progress},t}(r);t.TaskProgressHistoryItem=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.start},t}(r);t.TaskStartHistoryItem=d;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.end},t}(r);t.TaskEndHistoryItem=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.move},t}(r);t.TaskMoveHistoryItem=c;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.color},t}(r);t.TaskColorHistoryItem=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceCollection=void 0;var i=n(0),o=n(12),r=n(56),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.Resource},t}(o.CollectionBase);t.ResourceCollection=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0;var i=function(){function e(){}return e.isAlpha=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},e.isDigit=function(e){return e>="0"&&e<="9"},e.stringHashCode=function(e){var t=0;if(0===e.length)return t;for(var n=e.length,i=0;i<n;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t},e.endsAt=function(e,t){var n=e.length-1,i=t.length-1,o=n-i;if(o<0)return!1;for(;n>=o;n--,i--)if(e[n]!==t[i])return!1;return!0},e.startsAt=function(e,t){return e.substr(0,t.length)===t},e.stringInLowerCase=function(e){return e.toLowerCase()===e},e.stringInUpperCase=function(e){return e.toUpperCase()===e},e.atLeastOneSymbolInUpperCase=function(t){for(var n=0,i=void 0;i=t[n];n++)if(e.stringInUpperCase(i)&&!e.stringInLowerCase(i))return!0;return!1},e.getSymbolFromEnd=function(e,t){return e[e.length-t]},e.trim=function(t,n){if(void 0===n)return e.trimInternal(t,!0,!0);var i=n.join("");return t.replace(new RegExp("(^["+i+"]*)|(["+i+"]*$)","g"),"")},e.trimStart=function(t,n){if(void 0===n)return e.trimInternal(t,!0,!1);var i=n.join("");return t.replace(new RegExp("^["+i+"]*","g"),"")},e.trimEnd=function(t,n){if(void 0===n)return e.trimInternal(t,!1,!0);var i=n.join("");return t.replace(new RegExp("["+i+"]*$","g"),"")},e.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},e.repeat=function(e,t){return new Array(t<=0?0:t+1).join(e)},e.isNullOrEmpty=function(e){return!e||!e.length},e.padLeft=function(t,n,i){return e.repeat(i,Math.max(0,n-t.length))+t},e.trimInternal=function(e,t,n){var i=e.length;if(!i)return e;if(i<764833){var o=e;return t&&(o=o.replace(/^\s+/,"")),n&&(o=o.replace(/\s+$/,"")),o}var r=0;if(n)while(i>0&&/\s/.test(e[i-1]))i--;if(t&&i>0)while(r<i&&/\s/.test(e[r]))r++;return e.substring(r,i)},e}();t.StringUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Size=void 0;var i=function(){function e(e,t){this.width=e,this.height=t}return e.empty=function(){return new e(0,0)},e.fromNumber=function(t){return new e(t,t)},e.initByCommonAction=function(t){var n=function(e){return e.width},i=function(e){return e.height};return new e(t(n,i),t(i,n))},e.prototype.isEmpty=function(){return 0===this.width&&0===this.height},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},e.prototype.offset=function(e,t){return this.width=this.width+e,this.height=this.height+t,this},e.prototype.multiply=function(e,t){return this.width*=e,this.height*=t,this},e.prototype.equals=function(e){return this.width===e.width&&this.height===e.height},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.copyFrom=function(e){this.width=e.width,this.height=e.height},e.prototype.applyConverter=function(e){return this.width=e(this.width),this.height=e(this.height),this},e.equals=function(e,t){return e.width===t.width&&e.height===t.height},e}();t.Size=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerStateBase=void 0;var i=n(0),o=n(19),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDoubleClick=function(e){},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseMove=function(e){},t.prototype.onMouseWheel=function(e){},t}(o.HandlerStateBase);t.MouseHandlerStateBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerDragBaseState=void 0;var i=n(0),o=n(4),r=n(6),a=n(29),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDown=function(e){this.currentPosition=new o.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e)),null!=this.handler.control.taskEditController.dependencyId&&this.handler.control.selectDependency(null)},t.prototype.onMouseUp=function(e){this.onMouseUpInternal(e),this.handler.switchToDefaultState()},t.prototype.onMouseMove=function(e){e.preventDefault();var t=new o.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e));this.onMouseMoveInternal(t),this.currentPosition=t},t.prototype.onMouseUpInternal=function(e){},t.prototype.onMouseMoveInternal=function(e){},t}(a.MouseHandlerStateBase);t.MouseHandlerDragBaseState=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerDragBaseState=void 0;var i=n(0),o=n(46),r=n(4),a=n(15),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){this.currentPosition=new r.Point(a.TouchUtils.getEventX(e),a.TouchUtils.getEventY(e)),null!=this.handler.control.taskEditController.dependencyId&&this.handler.control.selectDependency(null)},t.prototype.onTouchEnd=function(e){this.onTouchEndInternal(e),this.handler.switchToDefaultState()},t.prototype.onTouchMove=function(e){e.preventDefault();var t=new r.Point(a.TouchUtils.getEventX(e),a.TouchUtils.getEventY(e));this.onTouchMoveInternal(t),this.currentPosition=t},t.prototype.onTouchEndInternal=function(e){},t.prototype.onTouchMoveInternal=function(e){},t}(o.TouchHandlerStateBase);t.TouchHandlerDragBaseState=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceUnassigningArguments=t.ResourceAssigningArguments=void 0;var i=n(0),o=n(20),r=function(e){function t(t,n){var i=e.call(this,null)||this;return i.values={resourceId:t,taskId:n},i}return i.__extends(t,e),Object.defineProperty(t.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),t}(o.BaseArguments);t.ResourceAssigningArguments=r;var a=function(e){function t(t){var n=e.call(this,t.internalId)||this;return n.values=t,n}return i.__extends(t,e),t}(o.BaseArguments);t.ResourceUnassigningArguments=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MathUtils=void 0;var i=n(57),o=function(){function e(){}return e.round=function(t,n){void 0===n&&(n=0);var i=e.powFactor[n];return Math.round(t*i)/i},e.numberCloseTo=function(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n},e.restrictValue=function(e,t,n){return n<t&&(n=t),e>n?n:e<t?t:e},e.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}))},e.powFactor=i.ListUtils.initByCallback(20,(function(e){return Math.pow(10,e)})),e.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],e}();t.MathUtils=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var i=function(){function e(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=e,this.min=t,this.sec=n,this.msec=i}return Object.defineProperty(e.prototype,"hour",{get:function(){return this._hour},set:function(e){e>=0&&e<24&&(this._hour=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){e>=0&&e<60&&(this._min=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sec",{get:function(){return this._sec},set:function(e){e>=0&&e<60&&(this._sec=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"msec",{get:function(){return this._msec},set:function(e){e>=0&&e<1e3&&(this._msec=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),e.prototype.updateFullMilleconds=function(){var e=60*this._hour+this._min,t=60*e+this._sec;this._fullmsec=1e3*t+this._msec},e.prototype.getTimeInMilleconds=function(){return this._fullmsec},e}();t.Time=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeRange=void 0;var i=n(2),o=function(){function e(e,t){var n=i.DateTimeUtils.caclTimeDifference(e,t);n>=0?(this._start=e,this._end=t):(this._start=t,this._end=e)}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(e){e&&i.DateTimeUtils.caclTimeDifference(e,this._end)>=0&&(this._start=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(e){e&&i.DateTimeUtils.caclTimeDifference(this._start,e)>=0&&(this._end=e)},enumerable:!1,configurable:!0}),e.prototype.isTimeInRange=function(e){return i.DateTimeUtils.caclTimeDifference(this._start,e)>=0&&i.DateTimeUtils.caclTimeDifference(e,this._end)>=0},e.prototype.hasIntersect=function(e){return this.isTimeInRange(e.start)||this.isTimeInRange(e.end)||e.isTimeInRange(this.start)||e.isTimeInRange(this.end)},e.prototype.concatWith=function(e){return!!this.hasIntersect(e)&&(this.start=i.DateTimeUtils.getMinTime(this.start,e.start),this.end=i.DateTimeUtils.getMaxTime(this.end,e.end),!0)},e}();t.TimeRange=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DayOfWeekMonthlyOccurrence=void 0,function(e){e[e["First"]=0]="First",e[e["Second"]=1]="Second",e[e["Third"]=2]="Third",e[e["Forth"]=3]="Forth",e[e["Last"]=4]="Last"}(t.DayOfWeekMonthlyOccurrence||(t.DayOfWeekMonthlyOccurrence={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecurrenceFactory=void 0;var i=n(1),o=n(38),r=n(72),a=n(73),s=n(75),l=function(){function e(){}return e.createRecurrenceByType=function(e){if(!e)return null;var t=e.toLowerCase();switch(t){case"daily":return new o.Daily;case"weekly":return new r.Weekly;case"monthly":return new a.Monthly;case"yearly":return new s.Yearly}return null},e.createRecurrenceFromObject=function(e){if(!e)return null;var t=this.createRecurrenceByType(e.type);return t&&t.assignFromObject(e),t},e.getEnumValue=function(e,t){if(!i.isDefined(e[t]))return null;var n=parseInt(t);return isNaN(n)?e[t]:n},e}();t.RecurrenceFactory=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Daily=void 0;var i=n(0),o=n(16),r=n(2),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return!0},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getDaysBetween(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=this.interval;return this.isRecurrencePoint(e)||(t-=r.DateTimeUtils.getDaysBetween(this.start,e)%this.interval),r.DateTimeUtils.addDays(e,t)},t.prototype.calculateNearestPoint=function(e){return r.DateTimeUtils.addDays(e,1)},t}(o.RecurrenceBase);t.Daily=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElementTextHelperCultureInfo=t.ElementTextHelper=t.DateUtils=void 0;var i=n(14),o=n(3),r=function(){function e(){}return e.getDaysInMonth=function(e,t){var n=new Date(t,e+1,0);return n.getDate()},e.getOffsetInMonths=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},e.getOffsetInQuarters=function(e,t){return 4*(t.getFullYear()-e.getFullYear())+Math.floor(t.getMonth()/3)-Math.floor(e.getMonth()/3)},e.getNearestScaleTickDate=function(e,t,n,i){var o=new Date,r=t.start.getTime(),a=t.end.getTime();if(o.setTime(e.getTime()),e.getTime()<r)o.setTime(r);else if(e.getTime()>a)o.setTime(a);else if(this.needCorrectDate(e,r,n,i)){var s=this.getNearestLeftTickTime(e,r,n,i),l=this.getNextTickTime(s,n,i);Math.abs(e.getTime()-s)>Math.abs(e.getTime()-l)?o.setTime(l):o.setTime(s)}return o},e.needCorrectDate=function(e,t,n,o){return o==i.ViewType.Months?e.getTime()!==new Date(e.getFullYear(),e.getMonth(),1).getTime():(e.getTime()-t)%n!==0},e.getNearestLeftTickTime=function(e,t,n,o){if(o==i.ViewType.Months)return new Date(e.getFullYear(),e.getMonth(),1).getTime();var r=Math.floor((e.getTime()-t)/n);return t+r*n},e.getNextTickTime=function(e,t,n){if(n==i.ViewType.Months){var o=new Date;return o.setTime(e),o.setMonth(o.getMonth()+1),o.getTime()}return e+t},e.adjustStartDateByViewType=function(e,t,n){switch(void 0===n&&(n=0),t){case i.ViewType.TenMinutes:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case i.ViewType.SixHours:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate());case i.ViewType.Days:case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()+n);case i.ViewType.Months:case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear(),0,1);default:return new Date}},e.adjustEndDateByViewType=function(e,t,n){switch(void 0===n&&(n=0),t){case i.ViewType.TenMinutes:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+1);case i.ViewType.SixHours:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);case i.ViewType.Days:case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()+7-e.getDay()+n);case i.ViewType.Months:case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear()+1,0,1);default:return new Date}},e.roundStartDate=function(e,t){switch(t){case i.ViewType.TenMinutes:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()-1);case i.ViewType.SixHours:case i.ViewType.Days:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-1);case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case i.ViewType.Months:return new Date(e.getFullYear(),e.getMonth()-1);case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear()-1,0,1);default:return new Date}},e.getTickTimeSpan=function(t){switch(t){case i.ViewType.TenMinutes:return e.msPerHour/6;case i.ViewType.Hours:return e.msPerHour;case i.ViewType.SixHours:return 6*e.msPerHour;case i.ViewType.Days:return e.msPerDay;case i.ViewType.Weeks:return e.msPerWeek;case i.ViewType.Months:return e.msPerMonth;case i.ViewType.Quarter:return 3*e.msPerMonth;case i.ViewType.Years:return 12*e.msPerMonth}},e.parse=function(e){return"function"===typeof e?new Date(e()):new Date(e)},e.getTimezoneOffsetDiff=function(e,t){return t.getTimezoneOffset()-e.getTimezoneOffset()},e.msPerHour=36e5,e.msPerDay=24*e.msPerHour,e.msPerWeek=7*e.msPerDay,e.msPerMonth=30*e.msPerDay,e.ViewTypeToScaleMap=l(),e}();t.DateUtils=r;var a=function(){function e(e){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var t=document.createElement("canvas");this.textMeasureContext=t.getContext("2d"),this.cultureInfo=e}return e.prototype.setFont=function(e){var t=o.DomUtils.getCurrentStyle(e),n=t.font?t.font:t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+t.fontSize+" / "+t.lineHeight+" "+t.fontFamily;this.textMeasureContext.font=n},e.prototype.setSettings=function(e,t,n){this.startTime=e,this.viewType=t,this.modelItems=n},e.prototype.getScaleItemStartDate=function(e,t){var n=new Date(this.startTime);switch(t){case i.ViewType.TenMinutes:n.setTime(this.startTime+e*r.msPerHour/6);break;case i.ViewType.Hours:n.setTime(this.startTime+e*r.msPerHour);break;case i.ViewType.SixHours:n.setTime(this.startTime+e*r.msPerHour*6);break;case i.ViewType.Days:n.setTime(this.startTime+e*r.msPerDay);break;case i.ViewType.Weeks:n.setTime(this.startTime+e*r.msPerWeek);break;case i.ViewType.Months:n.setMonth(n.getMonth()+e);break;case i.ViewType.Quarter:n.setMonth(n.getMonth()+3*e);break;case i.ViewType.Years:n.setFullYear(n.getFullYear()+e);break;case i.ViewType.FiveYears:n.setFullYear(n.getFullYear()+5*e);break}return n=this.getScaleStartDateCorrectedWithDST(n),n},e.prototype.getScaleStartDateCorrectedWithDST=function(e){var t=r.getTimezoneOffsetDiff(new Date(this.startTime),e);return t>0?new Date(e.getTime()+6e4*t):e},e.prototype.getScaleItemText=function(e,t){var n=this.getScaleItemStartDate(e,t),o=this.viewType.valueOf()==t.valueOf();switch(t){case i.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(n);case i.ViewType.Hours:case i.ViewType.SixHours:return this.getHoursScaleItemText(n);case i.ViewType.Days:return this.getDaysScaleItemText(n,o);case i.ViewType.Weeks:return this.getWeeksScaleItemText(n,o);case i.ViewType.Months:return this.getMonthsScaleItemText(n,o);case i.ViewType.Quarter:return this.getQuarterScaleItemText(n,o);case i.ViewType.Years:return this.getYearsScaleItemText(n);case i.ViewType.FiveYears:return this.getFiveYearsScaleItemText(n)}},e.prototype.getTenMinutesScaleItemText=function(e){var t=e.getMinutes()+1;return(10*Math.ceil(t/10)).toString()},e.prototype.getThirtyMinutesScaleItemText=function(e){var t=e.getMinutes();return t<30?"30":"60"},e.prototype.getHoursScaleItemText=function(e){var t=e.getHours(),n=this.getHourDisplayText(t),i=t<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(n,i)},e.prototype.getDaysScaleItemText=function(e,t){return this.getDayTotalText(e,!0,t,t,!t)},e.prototype.getWeeksScaleItemText=function(e,t){var n=new Date(e.getTime()+r.msPerWeek-r.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(e,t,!0,t,!t),this.getDayTotalText(n,t,!0,t,!t))},e.prototype.getMonthsScaleItemText=function(e,t){var n=this.getMonthNames(),i=t?"":e.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[e.getMonth()],i)},e.prototype.getQuarterScaleItemText=function(e,t){var n=this.getQuarterNames(),i=t?"":e.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[Math.floor(e.getMonth()/3)],i)},e.prototype.getYearsScaleItemText=function(e){return e.getFullYear().toString()},e.prototype.getFiveYearsScaleItemText=function(e){return e.getFullYear().toString()+" - "+(e.getFullYear()+4).toString()},e.prototype.getHourDisplayText=function(e){return this.hasAmPm()?(0==e?12:e<=12?e:e-12).toString():e<10?"0"+e:e.toString()},e.prototype.getDayTotalText=function(e,t,n,i,o){var r=i?this.getAbbrMonthNames():this.getMonthNames(),a=n?this.getAbbrDayNames():this.getDayNames(),s=t?a[e.getDay()]:"",l=e.getDate(),d=r[e.getMonth()],u=o?e.getFullYear().toString():"";return this.getDayTotalTextCore(s,l.toString(),d,u)},e.prototype.getTaskText=function(e){var t=this.modelItems[e];return t?t.task.title:""},e.prototype.getTaskVisibility=function(e){var t=this.modelItems[e];return!!t&&t.getVisible()},e.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},e.prototype.getScaleItemTextTemplate=function(e){switch(e){case i.ViewType.TenMinutes:return"00";case i.ViewType.Hours:case i.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case i.ViewType.Days:return this.getDayTextTemplate();case i.ViewType.Weeks:return this.getWeekTextTemplate();case i.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case i.ViewType.Quarter:return"Q4";case i.ViewType.Years:return"0000"}},e.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},e.prototype.getWeekTextTemplate=function(){var e=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(e,e)},e.prototype.getHoursScaleItemTextCore=function(e,t){return e+":00"+(this.hasAmPm()?" "+t:"")},e.prototype.getDayTotalTextCore=function(e,t,n,i){var o=e.length>0?e+", ":"";return o+=t+" "+n,o+=i.length>0?" "+i:"",o},e.prototype.getWeeksScaleItemTextCore=function(e,t){return e+" - "+t},e.prototype.getMonthsScaleItemTextCore=function(e,t){var n=e;return t.length>0&&(n+=" "+t),n},e.prototype.getLongestAbbrMonthName=function(){return null==this.longestAbbrMonthName&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},e.prototype.getLongestMonthName=function(){return null==this.longestMonthName&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},e.prototype.getLongestAbbrDayName=function(){return null==this.longestAbbrDayName&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},e.prototype.getLongestText=function(e){var t=this,n="",i=0;return e.forEach((function(e){var o=t.getTextWidth(e);o>i&&(i=o,n=e)})),n},e.prototype.getTextWidth=function(e){return Math.round(this.textMeasureContext.measureText(e).width)},e.prototype.getAmText=function(){return this.cultureInfo.amText},e.prototype.getPmText=function(){return this.cultureInfo.pmText},e.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},e.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},e.prototype.getDayNames=function(){return this.cultureInfo.dayNames},e.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},e.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},e}();t.ElementTextHelper=a;var s=function(){function e(){}return e}();function l(){var e={};return e[i.ViewType.TenMinutes]=i.ViewType.Hours,e[i.ViewType.Hours]=i.ViewType.Days,e[i.ViewType.SixHours]=i.ViewType.Days,e[i.ViewType.Days]=i.ViewType.Weeks,e[i.ViewType.Weeks]=i.ViewType.Months,e[i.ViewType.Months]=i.ViewType.Years,e[i.ViewType.Quarter]=i.ViewType.Years,e[i.ViewType.Years]=i.ViewType.FiveYears,e}t.ElementTextHelperCultureInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridElementInfo=void 0;var i=n(4),o=n(28),r=n(77),a=function(){function e(t,n,a){this.id=e.id++,this.position=new i.Point(void 0,void 0),this.size=new o.Size(0,0),this.margins=new r.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},t&&(this.className=t),n&&this.setPosition(n),a&&this.setSize(a)}return e.prototype.setSize=function(e){this.size.width=e.width,this.size.height=e.height},e.prototype.setPosition=function(e){this.position.x=e.x,this.position.y=e.y},e.prototype.assignToElement=function(e){this.assignPosition(e),this.assignSize(e),this.assignMargins(e),this.className&&(e.className=this.className)},e.prototype.assignPosition=function(e){null!=this.position.x&&(e.style.left=this.position.x+"px"),null!=this.position.y&&(e.style.top=this.position.y+"px")},e.prototype.assignSize=function(e){this.size.width&&(e.style.width=this.size.width+"px"),this.size.height&&(e.style.height=this.size.height+"px")},e.prototype.assignMargins=function(e){this.margins.left&&(e.style.marginLeft=this.margins.left+"px"),this.margins.top&&(e.style.marginTop=this.margins.top+"px"),this.margins.right&&(e.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(e.style.marginBottom=this.margins.bottom+"px")},e.prototype.setAttribute=function(e,t){this.attr[e]=t},e.id=0,e}();t.GridElementInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationSettings=t.StripLine=t.StripLineSettings=t.EditingSettings=t.Settings=void 0;var i=n(14),o=n(1),r=function(){function e(){this.viewType=void 0,this.taskTitlePosition=i.TaskTitlePosition.Inside,this.showResources=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new a,this.validation=new d,this.stripLines=new s}return e.parse=function(t){var n=new e;return t&&(o.isDefined(t.viewType)&&(n.viewType=t.viewType),o.isDefined(t.taskTitlePosition)&&(n.taskTitlePosition=t.taskTitlePosition),o.isDefined(t.showResources)&&(n.showResources=t.showResources),o.isDefined(t.areHorizontalBordersEnabled)&&(n.areHorizontalBordersEnabled=t.areHorizontalBordersEnabled),o.isDefined(t.areVerticalBordersEnabled)&&(n.areHorizontalBordersEnabled=t.areHorizontalBordersEnabled),o.isDefined(t.areAlternateRowsEnabled)&&(n.areAlternateRowsEnabled=t.areAlternateRowsEnabled),o.isDefined(t.allowSelectTask)&&(n.allowSelectTask=t.allowSelectTask),o.isDefined(t.firstDayOfWeek)&&(n.firstDayOfWeek=t.firstDayOfWeek),o.isDefined(t.editing)&&(n.editing=a.parse(t.editing)),o.isDefined(t.validation)&&(n.validation=d.parse(t.validation)),o.isDefined(t.stripLines)&&(n.stripLines=s.parse(t.stripLines)),o.isDefined(t.taskTooltipContentTemplate)&&(n.taskTooltipContentTemplate=t.taskTooltipContentTemplate)),n},e.prototype.equal=function(e){var t=!0;return t=t&&this.viewType===e.viewType,t=t&&this.taskTitlePosition===e.taskTitlePosition,t=t&&this.showResources===e.showResources,t=t&&this.areHorizontalBordersEnabled===e.areHorizontalBordersEnabled,t=t&&this.areAlternateRowsEnabled===e.areAlternateRowsEnabled,t=t&&this.allowSelectTask===e.allowSelectTask,t=t&&this.editing.equal(e.editing),t=t&&this.validation.equal(e.validation),t=t&&this.stripLines.equal(e.stripLines),t},e}();t.Settings=r;var a=function(){function e(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0}return e.parse=function(t){var n=new e;return t&&(o.isDefined(t.enabled)&&(n.enabled=t.enabled),o.isDefined(t.allowDependencyDelete)&&(n.allowDependencyDelete=t.allowDependencyDelete),o.isDefined(t.allowDependencyInsert)&&(n.allowDependencyInsert=t.allowDependencyInsert),o.isDefined(t.allowTaskDelete)&&(n.allowTaskDelete=t.allowTaskDelete),o.isDefined(t.allowTaskInsert)&&(n.allowTaskInsert=t.allowTaskInsert),o.isDefined(t.allowTaskUpdate)&&(n.allowTaskUpdate=t.allowTaskUpdate),o.isDefined(t.allowResourceDelete)&&(n.allowResourceDelete=t.allowResourceDelete),o.isDefined(t.allowResourceInsert)&&(n.allowResourceInsert=t.allowResourceInsert),o.isDefined(t.allowResourceUpdate)&&(n.allowResourceUpdate=t.allowResourceUpdate),o.isDefined(t.allowTaskResourceUpdate)&&(n.allowTaskResourceUpdate=t.allowTaskResourceUpdate)),n},e.prototype.equal=function(e){var t=!0;return t=t&&this.enabled===e.enabled,t=t&&this.allowDependencyDelete===e.allowDependencyDelete,t=t&&this.allowDependencyInsert===e.allowDependencyInsert,t=t&&this.allowTaskDelete===e.allowTaskDelete,t=t&&this.allowTaskInsert===e.allowTaskInsert,t=t&&this.allowTaskUpdate===e.allowTaskUpdate,t=t&&this.allowResourceDelete===e.allowResourceDelete,t=t&&this.allowResourceInsert===e.allowResourceInsert,t=t&&this.allowResourceUpdate===e.allowResourceUpdate,t=t&&this.allowTaskResourceUpdate===e.allowTaskResourceUpdate,t},e}();t.EditingSettings=a;var s=function(){function e(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return e.parse=function(t){var n=new e;if(t&&(o.isDefined(t.showCurrentTime)&&(n.showCurrentTime=t.showCurrentTime),o.isDefined(t.currentTimeUpdateInterval)&&(n.currentTimeUpdateInterval=t.currentTimeUpdateInterval),o.isDefined(t.currentTimeTitle)&&(n.currentTimeTitle=t.currentTimeTitle),o.isDefined(t.currentTimeCssClass)&&(n.currentTimeCssClass=t.currentTimeCssClass),o.isDefined(t.stripLines)))for(var i=0;i<t.stripLines.length;i++)n.stripLines.push(l.parse(t.stripLines[i]));return n},e.prototype.equal=function(e){var t=!0;if(t=t&&this.showCurrentTime==e.showCurrentTime,t=t&&this.currentTimeUpdateInterval==e.currentTimeUpdateInterval,t=t&&this.currentTimeTitle==e.currentTimeTitle,t=t&&this.currentTimeCssClass==e.currentTimeCssClass,t=t&&this.stripLines.length===e.stripLines.length,t)for(var n=0;n<e.stripLines.length;n++)t=t&&this.stripLines[n].equal(e.stripLines[n]);return t},e}();t.StripLineSettings=s;var l=function(){function e(e,t,n,i,o){this.isCurrent=!1,this.start=e,this.end=t,this.title=n,this.cssClass=i,this.isCurrent=o}return e.parse=function(t){var n=new e;return t&&(o.isDefined(t.start)&&(n.start=t.start),o.isDefined(t.end)&&(n.end=t.end),o.isDefined(t.title)&&(n.title=t.title),o.isDefined(t.cssClass)&&(n.cssClass=t.cssClass)),n},e.prototype.clone=function(){return new e(this.start,this.end,this.title,this.cssClass,this.isCurrent)},e.prototype.equal=function(e){var t=!0;return t=t&&this.start==e.start,t=t&&this.end==e.end,t=t&&this.title==e.title,t=t&&this.cssClass==e.cssClass,t},e}();t.StripLine=l;var d=function(){function e(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1}return e.parse=function(t){var n=new e;return t&&(o.isDefined(t.validateDependencies)&&(n.validateDependencies=t.validateDependencies),o.isDefined(t.autoUpdateParentTasks)&&(n.autoUpdateParentTasks=t.autoUpdateParentTasks)),n},e.prototype.equal=function(e){var t=!0;return t=t&&this.validateDependencies==e.validateDependencies,t=t&&this.autoUpdateParentTasks==e.autoUpdateParentTasks,t},e}();t.ValidationSettings=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditController=void 0;var i=n(14),o=n(9),r=n(3),a=n(5),s=function(){function e(e){this.taskIndex=-1,this.successorIndex=-1,this.editing=!1,this.gantt=e,this.createElements()}return Object.defineProperty(e.prototype,"taskId",{get:function(){return this.gantt.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"successorId",{get:function(){return this.gantt.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"task",{get:function(){return this.gantt.viewModel.items[this.taskIndex].task},enumerable:!1,configurable:!0}),e.prototype.show=function(t){this.editing||(this.taskIndex=t,this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement),this.gantt.taskArea.appendChild(this.baseElement),this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.gantt.settings.editing.enabled&&this.gantt.settings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.task.isMilestone()?this.baseElement.className=this.baseElement.className+" milestone":(this.gantt.settings.editing.enabled&&this.gantt.settings.editing.allowTaskUpdate&&this.canUpdateTask()||(this.baseElement.className=this.baseElement.className+" hide-updating"),this.progressEdit.style.left=this.task.progress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"),this.taskDateRange=new o.DateRange(this.task.start,this.task.end))},e.prototype.hide=function(){var e=this.baseElement.parentNode;e&&e.removeChild(this.baseElement),this.tooltip.hide()},e.prototype.showTaskInfo=function(e,t){void 0===t&&(t=500),this.tooltip.showInfo(this.task,e,t,this.gantt.settings.taskTooltipContentTemplate)},e.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},e.prototype.showDependencySuccessor=function(e){if(this.successorIndex!=e&&this.taskIndex!=e){this.successorIndex=e;var t=this.getTaskWrapperElementInfo(e);t.assignPosition(this.dependencySuccessorBaseElement),t.assignSize(this.dependencySuccessorBaseElement),t.assignSize(this.dependencySuccessorFrame),this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement)}},e.prototype.hideDependencySuccessor=function(){var e=this.dependencySuccessorBaseElement.parentNode;e&&e.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},e.prototype.processProgress=function(e){this.editing=!0;var t=e.x-this.wrapInfo.position.x,n=0;e.x>this.wrapInfo.position.x&&(n=e.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(t/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=n/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(n,r.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)},e.prototype.confirmProgress=function(){this.editing=!1;var e=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId,e)},e.prototype.processEnd=function(e){this.baseElement.className=this.baseElement.className+" move",this.editing=!0;var t=e.x>this.wrapInfo.position.x?e.x:this.wrapInfo.position.x,n=t-this.wrapInfo.position.x;this.baseElement.style.width=(n<1?0:n)+"px";var i=this.task.start,o=this.gantt.gridLayoutCalculator.getDateByPos(t);o.setSeconds(0),o<i||n<1?this.taskDateRange.end.setTime(i.getTime()):this.taskDateRange.end=this.getNewDate(this.task.end,o),this.tooltip.showTime(i,this.taskDateRange.end,r.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)},e.prototype.confirmEnd=function(){this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.editing=!1,this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId,this.taskDateRange.end),this.hide(),this.updateWrapInfo()},e.prototype.processStart=function(e){this.baseElement.className=this.baseElement.className+" move",this.editing=!0;var t=e.x<this.wrapInfo.position.x+this.wrapInfo.size.width?e.x:this.wrapInfo.position.x+this.wrapInfo.size.width,n=this.wrapInfo.size.width-(t-this.wrapInfo.position.x);this.baseElement.style.left=t+"px",this.baseElement.style.width=(n<1?0:n)+"px";var i=this.task.end,o=this.gantt.gridLayoutCalculator.getDateByPos(t);o.setSeconds(0),o>i||n<1?this.taskDateRange.start.setTime(i.getTime()):this.taskDateRange.start=this.getNewDate(this.task.start,o),this.tooltip.showTime(this.taskDateRange.start,i,r.DomUtils.getAbsolutePositionX(this.baseElement))},e.prototype.confirmStart=function(){this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.editing=!1,this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId,this.taskDateRange.start),this.hide(),this.updateWrapInfo()},e.prototype.processMove=function(e){if(this.gantt.settings.editing.enabled&&this.gantt.settings.editing.allowTaskUpdate){this.baseElement.className=this.baseElement.className+" move";var t=this.baseElement.offsetLeft+e;this.baseElement.style.left=t+"px";var n=this.gantt.gridLayoutCalculator.getDateByPos(t);this.taskDateRange.start=this.getNewDate(this.task.start,n);var i=this.task.start.getTime()-this.taskDateRange.start.getTime(),o=new Date(this.task.end.getTime()-i);return this.taskDateRange.end=this.getNewDate(this.task.end,o),this.editing=this.gantt.modelManipulator.dispatcher.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.editing&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,r.DomUtils.getAbsolutePositionX(this.baseElement)),this.editing}return!0},e.prototype.onTaskMovingCallback=function(e,t){if(this.taskDateRange.start!==e||this.taskDateRange.end!==t){var n=this.gantt.gridLayoutCalculator,i=n.getPosByDate(e),o=n.getPosByDate(t)-i;this.baseElement.style.left=i+"px",this.baseElement.style.width=(o<1?0:o)+"px",this.taskDateRange.start=e,this.taskDateRange.end=t}},e.prototype.confirmMove=function(){this.gantt.settings.editing.enabled&&this.gantt.settings.editing.allowTaskUpdate&&(this.gantt.settings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.editing&&(this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.gantt.commandManager.taskMoveCommand.execute(this.taskId,this.taskDateRange.start,this.taskDateRange.end),this.updateWrapInfo(),this.hide(),this.editing=!1))},e.prototype.getNewDate=function(e,t){if(this.gantt.settings.viewType>i.ViewType.SixHours){var n=t.getFullYear(),o=t.getMonth(),r=t.getDate(),a=this.gantt.settings.viewType==i.ViewType.Days?t.getHours():e.getHours(),s=e.getMinutes(),l=e.getSeconds(),d=e.getMilliseconds();return new Date(n,o,r,a,s,l,d)}return t},e.prototype.startDependency=function(t){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.gantt.taskArea.appendChild(this.dependencyLine),this.startPosition=t},e.prototype.processDependency=function(e){this.editing=!0,this.drawline(this.startPosition,e)},e.prototype.endDependency=function(e){this.editing=!1,null!=e&&this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,e);var t=this.dependencyLine.parentNode;t&&t.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},e.prototype.selectDependency=function(e){this.gantt.settings.editing.allowDependencyDelete&&(this.dependencyId=e)},e.prototype.isDependencySelected=function(e){return this.dependencyId&&this.dependencyId==e},e.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId)},e.prototype.getTaskWrapperElementInfo=function(e){var t=this.gantt.gridLayoutCalculator,n=t.getTaskWrapperElementInfo(e);return n.size.width=t.getTaskWidth(e),n.size.height=t.getTaskHeight(e),n},e.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=e.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=e.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(e.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),a.Browser.TouchUI&&this.dependencyFinish.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),a.Browser.TouchUI&&this.dependencyStart.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=e.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=e.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=e.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=e.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),a.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),a.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this.tooltip=new l(this.baseElement,this.gantt,this.gantt.elementTextHelper.cultureInfo),this.attachEvents()},e.prototype.attachEvents=function(){this.baseElement.addEventListener("mouseleave",function(e){this.editing||this.hide()}.bind(this))},e.prototype.drawline=function(e,t){if(e.x>t.x){var n=t;t=e,e=n}var i=Math.atan((e.y-t.y)/(t.x-e.x));i=180*i/Math.PI,i=-i;var o=Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y));this.dependencyLine.style.left=e.x+"px",this.dependencyLine.style.top=e.y+"px",this.dependencyLine.style.width=o+"px",this.dependencyLine.style.transform="rotate("+i+"deg)"},e.prototype.canUpdateTask=function(){return!this.gantt.viewModel.isTaskToCalculateByChildren(this.task.internalId)},e.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch"},e}();t.TaskEditController=s;var l=function(){function e(t,n,i){this.parentElement=t,this.baseElement=document.createElement("DIV"),this.baseElement.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,t.appendChild(this.baseElement),this.owner=n,this.cultureInfo=i}return e.prototype.setDefaultTooltip=function(t){this.owner.destroyTemplate(this.baseElement);var n=document.createElement("DIV");n.className=e.CLASSNAMES.TASK_EDIT_TASK_TITLE;var i=document.createElement("SPAN");if(n.appendChild(i),this.baseElement.appendChild(n),i.innerHTML=t.title,this.baseElement.appendChild(this.getTimeContent(t.start,t.end)),!isNaN(t.progress)){var o=document.createElement("DIV");o.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("SPAN"),a=document.createElement("SPAN");o.appendChild(r),o.appendChild(a),this.baseElement.appendChild(o),r.innerHTML=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",a.innerHTML=t.progress+"%"}},e.prototype.showInfo=function(e,t,n,i){var o=this;void 0===n&&(n=0);var r=!0;if(this.setDefaultTooltip(e),i&&(r=i(this.baseElement,e)),r=r&&!!this.baseElement.innerHTML,r){var a=function(){o.show(t,!1)};n?this.timerId=setTimeout(a,n):a()}},e.prototype.showProgress=function(e,t){this.baseElement.innerHTML=e+"%",this.show(t)},e.prototype.showTime=function(e,t,n){this.baseElement.innerHTML="",this.baseElement.appendChild(this.getTimeContent(e,t)),this.show(n)},e.prototype.show=function(t,n){var i=this;void 0===n&&(n=!0);var o=5,a=15;this.baseElement.classList.remove(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),this.baseElement.classList.remove(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var s=r.DomUtils.getAbsolutePositionY(this.parentElement),l=r.DomUtils.getAbsolutePositionX(this.parentElement),d=t-l-2*o,u=s-this.owner.header.clientHeight-r.DomUtils.getDocumentScrollTop()-a,c=this.baseElement.clientHeight>u||this.baseElement.clientHeight>this.parentElement.offsetTop,h=-this.baseElement.clientHeight-o;c?(h=this.parentElement.clientHeight+o,this.baseElement.classList.add(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER)):this.baseElement.classList.add(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.left=d+"px",this.baseElement.style.top=h+"px",n&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){i.baseElement.style.display="none"}),1500))},e.prototype.hide=function(){this.baseElement.style.display="none",clearTimeout(this.timerId)},e.prototype.getTimeContent=function(t,n){var i=document.createElement("TABLE");i.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var o=document.createElement("TBODY");i.appendChild(o);var r=document.createElement("TR"),a=document.createElement("TD"),s=document.createElement("TD"),l=document.createElement("TR"),d=document.createElement("TD"),u=document.createElement("TD");return r.appendChild(a),r.appendChild(s),l.appendChild(d),l.appendChild(u),o.appendChild(r),o.appendChild(l),a.innerHTML=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",s.innerHTML=this.formatDate(t),d.innerHTML=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",u.innerHTML=this.formatDate(n),i},e.prototype.formatDate=function(e){return this.owner.getDateFormat(e)},e.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryItemState=void 0;var i=function(){function e(e,t){this.id=e,this.value=t}return e}();t.HistoryItemState=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerBase=void 0;var o=n(8),r=n(42),a=function(){function e(e){this.control=e,this.switchToDefaultState()}return e.prototype.switchState=function(e){this.state&&this.state.finish(),this.state=e,this.state.start()},e.prototype.switchToDefaultState=function(){throw new Error("Not implemented")},e.prototype.getEventSource=function(t){var n=t.nodeType===Node.ELEMENT_NODE?t:t.parentNode,i=n.classList[0];return e.classToSource[i]||o.MouseEventSource.TaskArea},e.classToSource=(i={},i[r.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=o.MouseEventSource.TaskEdit_Progress,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_START]=o.MouseEventSource.TaskEdit_Start,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_END]=o.MouseEventSource.TaskEdit_End,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=o.MouseEventSource.TaskEdit_Frame,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=o.MouseEventSource.TaskEdit_DependencyStart,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=o.MouseEventSource.TaskEdit_DependencyFinish,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=o.MouseEventSource.Successor_DependencyStart,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=o.MouseEventSource.Successor_DependencyFinish,i),e}();t.HandlerBase=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerDependencyState=t.dependencyMap=void 0;var i=n(0),o=n(4),r=n(3),a=n(6),s=n(29),l=n(8),d=n(13);t.dependencyMap=[],t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyStart]=[],t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyFinish]=[],t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyStart][l.MouseEventSource.Successor_DependencyStart]=d.DependencyType.SS,t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyStart][l.MouseEventSource.Successor_DependencyFinish]=d.DependencyType.SF,t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyFinish][l.MouseEventSource.Successor_DependencyStart]=d.DependencyType.FS,t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyFinish][l.MouseEventSource.Successor_DependencyFinish]=d.DependencyType.FF;var u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(n,e),n.prototype.onMouseDown=function(e){var t=a.EvtUtils.getEventSource(e);this.source=this.handler.getEventSource(t);var n=this.getRelativePos(new o.Point(r.DomUtils.getAbsolutePositionX(t)+t.clientWidth/2,r.DomUtils.getAbsolutePositionY(t)+t.clientHeight/2));this.handler.control.taskEditController.startDependency(n)},n.prototype.onMouseUp=function(e){if(e instanceof PointerEvent){var n=this.getRelativePos(new o.Point(r.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorStart)+this.handler.control.taskEditController.dependencySuccessorStart.clientWidth/2,r.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorStart)+this.handler.control.taskEditController.dependencySuccessorStart.clientHeight/2)),i=this.getRelativePos(new o.Point(r.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorFinish)+this.handler.control.taskEditController.dependencySuccessorFinish.clientWidth/2,r.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorFinish)+this.handler.control.taskEditController.dependencySuccessorFinish.clientHeight/2)),s=this.getRelativePos(new o.Point(a.EvtUtils.getEventX(e),a.EvtUtils.getEventY(e))),d=this.isTouchNearby(s,n)?l.MouseEventSource.Successor_DependencyStart:this.isTouchNearby(s,i)?l.MouseEventSource.Successor_DependencyFinish:null,u=d===l.MouseEventSource.Successor_DependencyStart||d==l.MouseEventSource.Successor_DependencyFinish?t.dependencyMap[this.source][d]:null;this.handler.control.taskEditController.endDependency(u)}else{d=this.handler.getEventSource(a.EvtUtils.getEventSource(e)),u=d===l.MouseEventSource.Successor_DependencyStart||d==l.MouseEventSource.Successor_DependencyFinish?t.dependencyMap[this.source][d]:null;this.handler.control.taskEditController.endDependency(u)}this.handler.switchToDefaultState()},n.prototype.onMouseMove=function(e){e.preventDefault();var t=this.getRelativePos(new o.Point(a.EvtUtils.getEventX(e),a.EvtUtils.getEventY(e))),n=Math.floor(t.y/this.handler.control.tickSize.height);this.handler.control.taskEditController.processDependency(t),this.handler.control.viewModel.tasks.items[n]&&this.handler.control.taskEditController.showDependencySuccessor(n)},n.prototype.isTouchNearby=function(e,t){return Math.abs(t.x-e.x)<=10&&Math.abs(t.y-e.y)<=10},n}(s.MouseHandlerStateBase);t.MouseHandlerDependencyState=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerStateBase=void 0;var i=n(0),o=n(19),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){},t.prototype.onDoubleTap=function(e){},t.prototype.onTouchEnd=function(e){},t.prototype.onTouchMove=function(e){},t}(o.HandlerStateBase);t.TouchHandlerStateBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditDialogShowingArguments=t.TaskUpdatingArguments=t.TaskRemovingArguments=t.TaskInsertingArguments=void 0;var i=n(0),o=n(20),r=function(e){function t(t,n,i,o,r,a){var s=e.call(this,t)||this;return s.values={start:n,end:i,title:o,progress:r,parentId:a},s}return i.__extends(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),t}(o.BaseArguments);t.TaskInsertingArguments=r;var a=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(o.BaseArguments);t.TaskRemovingArguments=a;var s=function(e){function t(t,n,i){var o=e.call(this,t.id)||this;return o.values=t,o.createNewValues(n,i),o}return i.__extends(t,e),t.prototype.createNewValues=function(e,t){var n=this;this.newValues={};for(var i=function(i){var r=e[i];o.newValues[r]=t[i],Object.defineProperty(o,r,{get:function(){return n.newValues[r]}})},o=this,r=0;r<e.length;r++)i(r)},t}(o.BaseArguments);t.TaskUpdatingArguments=s;var l=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values={start:t.start,end:t.end,title:t.title,progress:t.progress},n.hiddenFields=t.hiddenFields,n.readOnlyFields=t.readOnlyFields,n}return i.__extends(t,e),t}(o.BaseArguments);t.TaskEditDialogShowingArguments=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveTaskHistoryItem=t.CreateTaskHistoryItem=void 0;var i=n(0),o=n(11),r=n(21),a=function(e){function t(t,n,i,o,r,a){var s=e.call(this,t)||this;return s.start=n,s.end=i,s.title=o,s.progress=r,s.parentId=a,s}return i.__extends(t,e),t.prototype.redo=function(){this.taskId=this.modelManipulator.task.create(this.start,this.end,this.title,this.progress,this.parentId,this.taskId?this.taskId:null).internalId},t.prototype.undo=function(){this.modelManipulator.task.remove(this.taskId)},t}(o.HistoryItem);t.CreateTaskHistoryItem=a;var s=function(e){function t(t){var n=e.call(this)||this;return n.taskIds=[],n.tasks=[],n.modelManipulator=t,n}return i.__extends(t,e),t.prototype.redo=function(){var t=this;e.prototype.redo.call(this),this.taskIds.forEach((function(e){t.tasks.push(t.modelManipulator.task.remove(e))}))},t.prototype.undo=function(){var t=this;if(this.tasks.length){var n=this.tasks.shift();this.modelManipulator.task.create(n.start,n.end,n.title,n.progress,n.parentId,n.internalId,(function(){t.modelManipulator.task.properties.progress.setValue(n.internalId,n.progress),n.color&&t.modelManipulator.task.properties.color.setValue(n.internalId,n.color),t.tasks.length?t.undo():e.prototype.undo.call(t)}))}},t.prototype.undoItemsQuery=function(){while(this.tasks.length){var t=this.tasks.shift();this.modelManipulator.task.create(t.start,t.end,t.title,t.progress,t.parentId,t.internalId,(function(){})),this.modelManipulator.task.properties.progress.setValue(t.internalId,t.progress),t.color&&this.modelManipulator.task.properties.color.setValue(t.internalId,t.color)}e.prototype.undo.call(this)},t.prototype.addTask=function(e){this.taskIds.push(e)},t.prototype.add=function(t){if(t instanceof r.RemoveDependencyHistoryItem){var n=t;this.historyItems.filter((function(e){return e instanceof r.RemoveDependencyHistoryItem&&e.dependencyId==n.dependencyId})).length||this.historyItems.push(n)}else e.prototype.add.call(this,t)},t}(o.CompositionHistoryItem);t.RemoveTaskHistoryItem=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintViolationDialogParameters=t.ConstraintViolationDialogCommand=t.ConstraintViolationOption=void 0;var i,o=n(0),r=n(24),a=n(21);(function(e){e[e["DoNothing"]=0]="DoNothing",e[e["RemoveDependency"]=1]="RemoveDependency",e[e["KeepDependency"]=2]="KeepDependency"})(i=t.ConstraintViolationOption||(t.ConstraintViolationOption={}));var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.applyParameters=function(e,t){return e.option!==i.DoNothing&&(e.option===i.RemoveDependency&&(this.history.beginTransaction(),this.history.addAndRedo(new a.RemoveDependencyHistoryItem(this.modelManipulator,t.validationError.dependencyId)),t.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([])),e.option===i.KeepDependency&&(t.callback(),this.control.barManager.updateItemsState([])),!0)},t.prototype.createParameters=function(e){var t=this.control.viewModel.dependencies.getItemById(e.validationError.dependencyId),n=this.control.viewModel.tasks.getItemById(t.successorId),i=this.control.viewModel.tasks.getItemById(t.predecessorId);return e.successorTaskTitle=n.title,e.predecessorTaskTitle=i.title,e},t.prototype.getDialogName=function(){return"ConstraintViolation"},t}(r.DialogBase);t.ConstraintViolationDialogCommand=s;var l=function(e){function t(t,n){var i=e.call(this)||this;return i.validationError=t,i.callback=n,i}return o.__extends(t,e),t.prototype.clone=function(){var e=new t(this.validationError,this.callback);return e.option=this.option,e},t}(r.DialogParametersBase);t.ConstraintViolationDialogParameters=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttView=t.default=void 0,n(51);var i=n(52);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.GanttView}}),Object.defineProperty(t,"GanttView",{enumerable:!0,get:function(){return i.GanttView}})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttView=void 0;var i=n(53),o=n(14),r=n(39),a=n(3),s=n(9),l=n(28),d=n(4),u=n(40),c=n(17),h=n(79),p=n(42),f=n(8),g=n(80),m=n(85),v=n(87),_=n(102),y=n(41),C=n(103),w=n(105),x=n(121),b=n(5),T=n(122),I=n(2),S=n(123),k=n(48),E=n(1),D=n(22),R=function(){function e(e,t,n){var i=this;this.timeScaleAreas=new Array,this.horTaskAreaBorders=[],this.vertTaskAreaBorders=[],this.scaleBorders=[],this.scaleElements=[],this.taskElements=[],this.resourcesElements=[],this.selectionElements=[],this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this.renderedScaleItemIndices=[],this.dependencyMap=[],this.renderedConnectorLines=[],this.connectorLinesToElementsMap={},this.noWorkingIntervalsToElementsMap={},this.renderedNoWorkingIntervals=[],this.renderedStripLines=[],this.stripLinesMap=[],this.gridLayoutCalculator=new c.GridLayoutCalculator,this.etalonSizeValues=new h.EtalonSizeValues,this.tickSize=new l.Size(0,0),this.scaleCount=2,this.isFocus=!1,this.currentZoom=1,this.maxZoom=3,this.stripLinesUpdaterId=null,this.currentSelectedTaskID="",this.ganttOwner=t,this.settings=y.Settings.parse(n),this.elementTextHelper=new r.ElementTextHelper(n.cultureInfo),this.validationController=new T.ValidationController(this),this.createMainElement(e),this.createHeader(),this.calculateEtalonSizeValues(),this.createTaskAreaContainer(),this.loadOptionsFromGanttOwner(),this.elementTextHelper.setFont(this.mainElement),this.setupHelpers(),this.setSizeForTaskArea(),this.createTimeScaleContainer(),this.createTimeScaleAreas(),this.commandManager=new w.CommandManager(this),this.barManager=new x.BarManager(this,t.bars),this.eventManager=new v.EventManager(this),this.taskEditController=new p.TaskEditController(this),this.history=new m.History,this.taskAreaManager=new f.TaskAreaManager(this),this.fullScreenModeHelper=new S.FullScreenModeHelper(this),window.addEventListener("resize",(function(){i.onBrowserWindowResize()})),this.updateView(),setTimeout((function(){i.scrollLeftByViewType()}),0),this.initializeStripLinesUpdater()}return e.prototype.reset=function(){this.timeScaleContainer.innerHTML="",this.taskArea.innerHTML="",this.horTaskAreaBorders=[],this.vertTaskAreaBorders=[],this.scaleBorders=[],this.scaleElements=[],this.taskElements=[],this.selectionElements=[],this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this.renderedConnectorLines=[],this.timeScaleAreas=[],this.renderedScaleItemIndices=[],this.connectorLinesToElementsMap={},this.renderedNoWorkingIntervals=[],this.renderedStripLines=[],this.noWorkingIntervalsToElementsMap={}},e.prototype.setupHelpers=function(){var e=new l.Size(this.taskAreaContainer.getWidth(),this.taskAreaContainer.getHeight()),t=this.taskAreaContainer.getHeight()-this.taskAreaContainer.getElement().clientHeight;this.gridLayoutCalculator.setSettings(e,this.tickSize,this.etalonSizeValues,this.range,this.viewModel,this.settings.viewType,t),this.elementTextHelper.setSettings(this.range.start.getTime(),this.settings.viewType,this.viewModel.items)},e.prototype.getDateRange=function(e,t){var n=new Date(e.getTime()-this.getVisibleAreaTime());n=r.DateUtils.adjustStartDateByViewType(n,this.settings.viewType,this.settings.firstDayOfWeek);var i=new Date(t.getTime()+this.getVisibleAreaTime());return i=r.DateUtils.adjustEndDateByViewType(i,this.settings.viewType,this.settings.firstDayOfWeek),new s.DateRange(n,i)},e.prototype.getVisibleAreaTime=function(){var e=Math.ceil(this.taskAreaContainer.getWidth()/this.tickSize.width);return e*r.DateUtils.getTickTimeSpan(this.settings.viewType)},e.prototype.calculateEtalonSizeValues=function(){var e=this.createEtalonElementsContainer(),t=this.createEtalonElements(e);this.calculateEtalonSizeValuesCore(t),this.mainElement.removeChild(e)},e.prototype.calculateEtalonSizeValuesCore=function(e){this.etalonSizeValues.taskHeight=e[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=e[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=a.DomUtils.pxToInt(a.DomUtils.getCurrentStyle(e[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=a.DomUtils.getVerticalBordersWidth(e[2]),this.etalonSizeValues.connectorArrowWidth=a.DomUtils.getHorizontalBordersWidth(e[3]);for(var t=0;t<=o.ViewType.Years;t++)e[4].innerText=this.elementTextHelper.getScaleItemTextTemplate(t),this.etalonSizeValues.scaleItemWidths[t]=e[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(a.DomUtils.getCurrentStyle(e[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=a.DomUtils.pxToFloat(a.DomUtils.getCurrentStyle(e[5]).width),this.etalonSizeValues.scaleItemHeight=this.ganttOwner.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=e[e.length-1].firstChild.offsetHeight},e.prototype.getSmallTaskWidth=function(e){var t=0;if(null!=e&&""!=e){var n=e.indexOf("rem");if(n>-1)try{var i=parseFloat(e.substr(0,n));t=i*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch(o){}else t=a.DomUtils.pxToInt(e)}return 2*t},e.prototype.createEtalonElementsContainer=function(){var e=document.createElement("DIV");return e.style.visibility="hidden",e.style.position="absolute",e.style.left="-1000px",this.mainElement.appendChild(e),e},e.prototype.createEtalonElements=function(e){var t=[],n=this.createElement(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e),i=this.createElement(new u.GridElementInfo("dx-gantt-task"),null,n),o=this.createElement(new u.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,i);o.innerText="WWW",t.push(n);var r=this.createElement(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e);this.createElement(new u.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,r),t.push(r);for(var a=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],s=0;s<a.length;s++){var l=new u.GridElementInfo(a[s]);t.push(this.createElement(l,null,e))}var d=this.createElement(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e),c=this.createElement(new u.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,d),h=this.createElement(new u.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,c);return h.innerText="WWW",t.push(d),t},e.prototype.zoomIn=function(e){void 0===e&&(e=this.taskAreaContainer.getWidth()/2);var t=this.gridLayoutCalculator.getDateByPos(this.taskAreaContainer.scrollLeft+e);this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>o.ViewType.TenMinutes&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDate(t,e)},e.prototype.zoomOut=function(e){void 0===e&&(e=this.taskAreaContainer.getWidth()/2);var t=this.gridLayoutCalculator.getDateByPos(this.taskAreaContainer.scrollLeft+e);this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<o.ViewType.Years&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDate(t,e)},e.prototype.scrollToDate=function(e,t){this.taskAreaContainer.scrollLeft=Math.round(this.gridLayoutCalculator.getPosByDate(e))-t},e.prototype.scrollLeftByViewType=function(){var e=r.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.taskAreaContainer.scrollLeft=Math.round(this.gridLayoutCalculator.getPosByDate(e))+1},e.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},e.prototype.initializeStripLinesUpdater=function(){var e=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval((function(){e.recreateStripLines&&e.recreateStripLines()}),Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},e.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},e.prototype.getGanttViewStartDate=function(e){if(!e)return new Date;var t=e.map((function(e){return"string"===typeof e.start?new Date(e.start):e.start})).filter((function(e){return E.isDefined(e)}));return t.length>0?t.reduce((function(e,t){return t<e?t:e}),t[0]):new Date},e.prototype.getGanttViewEndDate=function(e){if(!e)return new Date;var t=e.map((function(e){return"string"===typeof e.end?new Date(e.end):e.end})).filter((function(e){return E.isDefined(e)}));return t.length>0?t.reduce((function(e,t){return t>e?t:e}),t[0]):new Date},e.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.horizontalTickCount*this.tickSize.width},e.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},e.prototype.getVisibleTaskCount=function(){return this.viewModel.itemCount},e.prototype.getTask=function(e){var t=this.viewModel.items[e];return t.task},e.prototype.createMainElement=function(e){this.mainElement=document.createElement("DIV"),this.mainElement.style.width=e.offsetWidth+"px",this.mainElement.style.height=e.offsetHeight+"px",e.appendChild(this.mainElement)},e.prototype.createHeader=function(){this.header=document.createElement("DIV"),this.header.className="dx-gantt-header",this.mainElement.appendChild(this.header)},e.prototype.createTimeScaleContainer=function(){this.timeScaleContainer=document.createElement("DIV"),this.timeScaleContainer.className="dx-gantt-tsac",this.timeScaleContainer.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this.header.appendChild(this.timeScaleContainer)},e.prototype.createTimeScaleArea=function(){var e=document.createElement("DIV");return e.className="dx-gantt-tsa",e.style.width=this.getTaskAreaWidth()+"px",e.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(e),this.timeScaleAreas.unshift(e),e},e.prototype.createTimeScaleAreas=function(){for(var e=0;e<this.scaleCount;e++){var t=this.createTimeScaleArea();0==e&&this.settings.viewType==o.ViewType.Weeks&&this.createMonthsScale(t)}},e.prototype.createTaskAreaContainer=function(){var e=document.createElement("DIV");e.className="dx-gantt-tac",this.mainElement.appendChild(e),this.createTaskArea(e),this.taskAreaContainer=this.ganttOwner.getExternalTaskAreaContainer(e),null==this.taskAreaContainer&&(this.taskAreaContainer=new _.TaskAreaContainer(e,this)),this.prepareTaskAreaContainer()},e.prototype.prepareTaskAreaContainer=function(){var e="dx-gantt-tac-hb",t=this.taskAreaContainer.getElement();this.settings.areHorizontalBordersEnabled?a.DomUtils.addClassName(t,e):a.DomUtils.removeClassName(t,e);var n=parseInt(getComputedStyle(t).getPropertyValue("margin-top"))||0;t.style.height="calc(100% - "+(this.etalonSizeValues.scaleItemHeight*this.scaleCount+n)+"px)"},e.prototype.createTaskArea=function(e){this.taskArea=document.createElement("DIV"),this.taskArea.id="dx-gantt-ta",e.appendChild(this.taskArea)},e.prototype.setSizeForTaskArea=function(){this.taskArea.style.width=this.getTaskAreaWidth()+"px",this.taskArea.style.height=this.getTaskAreaHeight()+"px"},e.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.etalonSizeValues.scaleItemWidths[this.settings.viewType]*this.currentZoom},e.prototype.createMonthsScale=function(e){var t=new Date;t.setTime(this.range.start.getTime());var n=0,i=0;while(t.getTime()<this.range.end.getTime()){var a=r.DateUtils.getDaysInMonth(t.getMonth(),t.getFullYear()),s=a-t.getDate()+1,c=new Date;c.setTime(t.getTime()+Math.min(s*r.DateUtils.msPerDay,this.range.end.getTime()-t.getTime()));var h=this.gridLayoutCalculator.getWidthByDateRange(t,c),p=new u.GridElementInfo("dx-gantt-si",new d.Point(n,void 0),new l.Size(h,this.etalonSizeValues.scaleItemHeight)),f=this.createElement(p,null,e);f.innerText=this.elementTextHelper.getScaleItemText(i,o.ViewType.Months),f.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px";var g=new u.GridElementInfo("dx-gantt-vb",new d.Point(n+h,void 0),new l.Size(0,this.etalonSizeValues.scaleItemHeight));this.createElement(g,null,e),n+=h,i++,t=c}},e.prototype.updateView=function(){this.timeScaleContainer.scrollLeft=this.taskAreaContainer.scrollLeft,this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop)},e.prototype.processScroll=function(e){this.taskEditController.tooltip.hide(),this.recreateTaskAreaBordersAndTaskElements(e),e?this.recreateConnectorLineElements():(this.recreateNoWorkingIntervalElements(),this.recreateStripLines(),this.recreateScalesElements())},e.prototype.recreateTaskAreaBordersAndTaskElements=function(e){var t=this,n=e?this.taskAreaContainer.scrollTop:this.taskAreaContainer.scrollLeft,i=this.gridLayoutCalculator.getRenderedRowColumnIndices(n,e),o=e?this.renderedRowIndices:this.renderedColIndices;this.recreateElements(o,i,(function(n){t.removeTaskAreaBorderAndTaskElement(n,e)}),(function(n){t.createTaskAreaBorderAndTaskElement(n,e)})),e?this.renderedRowIndices=i:this.renderedColIndices=i},e.prototype.recreateNoWorkingIntervalElements=function(){var e=this,t=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);this.recreateElements(this.renderedNoWorkingIntervals,t,(function(t){e.removeNoWorkingIntervalElement(t)}),(function(t){e.createNoWorkingIntervalElement(t)})),this.renderedNoWorkingIntervals=t},e.prototype.recreateStripLines=function(){var e=this,t=this.gridLayoutCalculator.getRenderedStripLines(this.settings.stripLines);this.recreateElements(this.renderedStripLines,t,(function(t){e.removeElement(t,null,e.taskArea,e.stripLinesMap)}),(function(t){return e.createElement(t,null,e.taskArea,e.stripLinesMap)})),this.renderedStripLines=t},e.prototype.recreateConnectorLineElements=function(){var e=this,t=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);this.recreateElements(this.renderedConnectorLines,t,(function(t){e.removeConnectorLineElement(t)}),(function(t){e.createConnectorLineElement(t)})),this.renderedConnectorLines=t},e.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.settings.viewType,0),this.settings.viewType!=o.ViewType.Weeks&&this.recreateScaleElements(r.DateUtils.ViewTypeToScaleMap[this.settings.viewType],1)},e.prototype.recreateScaleElements=function(e,t){var n=this,i=this.gridLayoutCalculator.getRenderedScaleItemIndices(e,this.renderedColIndices),o=this.renderedScaleItemIndices[e-this.settings.viewType]||[];this.recreateElements(o,i,(function(e){n.removeScaleElementAndBorder(e,t)}),(function(i){n.createScaleElementAndBorder(i,t,e)})),this.renderedScaleItemIndices[e-this.settings.viewType]=i},e.prototype.recreateElements=function(e,t,n,i){e.filter((function(e){return-1===t.indexOf(e)})).forEach((function(e){n(e)})),t.filter((function(t){return-1===e.indexOf(t)})).forEach((function(e){i(e)}))},e.prototype.recreateTaskElement=function(e){var t=this,n=this.renderedRowIndices.filter((function(t){return t===e})).length>0,i=this.viewModel.items[e],o=i&&i.task;if(o){var r=this.viewModel.dependencies.items.filter((function(e){return e.predecessorId==o.id||e.successorId==o.id}));r.length&&r.forEach((function(e){return t.recreateConnectorLineElement(e.internalId)})),n&&(this.removeTaskElement(e),this.createTaskElement(e))}},e.prototype.recreateConnectorLineElement=function(e,t){var n=this;void 0===t&&(t=!1);var i=[];this.renderedConnectorLines=this.renderedConnectorLines.filter((function(t){return t.attr["dependency-id"]!=e||(i.push(t),!1)}));var o=i.length>0;i.forEach((function(e){n.removeConnectorLineElement(e)})),i=this.gridLayoutCalculator.updateTileToConnectorLinesMap(e),(o||t)&&i.forEach((function(e){n.createConnectorLineElement(e),n.renderedConnectorLines.push(e)}))},e.prototype.allowTaskAreaBorders=function(e){return e?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},e.prototype.createTaskAreaBorderAndTaskElement=function(e,t){this.allowTaskAreaBorders(t)&&this.createTaskAreaBorder(e,!t),t&&this.createTaskElement(e)},e.prototype.removeTaskAreaBorderAndTaskElement=function(e,t){this.allowTaskAreaBorders(t)&&this.removeTaskAreaBorder(e,!t),t&&this.removeTaskElement(e)},e.prototype.getTaskAreaBordersDictionary=function(e){return e?this.vertTaskAreaBorders:this.horTaskAreaBorders},e.prototype.createTaskAreaBorder=function(e,t){var n=this.gridLayoutCalculator.getTaskAreaBorderInfo(e,t);this.createElement(n,e,this.taskArea,this.getTaskAreaBordersDictionary(t))},e.prototype.removeTaskAreaBorder=function(e,t){this.removeElement(null,e,this.taskArea,this.getTaskAreaBordersDictionary(t))},e.prototype.createScaleElementAndBorder=function(e,t,n){this.createScaleElement(e,t,n),this.createScaleBorder(e,t,n)},e.prototype.createScaleElement=function(e,t,n){var i=this.gridLayoutCalculator.getScaleElementInfo(e,n),o=this.createScaleElementCore(e,i,t,this.scaleElements);o.innerText=this.elementTextHelper.getScaleItemText(e,n),o.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px"},e.prototype.createScaleBorder=function(e,t,n){var i=this.gridLayoutCalculator.getScaleBorderInfo(e,n);this.createScaleElementCore(e,i,t,this.scaleBorders)},e.prototype.createScaleElementCore=function(e,t,n,i){return i[n]||(i[n]=[]),this.createElement(t,e,this.timeScaleAreas[n],i[n])},e.prototype.removeScaleElementAndBorder=function(e,t){this.removeElement(null,e,this.timeScaleAreas[t],this.scaleElements[t]),this.removeElement(null,e,this.timeScaleAreas[t],this.scaleBorders[t])},e.prototype.createTaskElement=function(e){this.createTaskWrapperElement(e),this.settings.taskTitlePosition==o.TaskTitlePosition.Outside&&this.createTaskTextElement(e,this.taskElements[e]);var t=this.createTaskVisualElement(e);this.viewModel.items[e].task.isMilestone()||(this.settings.taskTitlePosition==o.TaskTitlePosition.Inside&&this.createTaskTextElement(e,t),this.createTaskProgressElement(e,t)),this.settings.showResources&&(this.createResourcesWrapperElement(e),this.createResources(e)),this.viewModel.items[e].selected&&this.createTaskSelectionElement(e),this.isHighlightRowElementAllowed(e)&&this.createHighlightRowElement(e)},e.prototype.isHighlightRowElementAllowed=function(e){return e%2!==0&&this.settings.areAlternateRowsEnabled||this.viewModel.items[e].children.length>0},e.prototype.createResourcesWrapperElement=function(e){var t=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(e);this.createElement(t,e,this.taskArea,this.resourcesElements),this.resourcesElements[e].style.display=this.elementTextHelper.getTaskVisibility(e)?"":"none"},e.prototype.createResources=function(e){for(var t=this.viewModel.items[e].resources.items,n=0;n<t.length;n++)this.createResourceElement(e,t[n])},e.prototype.createTaskWrapperElement=function(e){var t=this.gridLayoutCalculator.getTaskWrapperElementInfo(e);this.createElement(t,e,this.taskArea,this.taskElements),this.taskElements[e].style.display=this.elementTextHelper.getTaskVisibility(e)?"":"none"},e.prototype.createTaskVisualElement=function(e){var t=this.gridLayoutCalculator.getTaskElementInfo(e,this.settings.taskTitlePosition!==o.TaskTitlePosition.Inside),n=this.createElement(t,e,this.taskElements[e]);return this.taskAreaManager.attachEventsOnTask(n),n},e.prototype.createTaskProgressElement=function(e,t){var n=this.gridLayoutCalculator.getTaskProgressElementInfo(e);this.createElement(n,e,t)},e.prototype.createTaskTextElement=function(e,t){var n=this.gridLayoutCalculator.getTaskTextElementInfo(e,this.settings.taskTitlePosition==o.TaskTitlePosition.Inside),i=this.createElement(n,e,t);if(i.innerText=this.elementTextHelper.getTaskText(e),!i.innerText){i.innerText="WWW";var r=getComputedStyle(i).height;i.innerText="",i.style.height=r}},e.prototype.createResourceElement=function(e,t){var n=this.gridLayoutCalculator.getTaskResourceElementInfo();t.color&&(n.style.backgroundColor=t.color);var i=this.createElement(n,e,this.resourcesElements[e]);i.innerText=t.text},e.prototype.createTaskSelectionElement=function(e){var t=this.gridLayoutCalculator.getSelectionElementInfo(e);this.taskAreaContainer.isExternal&&!this.settings.areHorizontalBordersEnabled&&t.size.height++,this.createElement(t,e,this.taskArea,this.selectionElements)},e.prototype.createHighlightRowElement=function(e){var t=this.gridLayoutCalculator.getHighlightRowInfo(e);this.createElement(t,e,this.taskArea,this.hlRowElements)},e.prototype.removeTaskElement=function(e){this.removeElement(null,e,this.taskArea,this.taskElements),this.removeElement(null,e,this.taskArea,this.resourcesElements),this.removeElement(null,e,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(e)&&this.removeElement(null,e,this.taskArea,this.hlRowElements)},e.prototype.createConnectorLineElement=function(e){var t=e.attr["dependency-id"];return this.taskEditController.isDependencySelected(t)&&(e.className=e.className+" active"),this.createElement(e,null,this.taskArea,this.connectorLinesToElementsMap)},e.prototype.removeConnectorLineElement=function(e){this.removeElement(e,null,this.taskArea,this.connectorLinesToElementsMap)},e.prototype.createNoWorkingIntervalElement=function(e){return this.createElement(e,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},e.prototype.removeNoWorkingIntervalElement=function(e){this.removeElement(e,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},e.prototype.createElement=function(e,t,n,i){var o=document.createElement("DIV");for(var r in e.assignToElement(o),n.appendChild(o),i&&(i instanceof Array&&null!==t?i[t]=o:i[e.id]=o),e.attr)e.attr.hasOwnProperty(r)&&o.setAttribute(r,e.attr[r]);for(var r in e.style)e.style.hasOwnProperty(r)&&(o.style[r]=e.style[r]);return o},e.prototype.removeElement=function(e,t,n,i){var o;i instanceof Array&&null!==t?(o=i[t],delete i[t]):(o=i[e.id],delete i[e.id]),o&&o.parentNode==n&&n.removeChild(o)},e.prototype.calculateAutoViewType=function(e,t){var n=(t.getTime()-e.getTime())/36e5;return n>8760?o.ViewType.Years:n>720?o.ViewType.Months:n>168?o.ViewType.Weeks:n>24?o.ViewType.Days:n>6?o.ViewType.SixHours:n>1?o.ViewType.Hours:o.ViewType.TenMinutes},e.prototype.changeTaskExpanded=function(e,t){var n=this.getTaskByPublicId(e);n&&this.viewModel.changeTaskExpanded(n.internalId,t)},e.prototype.expandTask=function(e){this.viewModel.changeTaskExpanded(e,!0)},e.prototype.collapseTask=function(e){this.viewModel.changeTaskExpanded(e,!1)},e.prototype.showTask=function(e){this.viewModel.changeTaskVisibility(e,!0)},e.prototype.hideTask=function(e){this.viewModel.changeTaskVisibility(e,!1)},e.prototype.getTaskVisibility=function(e){return this.viewModel.getTaskVisibility(e)},e.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},e.prototype.getTaskSelected=function(e){return this.viewModel.getTaskSelected(e)},e.prototype.setViewType=function(e,t){void 0===t&&(t=!0),void 0==e&&(e=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==e&&(this.settings.viewType=e,this.updateTickSizeWidth(),this.resetAndUpdate(),t&&this.scrollLeftByViewType(),this.ganttOwner.UpdateGanttViewType&&this.ganttOwner.UpdateGanttViewType(e))},e.prototype.setTaskTitlePosition=function(e){this.settings.taskTitlePosition!==e&&(this.settings.taskTitlePosition=e,this.resetAndUpdate())},e.prototype.setShowResources=function(e){this.settings.showResources!==e&&(this.settings.showResources=e,this.resetAndUpdate())},e.prototype.setFirstDayOfWeek=function(e){this.settings.firstDayOfWeek!==e&&(this.settings.firstDayOfWeek=e,this.resetAndUpdate())},e.prototype.loadOptionsFromGanttOwner=function(){this.tickSize.height=this.ganttOwner.getRowHeight();var e=this.ganttOwner.getGanttTasksData();this.dataRange=new s.DateRange(this.getGanttViewStartDate(e),this.getGanttViewEndDate(e)),void 0==this.settings.viewType&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new C.ModelChangesDispatcher;var t=this.ganttOwner.getModelChangesListener();t&&this.dispatcher.onModelChanged.add(t),this.viewModel=new i.ViewVisualModel(this,e,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new g.ModelManipulator(this.viewModel,this.dispatcher)},e.prototype.resetAndUpdate=function(){this.reset(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.setupHelpers(),this.createTimeScaleAreas(),this.setSizeForTaskArea(),b.Browser.IE&&this.taskEditController.createElements(),this.updateView()},e.prototype.updateRowHeights=function(e){if(this.tickSize.height!==e){this.tickSize.height=e;var t=this.taskAreaContainer.scrollLeft;this.resetAndUpdate(),this.taskAreaContainer.scrollLeft=t}},e.prototype.selectTask=function(e){this.selectDependency(null),this.viewModel.changeTaskSelected(e,!0),this.currentSelectedTaskID=e,this.updateBarManager()},e.prototype.unselectTask=function(e){this.viewModel.changeTaskSelected(e,!1),this.updateBarManager()},e.prototype.selectTaskById=function(e){this.unselectCurrentSelectedTask();var t=this.getTaskByPublicId(e);t&&this.selectTask(t.internalId)},e.prototype.selectDependency=function(e){this.taskEditController.selectDependency(e),this.gridLayoutCalculator.createTileToConnectorLinesMap(),this.recreateConnectorLineElements()},e.prototype.getTaskAreaContainer=function(){return this.taskAreaContainer},e.prototype.setWidth=function(e){this.mainElement.style.width=e+"px"},e.prototype.setHeight=function(e){this.mainElement.style.height=e+"px"},e.prototype.setAllowSelection=function(e){this.settings.allowSelectTask=e},e.prototype.setEditingSettings=function(e){this.settings.editing=e,this.updateBarManager()},e.prototype.setValidationSettings=function(e){this.settings.validation=e},e.prototype.setRowLinesVisible=function(e){this.settings.areHorizontalBordersEnabled=e,this.prepareTaskAreaContainer(),this.resetAndUpdate()},e.prototype.setStripLines=function(e){this.settings.stripLines=y.StripLineSettings.parse(e),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.recreateStripLines()},e.prototype.deleteTask=function(e){var t=this.getTaskByPublicId(e.toString());t&&this.commandManager.removeTaskCommand.execute(t.internalId)},e.prototype.insertTask=function(e){if(e){var t=null!=e.parentId?String(e.parentId):null,n=this.getTaskByPublicId(t),i=e.title?String(e.title):"",o="string"===typeof e.start?new Date(e.start):e.start,r="string"===typeof e.end?new Date(e.end):e.end,a=E.isDefined(e.progress)?parseInt(e.progress):0;if(this.commandManager.createTaskCommand.execute(o,r,i,a,n&&n.internalId))return this.getLastInsertedTaskId()}return""},e.prototype.updateTask=function(e,t){var n=this.getTaskByPublicId(e.toString());n&&t&&this.commandManager.updateTaskCommand.execute(n.internalId,t)},e.prototype.getTaskData=function(e){var t=this.getTaskByPublicId(e.toString());if(t)return this.viewModel.getTaskObjectForDataSource(t)},e.prototype.insertDependency=function(e){if(e){var t=String(e.predecessorId),n=String(e.successorId),i=e.type;this.commandManager.createDependencyCommand.execute(t,n,i)}},e.prototype.deleteDependency=function(e){var t=this.viewModel.convertPublicToInternalKey("dependency",e);E.isDefined(t)&&this.commandManager.removeDependencyCommand.execute(t)},e.prototype.getDependencyData=function(e){return this.viewModel.getDependencyObjectForDataSource(e)},e.prototype.insertResource=function(e,t){if(e&&this.commandManager.createResourceCommand.execute(String(e.text),e.color&&String(e.color))&&E.isDefined(t))for(var n=this.getLastInsertedResource(),i=0;i<t.length;i++)this.assignResourceToTask(n.id,t[i])},e.prototype.deleteResource=function(e){var t=this.viewModel.convertPublicToInternalKey("resource",e);E.isDefined(t)&&this.commandManager.removeResourceCommand.execute(t)},e.prototype.assignResourceToTask=function(e,t){var n=this.viewModel.convertPublicToInternalKey("resource",e),i=this.viewModel.convertPublicToInternalKey("task",t);E.isDefined(n)&&E.isDefined(i)&&this.commandManager.assignResourceCommand.execute(n,i)},e.prototype.unassignResourceFromTask=function(e,t){var n=this.viewModel.findAssignment(e,t);n&&this.commandManager.deassignResourceCommand.execute(n.internalId)},e.prototype.getResourceData=function(e){return this.viewModel.getResourceObjectForDataSource(e)},e.prototype.getResourceAssignmentData=function(e){return this.viewModel.getResourceAssignmentObjectForDataSource(e)},e.prototype.getTaskResources=function(e){var t=this.viewModel,n=t.getItemByPublicId("task",e);return n&&t.getAssignedResources(n).items},e.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map((function(e){return e.id}))},e.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map((function(e){return e.id}))},e.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map((function(e){return e.id}))},e.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map((function(e){return e.id}))},e.prototype.setTaskValue=function(e,t,n){var i=this.commandManager,o=this.getTaskByPublicId(e);if(o){if("title"===t){var r=n||"";return i.changeTaskTitleCommand.execute(o.internalId,r)}if("progress"===t){var a=Math.max(n,0);return a=Math.min(n,100),i.changeTaskProgressCommand.execute(o.internalId,a)}if("start"===t)return i.changeTaskStartCommand.execute(o.internalId,I.DateTimeUtils.getMinDate(n,o.end));if("end"===t)return i.changeTaskEndCommand.execute(o.internalId,I.DateTimeUtils.getMaxDate(n,o.start))}return!1},e.prototype.getLastInsertedTaskId=function(){var e=this.history.historyItems.filter((function(e){return e instanceof k.CreateTaskHistoryItem})),t=e[e.length-1];return t&&t.taskId},e.prototype.getLastInsertedResource=function(){var e=this.history.historyItems.filter((function(e){return e instanceof D.CreateResourceHistoryItem})),t=e[e.length-1];return t&&t.resource},e.prototype.getTaskByPublicId=function(e){return this.viewModel.tasks.getItemByPublicId(e)},e.prototype.getPrevTask=function(e){var t=this.viewModel.findItem(e),n=t.parent||this.viewModel.root,i=n.children.indexOf(t)-1;return i>-1?t.parent.children[i].task:t.parent.task},e.prototype.updateCreatedTaskIdAfterServerUpdate=function(e,t){var n=this.viewModel.findItem(e),i=n&&n.task;i&&(i.id=t)},e.prototype.getTaskIdByInternalId=function(e){var t=this.viewModel.findItem(e),n=t&&t.task;return n?n.id:null},e.prototype.isTaskHasChildren=function(e){var t=this.viewModel.findItem(e);return t&&t.children.length>0},e.prototype.requireFirstLoadParentAutoCalc=function(){var e=this.ganttOwner;return e.getRequireFirstLoadParentAutoCalc&&e.getRequireFirstLoadParentAutoCalc()},e.prototype.getOwnerControlMainElement=function(){var e=this.ganttOwner;return e.getMainElement&&e.getMainElement()},e.prototype.adjustOwnerControl=function(){var e=this.ganttOwner;e.adjustControl&&e.adjustControl()},e.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},e.prototype.applySettings=function(e,t){void 0===t&&(t=!1);var n=y.Settings.parse(e),i=t||this.settings.equal(n);this.settings=n,i||this.resetAndUpdate()},e.prototype.getDataUpdateErrorCallback=function(){var e=this,t=this.history,n=t.getCurrentProcessingItemInfo();return function(){e.dispatcher.lock(),t.rollBackAndRemove(n),e.dispatcher.unlock(),e.updateBarManager()}},e.prototype.setTaskTooltipContentTemplate=function(e){this.settings.taskTooltipContentTemplate=e},e.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},e.prototype.onTaskClick=function(e,t){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(e,t)},e.prototype.onTaskDblClick=function(e,t){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(e,t)},e.prototype.getDateFormat=function(e){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(e):this.getDefaultDateFormat(e)},e.prototype.getDefaultDateFormat=function(e){return("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)},e.prototype.destroyTemplate=function(e){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(e):e.innerHTML=""},e}();t.GanttView=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModel=void 0;var i=n(26),o=n(60),r=n(62),a=n(63),s=n(65),l=n(66),d=n(67),u=n(1),c=function(){function e(e,t,n,s,l,u,c){this._fLockCount=0,this.owner=e,this.tasks=new o.TaskCollection,this.tasks.importFromObject(t),this.dependencies=new r.DependencyCollection,this.dependencies.importFromObject(n),this.resources=new i.ResourceCollection,this.resources.importFromObject(s),this.assignments=new a.ResourceAssignmentCollection,this.assignments.importFromObject(l),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new d.WorkingTimeCalculator(u,c),this.updateModel()}return e.prototype.updateModel=function(){this._itemList.splice(0,this._itemList.length);for(var e=this.tasks.items,t=0;t<e.length;t++){var n=e[t];n&&this._itemList.push(new s.ViewVisualModelItem(n,this.getAssignedResources(n)))}this.createHierarchy(),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},e.prototype.createHierarchy=function(){var e=this;this.root=new s.ViewVisualModelItem(null,null);for(var t=this._itemList,n=this.requireFirstLoadParentAutoCalc,i=function(i){var r=t[i],a=r.task.parentId,s=t.filter((function(e){return e.task&&e.task.internalId===a||e.task.internalId.toString()===a}))[0]||o.root;r.parent=s,s.addChild(r),n&&o.owner.validationController.recalculateParents(r,(function(t){if(u.isDefined(t.id)){var n=e.tasks.getItemById(t.id);u.isDefined(t.start)&&(n.start=t.start),u.isDefined(t.end)&&(n.end=t.end),u.isDefined(t.progress)&&(n.progress=t.progress)}}))},o=this,r=0;r<t.length;r++)i(r);n&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},e.prototype.getCurrentTaskData=function(){var e=this;return this.tasks.items.map((function(t){return e.getTaskObjectForDataSource(t)}))},e.prototype.getTaskObjectForDataSource=function(e){var t=e.parentId&&this.tasks.getItemById(e.parentId);return{id:e.id,start:e.start,end:e.end,duration:e.duration,description:e.description,parentId:t&&t.id,progress:e.progress,color:e.color,taskType:e.taskType,title:e.title,customFields:e.customFields,expanded:e.expanded}},e.prototype.getDependencyObjectForDataSource=function(e){var t=this.getItemByPublicId("dependency",e);if(t){var n=this.convertInternalToPublicKey("task",t.predecessorId),i=this.convertInternalToPublicKey("task",t.successorId);return{id:t.id,predecessorId:u.isDefined(n)?n:t.predecessorId,successorId:u.isDefined(i)?i:t.successorId,type:t.type}}return null},e.prototype.getResourceObjectForDataSource=function(e){var t=this.getItemByPublicId("resource",e);return t?{id:t.id,text:t.text,color:t.color}:null},e.prototype.getResourceAssignmentObjectForDataSource=function(e){var t=this.getItemByPublicId("assignment",e);if(t){var n=this.convertInternalToPublicKey("task",t.taskId),i=this.convertInternalToPublicKey("resource",t.resourceId);return{id:t.id,taskId:u.isDefined(n)?n:t.taskId,resourceId:u.isDefined(i)?i:t.resourceId}}return null},e.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},e.prototype.populateVisibleItems=function(e){var t=this,n=e===this.root;e&&(e.task||n)&&(n||(this._viewItemList.push(e),e.visibleIndex=this._viewItemList.length-1),(e.getExpanded()||e===this.root)&&e.children.forEach((function(e){return t.populateVisibleItems(e)})))},e.prototype.updateVisibleItemDependencies=function(){for(var e=this._viewItemList,t=0;t<e.length;t++){var n=e[t],i=this.getTasVisibleDependencies(n.task);n.setDependencies(i)}},e.prototype.getAssignedResources=function(e){var t=this,n=new i.ResourceCollection,o=this.assignments.items.filter((function(t){return t.taskId==e.internalId}));return o.forEach((function(e){n.add(t.resources.getItemById(e.resourceId))})),n},e.prototype.getTasVisibleDependencies=function(e){for(var t=new Array,n=e.internalId,i=this.dependencies.items.filter((function(e){return e.successorId==n})),o=0;o<i.length;o++){var r=i[o],a=this.findItem(r.predecessorId);a&&a.getVisible()&&t.push(new l.ViewVisualModelDependencyInfo(r.internalId,a,r.type))}return t},e.prototype.changeTaskExpanded=function(e,t){var n=this.tasks.getItemById(String(e));n&&(n.expanded=t,this.changed())},e.prototype.changeTaskVisibility=function(e,t){var n=this.findItem(e);n&&(n.visible=t,this.changed())},e.prototype.changeTaskSelected=function(e,t){var n=this._itemList.filter((function(t){return t.task&&t.task.internalId===e}))[0];if(n){n.selected=t;var i=this.findItem(e),o=i&&i.visibleIndex;o>-1&&this.owner.recreateTaskElement(o)}},e.prototype.beginUpdate=function(){this._fLockCount++},e.prototype.endUpdate=function(){this._fLockCount--,0==this._fLockCount&&this.changed()},e.prototype.changed=function(){0===this._fLockCount&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},e.prototype.findItem=function(e){return this._viewItemList.filter((function(t){return t.task&&t.task.internalId===e}))[0]},Object.defineProperty(e.prototype,"items",{get:function(){return this._viewItemList.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),e.prototype.getTaskVisibility=function(e){var t=this.findItem(e);return!!t&&t.getVisible()},e.prototype.getTaskSelected=function(e){var t=this.findItem(e);return!!t&&t.selected},Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(e){this._workTimeCalculator.updateRange(e)},e.prototype.taskHasChildrenByIndex=function(e){return this._viewItemList[e].children.length>0},e.prototype.taskHasChildren=function(e){var t=this.findItem(e);return t&&t.children.length>0},Object.defineProperty(e.prototype,"parentAutoCalc",{get:function(){var e=this.owner&&this.owner.settings;return e&&e.validation&&e.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),e.prototype.isTaskToCalculateByChildren=function(e){return this.parentAutoCalc&&this.taskHasChildren(e)},e.prototype.hasTasks=function(){return this.tasks.length>0},e.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},e.prototype.convertPublicToInternalKey=function(e,t){var n=this.getItemByPublicId(e,t);return n&&n.internalId},e.prototype.convertInternalToPublicKey=function(e,t){var n=this.getItemByInternalId(e,t);return n&&n.id},e.prototype.getItemByPublicId=function(e,t){var n=t.toString();switch(e){case"task":return this.tasks.getItemByPublicId(n);case"dependency":return this.dependencies.getItemByPublicId(n);case"resource":return this.resources.getItemByPublicId(n);case"assignment":return this.assignments.getItemByPublicId(n)}return null},e.prototype.getItemByInternalId=function(e,t){switch(e){case"task":return this.tasks.getItemById(t);case"dependency":return this.dependencies.getItemById(t);case"resource":return this.resources.getItemById(t);case"assignment":return this.assignments.getItemById(t)}return null},e.prototype.findAssignment=function(e,t){var n=this.convertPublicToInternalKey("resource",e),i=this.convertPublicToInternalKey("task",t);return this.assignments.items.filter((function(e){return e.resourceId===n&&e.taskId===i}))[0]},e.prototype.getVisibleTasks=function(){var e=this;return this.tasks.items.filter((function(t){return t&&e.getTaskVisibility(t.internalId)}))},e.prototype.getVisibleDependencies=function(){var e=this.getVisibleTasks().map((function(e){return e.internalId}));return this.dependencies.items.filter((function(t){return t&&e.indexOf(t.successorId)>-1&&e.indexOf(t.predecessorId)>-1}))},e.prototype.getVisibleResourceAssignments=function(){var e=this.getVisibleTasks().map((function(e){return e.internalId}));return this.assignments.items.filter((function(t){return t&&e.indexOf(t.taskId)>-1}))},e.prototype.getVisibleResources=function(){for(var e=[],t=this.getVisibleResourceAssignments(),n=0;n<t.length;n++){var i=this.getItemByInternalId("resource",t[n].resourceId);i&&-1===e.indexOf(i)&&e.push(i)}return e},e}();t.ViewVisualModel=c},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GanttJsonUtils=void 0;var json_1=__webpack_require__(55),GanttJsonUtils=function(){function GanttJsonUtils(){}return GanttJsonUtils.evalJson=function(json){return json_1.JsonUtils.isValid(json)?eval("("+json+")"):null},GanttJsonUtils}();exports.GanttJsonUtils=GanttJsonUtils},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonUtils=void 0;var i=function(){function e(){}return e.isValid=function(e){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(e.replace(/"(\\.|[^"\\])*"/g,""))},e}();t.JsonUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var i=n(0),o=n(1),r=n(10),a=function(e){function t(){var t=e.call(this)||this;return t.text="",t.color="",t}return i.__extends(t,e),t.prototype.assignFromObject=function(t){o.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.text=t.text,o.isDefined(t.color)&&(this.color=t.color))},t}(r.DataObject);t.Resource=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListUtils=void 0;var i=n(58),o=n(59),r=function(){function e(){}return e.remove=function(e,t){var n=e.indexOf(t,0);n>=0&&e.splice(n,1)},e.removeBy=function(e,t){for(var n=e.length,i=0;i<n;i++)if(t(e[i],i))return e.splice(i,1)[0];return null},e.shallowCopy=function(e){return e.slice()},e.deepCopy=function(t){return e.map(t,(function(e){return e.clone()}))},e.initByValue=function(e,t){for(var n=[];e>0;e--)n.push(t);return n},e.initByCallback=function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n},e.forEachOnInterval=function(e,t){for(var n=e.end,i=e.start;i<n;i++)t(i)},e.reverseForEachOnInterval=function(e,t){for(var n=e.start,i=e.end-1;i>=n;i--)t(i)},e.reducedMap=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++){var a=t(e[r],r);null!==a&&o.push(a)}return o},e.filter=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++){var a=e[r];t(a,r)&&o.push(a)}return o},e.map=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++)o.push(t(e[r],r));return o},e.indexBy=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(t(e[o],o))return o;return-1},e.reverseIndexBy=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(t(e[o],o))return o;return-1},e.elementBy=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.indexBy(t,n,i,o);return r<0?null:t[r]},e.reverseElementBy=function(t,n,i,o){void 0===i&&(i=t.length-1),void 0===o&&(o=0);var r=e.reverseIndexBy(t,n,i,o);return r<0?null:t[r]},e.last=function(e){return e[e.length-1]},e.setLast=function(e,t){return e[e.length-1]=t},e.incLast=function(e){return++e[e.length-1]},e.decLast=function(e){return--e[e.length-1]},e.equals=function(t,n){return t.length===n.length&&e.allOf2(t,n,(function(e,t){return e.equals(t)}))},e.equalsByReference=function(e,t){var n=e.length,i=e.length;if(n!==i)return!1;for(var o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0},e.unique=function(t,n,i,o){void 0===i&&(i=n),void 0===o&&(o=function(){});var r=t.length;if(0===r)return[];t=t.sort(n);var a=t[0],s=e.reducedMap(t,(function(e){return 0!==i(a,e)?(a=e,e):(o(e),null)}),1,r);return s.unshift(t[0]),s},e.uniqueNumber=function(e){e=e.sort(o.Comparers.number);for(var t=Number.NaN,n=e.length-1;n>=0;n--)t===e[n]?e.splice(n,1):t=e[n];return e},e.forEach=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)t(e[o],o)},e.forEach2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)n(e[r],t[r],r)},e.reverseForEach=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)t(e[o],o)},e.reverseIndexOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(e[o]===t)return o;return-1},e.accumulate=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=t,a=i;a<o;a++)r=n(r,e[a],a);return r},e.accumulateNumber=function(e,t,n,i,o){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=n,a=i;a<o;a++)r+=t(e[a],a,r);return r},e.anyOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(t(e[o],o))return!0;return!1},e.unsafeAnyOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++){var r=t(e[o],o);if(r)return r}return null},e.reverseAnyOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(t(e[o],o))return!0;return!1},e.unsafeReverseAnyOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--){var r=t(e[o],o);if(r)return r}return null},e.anyOf2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)if(n(e[r],t[r],r))return!0;return!1},e.allOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(!t(e[o],o))return!1;return!0},e.allOf2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)if(!n(e[r],t[r],r))return!1;return!0},e.allOfOnInterval=function(e,t){for(var n=e.end,i=e.start;i<n;i++)if(!t(i))return!1;return!0},e.addListOnTail=function(e,t){for(var n=0,i=void 0;i=t[n];n++)e.push(i);return e},e.joinLists=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.accumulate(n,[],(function(n,i){return e.addListOnTail(n,t(i)),n}))},e.push=function(e,t){return e.push(t),e},e.countIf=function(t,n){return e.accumulateNumber(t,(function(e,t){return n(e,t)?1:0}))},e.clear=function(e){e.splice(0)},e.merge=function(e,t,n,i,o,r){if(void 0===o&&(o=0),void 0===r&&(r=e.length),e=e.slice(o,r),r-o<2)return e;e=e.sort(t);for(var a=e[o],s=[a],l=o+1;l<r;l++){var d=e[l];n(a,d)?i(a,d):(a=d,s.push(a))}return s},e.min=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.minExtended(t,n,i,o);return r?r.minElement:null},e.max=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.maxExtended(t,n,i,o);return r?r.maxElement:null},e.minMax=function(t,n,o,r){void 0===o&&(o=0),void 0===r&&(r=t.length);var a=e.minMaxExtended(t,n,o,r);return a?new i.MinMax(a.minElement,a.maxElement):null},e.minExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],a=t(r),s=n+1;s<o;s++){var l=e[s],d=t(l);d<a&&(a=d,r=l)}return new i.ExtendedMin(r,a)},e.maxExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],a=t(r),s=n+1;s<o;s++){var l=e[s],d=t(l);d>a&&(a=d,r=l)}return new i.ExtendedMax(r,a)},e.minMaxExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],a=r,s=t(r),l=s,d=n+1;d<o;d++){var u=e[d],c=t(u);c<s?(s=c,r=u):c>l&&(l=c,a=u)}return new i.ExtendedMinMax(r,s,a,l)},e.minByCmp=function(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),0===e.length)return null;for(var o=e[n],r=n+1;r<i;r++){var a=e[r];t(a,o)<0&&(o=a)}return o},e.maxByCmp=function(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),0===e.length)return null;for(var o=e[n],r=n+1;r<i;r++){var a=e[r];t(a,o)>0&&(o=a)}return o},e.minMaxByCmp=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],a=r,s=n+1;s<o;s++){var l=e[s],d=t(l,r);d>0?a=l:d<0&&(r=l)}return new i.MinMax(r,a)},e}();t.ListUtils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedMinMax=t.ExtendedMax=t.ExtendedMin=t.MinMaxNumber=t.MinMax=void 0;var i=n(0),o=function(){function e(e,t){this.minElement=e,this.maxElement=t}return e}();t.MinMax=o;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!1,configurable:!0}),t}(o);t.MinMaxNumber=r;var a=function(){function e(e,t){this.minElement=e,this.minValue=t}return e}();t.ExtendedMin=a;var s=function(){function e(e,t){this.maxElement=e,this.maxValue=t}return e}();t.ExtendedMax=s;var l=function(e){function t(t,n,i,o){var r=e.call(this,t,i)||this;return r.minValue=n,r.maxValue=o,r}return i.__extends(t,e),t}(o);t.ExtendedMinMax=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Equals=t.Comparers=void 0;var i=function(){function e(){}return e.number=function(e,t){return e-t},e.string=function(e,t){return e===t?0:e>t?1:-1},e.stringIgnoreCase=function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e===t?0:e>t?1:-1},e}();t.Comparers=i;var o=function(){function e(){}return e.simpleType=function(e,t){return e===t},e.object=function(e,t){return e&&t&&(e===t||e.equals(t))},e}();t.Equals=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCollection=void 0;var i=n(0),o=n(61),r=n(12),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new o.Task},t}(r.CollectionBase);t.TaskCollection=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Task=void 0;var i,o=n(0),r=n(1),a=n(10);(function(e){e[e["Regular"]=0]="Regular",e[e["Summary"]=1]="Summary",e[e["Milestone"]=2]="Milestone"})(i||(i={}));var s=function(e){function t(){var t=e.call(this)||this;return t.start=null,t.end=null,t.duration=null,t.description="",t.parentId="",t.title="",t.owner=null,t.progress=0,t.taskType=null,t.customFields={},t.expanded=!0,t.color="",t}return o.__extends(t,e),t.prototype.assignFromObject=function(t){r.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.owner=t.owner,this.parentId=t.parentId?String(t.parentId):t.parentId,this.description=t.description,this.title=t.title,this.start=t.start,this.end=t.end,this.start="string"==typeof t.start?new Date(t.start):t.start||new Date(0),this.end="string"==typeof t.end?new Date(t.end):t.end||new Date(0),this.duration=t.duration,this.progress=t.progress,this.taskType=t.taskType,r.isDefined(t.expanded)&&(this.expanded=!!t.expanded),r.isDefined(t.color)&&(this.color=t.color),this.assignCustomFields(t.customFields))},t.prototype.assignCustomFields=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.customFields[t]=e[t])},t.prototype.isMilestone=function(){return this.start.getTime()==this.end.getTime()},t.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},t}(a.DataObject);t.Task=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyCollection=void 0;var i=n(0),o=n(12),r=n(13),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.Dependency},t}(o.CollectionBase);t.DependencyCollection=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceAssignmentCollection=void 0;var i=n(0),o=n(12),r=n(64),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.ResourceAssignment},t}(o.CollectionBase);t.ResourceAssignmentCollection=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceAssignment=void 0;var i=n(0),o=n(10),r=n(1),a=function(e){function t(){var t=e.call(this)||this;return t.taskId="",t.resourceId="",t}return i.__extends(t,e),t.prototype.assignFromObject=function(t){r.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.taskId=String(t.taskId),this.resourceId=String(t.resourceId))},t}(o.DataObject);t.ResourceAssignment=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModelItem=void 0;var i=n(1),o=function(){function e(e,t){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=e,this.resources=t,this.children=new Array}return Object.defineProperty(e.prototype,"resourceText",{get:function(){var e="";return this.resources.items.forEach((function(t){return e+=t.text+" "})),e},enumerable:!1,configurable:!0}),e.prototype.addChild=function(e){i.isDefined(e)&&this.children.indexOf(e)<0&&this.children.push(e)},e.prototype.removeChild=function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)},e.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},e.prototype.getVisible=function(){if(!this.visible)return!1;var e=this.parent;while(e){if(!e.visible)return!1;e=e.parent}return!0},e.prototype.changeVisibility=function(e){this.visible=e},e.prototype.changeSelection=function(e){this.selected=e},e.prototype.setDependencies=function(e){e&&(this.dependencies=e.slice())},e}();t.ViewVisualModelItem=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModelDependencyInfo=void 0;var i=function(){function e(e,t,n){this.id=e,this.predecessor=t,this.type=n}return e}();t.ViewVisualModelDependencyInfo=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingTimeCalculator=void 0;var i=n(68),o=n(76),r=n(2),a=function(){function e(e,t){this._workingRules=new i.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=e,this._workingRules.importFromObject(t)}return e.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var e=this._workingRules.items,t=0;t<e.length;t++)this.processRule(e[t]);this.sortList()}},e.prototype.processRule=function(e){for(var t=e.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),n=function(n){var a=t[n],s=r.DateTimeUtils.getDayNumber(a),l=i._workDayList.filter((function(e){return e.dayNumber==s}))[0];l?(l.isWorkDay=l.isWorkDay&&e.isWorkDay,l.addWorkingIntervals(e.workTimeRanges)):i._workDayList.push(new o.DayWorkingTimeInfo(s,e.isWorkDay,e.workTimeRanges))},i=this,a=0;a<t.length;a++)n(a)},e.prototype.sortList=function(){this._workDayList.sort((function(e,t){return e.dayNumber-t.dayNumber}))},e.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},e.prototype.calculateNoWorkTimeIntervals=function(){var e=this,t=new Array;return 0==this._workDayList.length&&this.calculateWorkDayList(),this._workDayList.forEach((function(n){return t=t.concat(e.getNoWorkTimeRangesFromDay(n))})),this.concatJointedRanges(t)},e.prototype.concatJointedRanges=function(e){for(var t=new Array,n=0;n<e.length;n++){var i=e[n],o=t.length>0&&r.DateTimeUtils.compareDates(t[t.length-1].end,i.start)<2;o?t[t.length-1].end=i.end:t.push(i)}return t},e.prototype.getNoWorkTimeRangesFromDay=function(e){return e.noWorkingIntervals.map((function(t){return r.DateTimeUtils.convertTimeRangeToDateRange(t,e.dayNumber)}))},Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(e){this._calculationRange=e,this.invalidate()},e.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},e}();t.WorkingTimeCalculator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingDayRuleCollection=void 0;var i=n(0),o=n(12),r=n(69),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.WorkingTimeRule},t}(o.CollectionBase);t.WorkingDayRuleCollection=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingTimeRule=void 0;var i=n(0),o=n(10),r=n(1),a=n(2),s=n(37),l=n(38),d=function(e){function t(t,n,i){void 0===t&&(t=null),void 0===n&&(n=!0),void 0===i&&(i=null);var o=e.call(this)||this;return o.isWorkDay=!0,o.workTimeRanges=new Array,o.recurrence=t,o.isWorkDay=n,i&&o.workTimeRanges.concat(i),o}return i.__extends(t,e),t.prototype.assignFromObject=function(t){if(r.isDefined(t)){e.prototype.assignFromObject.call(this,t),this.recurrence=s.RecurrenceFactory.createRecurrenceByType(t.recurrenceType)||new l.Daily,r.isDefined(t.recurrence)&&this.recurrence.assignFromObject(t.recurrence),r.isDefined(t.isWorkDay)&&(this.isWorkDay=!!t.isWorkDay);var n=a.DateTimeUtils.convertToTimeRanges(t.workTimeRanges);n&&(this.workTimeRanges=n)}},t}(o.DataObject);t.WorkingTimeRule=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DayOfWeek=void 0,function(e){e[e["Sunday"]=0]="Sunday",e[e["Monday"]=1]="Monday",e[e["Tuesday"]=2]="Tuesday",e[e["Wednesday"]=3]="Wednesday",e[e["Thursday"]=4]="Thursday",e[e["Friday"]=5]="Friday",e[e["Saturday"]=6]="Saturday"}(t.DayOfWeek||(t.DayOfWeek={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Month=void 0,function(e){e[e["January"]=0]="January",e[e["February"]=1]="February",e[e["March"]=2]="March",e[e["April"]=3]="April",e[e["May"]=4]="May",e[e["June"]=5]="June",e[e["July"]=6]="July",e[e["August"]=7]="August",e[e["September"]=8]="September",e[e["October"]=9]="October",e[e["November"]=10]="November",e[e["December"]=11]="December"}(t.Month||(t.Month={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Weekly=void 0;var i=n(0),o=n(16),r=n(2),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return r.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,e)},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getWeeksBetween(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=r.DateTimeUtils.getWeeksBetween(this.start,e),n=Math.floor(t/this.interval),i=t%this.interval,o=i>0||e.getDay()>=this.dayOfWeekInternal;o&&n++;var a=n*this.interval;return this.calcNextPointWithWeekCount(this.start,a)},t.prototype.calculateNearestPoint=function(e){var t=this.dayOfWeekInternal-e.getDay();return t>0?r.DateTimeUtils.addDays(new Date(e),t):this.calcNextPointWithWeekCount(e,1)},t.prototype.calcNextPointWithWeekCount=function(e,t){void 0===t&&(t=1);var n=7*t+this.dayOfWeekInternal-e.getDay();return r.DateTimeUtils.addDays(new Date(e),n)},Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Weekly=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Monthly=void 0;var i=n(0),o=n(16),r=n(2),a=n(74),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return this._calculateByDayOfWeek?r.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):r.DateTimeUtils.checkDayOfMonth(this.dayInternal,e)},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getMonthsDifference(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=this.start,n=r.DateTimeUtils.getMonthsDifference(t,e),i=Math.floor(n/this.interval)*this.interval,o=new a.MonthInfo(t.getMonth(),t.getFullYear());o.addMonths(i);var s=this.getSpecDayInMonth(o.year,o.month);return r.DateTimeUtils.compareDates(s,e)>=0&&(o.addMonths(this.interval),s=this.getSpecDayInMonth(o.year,o.month)),s},t.prototype.calculateNearestPoint=function(e){var t=e.getMonth(),n=e.getFullYear(),i=this.getSpecDayInMonth(n,t);if(r.DateTimeUtils.compareDates(i,e)>=0){var o=new a.MonthInfo(t,n);o.addMonths(1),i=this.getSpecDayInMonth(o.year,o.month)}return i},Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Monthly=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonthInfo=void 0;var i=n(2),o=function(){function e(e,t){this.month=e,this.year=t}return e.prototype.addMonths=function(e){var t=i.DateTimeUtils.getNextMonth(this.month,e),n=Math.floor(e/12);t<this.month&&++n,this.month=t,this.year+=n},e}();t.MonthInfo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Yearly=void 0;var i=n(0),o=n(16),r=n(2),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return!!r.DateTimeUtils.checkMonth(this.month,e)&&(this._calculateByDayOfWeek?r.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):r.DateTimeUtils.checkDayOfMonth(this.dayInternal,e))},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getYearsDifference(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=r.DateTimeUtils.getYearsDifference(this.start,e),n=Math.floor(t/this.interval)*this.interval,i=this.start.getFullYear()+n,o=this.getSpecDayInMonth(i,this.monthInternal);return r.DateTimeUtils.compareDates(o,e)>=0&&(i+=this.interval,o=this.getSpecDayInMonth(i,this.monthInternal)),o},t.prototype.calculateNearestPoint=function(e){var t=e.getFullYear(),n=this.getSpecDayInMonth(t,this.monthInternal);return r.DateTimeUtils.compareDates(n,e)>=0&&(n=this.getSpecDayInMonth(++t,this.monthInternal)),n},Object.defineProperty(t.prototype,"month",{get:function(){return this.monthInternal},set:function(e){this.monthInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Yearly=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DayWorkingTimeInfo=void 0;var i=n(35),o=n(2),r=n(34),a=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=!0),void 0===n&&(n=null),this._workingIntervals=new Array,this.dayNumber=e,this.isWorkDay=t,this.addWorkingIntervals(n)}return e.prototype.addWorkingIntervals=function(e){e&&(this._workingIntervals=this._workingIntervals.concat(e.filter((function(e){return!!e}))),this.rearrangeWorkingIntervals())},e.prototype.rearrangeWorkingIntervals=function(){for(var e=0;e<this._workingIntervals.length;e++)this.concatWithIntersectedRanges(this._workingIntervals[e]);this.sortIntervals()},e.prototype.concatWithIntersectedRanges=function(e){var t=this,n=this.getIntersectedIntervals(e);n.forEach((function(n){e.concatWith(n),t.removeInterval(n)}))},e.prototype.getIntersectedIntervals=function(e){return this._workingIntervals.filter((function(t){return t.hasIntersect(e)&&t!==e}))},e.prototype.sortIntervals=function(){this._workingIntervals.sort((function(e,t){return o.DateTimeUtils.caclTimeDifference(t.start,e.start)}))},e.prototype.removeInterval=function(e){var t=this._workingIntervals.indexOf(e);t>-1&&t<this._workingIntervals.length&&this._workingIntervals.splice(t,1)},e.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(e.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){var e=new Array;if(this.isWorkDay&&0==this._workingIntervals.length)return e;var t=this._workingIntervals.map((function(e){return e.end}));t.splice(0,0,new r.Time);var n=this._workingIntervals.map((function(e){return e.start}));n.push(o.DateTimeUtils.getLastTimeOfDay());for(var a=0;a<t.length;a++){var s=t[a],l=n[a];o.DateTimeUtils.areTimesEqual(s,l)||e.push(new i.TimeRange(s,l))}return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(e){this._isWorkDay=e,e||this.clearIntervals()},enumerable:!1,configurable:!0}),e}();t.DayWorkingTimeInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Margins=void 0;var i=n(0),o=n(78),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.empty=function(){return new t(0,0,0,0)},t.prototype.clone=function(){return new t(this.left,this.right,this.top,this.bottom)},t}(o.Offsets);t.Margins=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Offsets=void 0;var i=function(){function e(e,t,n,i){this.left=e,this.right=t,this.top=n,this.bottom=i}return e.empty=function(){return new e(0,0,0,0)},Object.defineProperty(e.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),e.fromNumber=function(t){return new e(t,t,t,t)},e.fromOffsets=function(t){return new e(t.left,t.right,t.top,t.bottom)},e.fromSide=function(t,n){return new e(t,t,n,n)},e.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.isEmpty=function(){return 0===this.left&&0===this.right&&0===this.top&&0===this.bottom},e.prototype.offset=function(e){return this.left+=e.left,this.right+=e.right,this.top+=e.top,this.bottom+=e.bottom,this},e.prototype.multiply=function(e,t,n,i){switch(arguments.length){case 1:return this.left*=e,this.right*=e,this.top*=e,this.bottom*=e,this;case 2:return this.left*=e,this.right*=e,this.top*=t,this.bottom*=t,this;case 4:return this.left*=e,this.right*=t,this.top*=n,this.bottom*=i,this}return this},e.prototype.clone=function(){return new e(this.left,this.right,this.top,this.bottom)},e.prototype.copyFrom=function(e){this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom},e.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.right===e.right&&this.left===e.left},e.prototype.applyConverter=function(e){return this.left=e(this.left),this.right=e(this.right),this.top=e(this.top),this.bottom=e(this.bottom),this},e}();t.Offsets=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EtalonSizeValues=void 0;var i=function(){function e(){this.scaleItemWidths={}}return e}();t.EtalonSizeValues=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelManipulator=void 0;var i=n(81),o=n(82),r=n(84),a=function(){function e(e,t){this.task=new r.TaskManipulator(e,t),this.dependency=new i.TaskDependencyManipulator(e,t),this.resource=new o.ResourcesManipulator(e,t),this.dispatcher=t}return e}();t.ModelManipulator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskDependencyManipulator=void 0;var i=n(0),o=n(18),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.insertDependency=function(e,t,n,i){var o=this.viewModel.dependencies.createItem();return o.predecessorId=e,o.successorId=t,o.type=n,i&&(o.internalId=i),o.id=o.internalId,this.viewModel.dependencies.add(o),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(o),(function(e){return o.id=e}),this.getErrorCallback()),this.viewModel.updateVisibleItemDependencies(),this.viewModel.owner.recreateConnectorLineElement(o.internalId,!0),o},t.prototype.removeDependency=function(e){var t=this.viewModel.dependencies.getItemById(e);return this.viewModel.dependencies.remove(t),this.dispatcher.notifyDependencyRemoved(t.id,this.getErrorCallback()),this.viewModel.updateVisibleItemDependencies(),this.viewModel.owner.recreateConnectorLineElement(t.internalId),t},t.prototype.getObjectForDataSource=function(e){return{id:e.id,predecessorId:this.viewModel.tasks.getItemById(e.predecessorId).id,successorId:this.viewModel.tasks.getItemById(e.successorId).id,type:e.type}},t}(o.BaseManipulator);t.TaskDependencyManipulator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesManipulator=void 0;var i=n(0),o=n(18),r=n(83),a=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.properties=new r.ResourcePropertiesManipulator(t,n),i}return i.__extends(t,e),t.prototype.create=function(e,t,n,i){var o=this.viewModel.resources.createItem();return o.text=e,t&&(o.color=t),n&&(o.internalId=n),o.id=o.internalId,this.viewModel.resources.add(o),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(o),(function(e){o.id=e,i&&i()}),this.getErrorCallback()),o},t.prototype.remove=function(e){var t=this.viewModel.resources.getItemById(e);if(!t)throw new Error("Invalid resource id");var n=this.viewModel.assignments.items.filter((function(t){return t.resourceId==e}));if(n.length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(t),this.dispatcher.notifyResourceRemoved(t.id,this.getErrorCallback()),t},t.prototype.assign=function(e,t,n){var i=this.viewModel.assignments.createItem();return i.resourceId=e,i.taskId=t,n&&(i.internalId=n),i.id=i.internalId,this.viewModel.assignments.add(i),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(i),(function(e){return i.id=e}),this.getErrorCallback()),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),i},t.prototype.deassig=function(e){var t=this.viewModel.assignments.getItemById(e);return this.viewModel.assignments.remove(t),this.dispatcher.notifyResourceUnassigned(t.id,this.getErrorCallback()),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.getResourceObjectForDataSource=function(e){return{id:e.id,text:e.text}},t.prototype.getResourceAssignmentObjectForDataSource=function(e){return{id:e.id,taskId:this.viewModel.tasks.getItemById(e.taskId).id,resourceId:this.viewModel.resources.getItemById(e.resourceId).id}},t}(o.BaseManipulator);t.ResourcesManipulator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcePropertyManipulator=t.ResourcePropertiesManipulator=void 0;var i=n(0),o=n(18),r=n(43),a=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.color=new l(t,n),i}return i.__extends(t,e),t}(o.BaseManipulator);t.ResourcePropertiesManipulator=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.setValue=function(e,t){var n=this,i=this.viewModel.resources.getItemById(e),o=new r.HistoryItemState(e,this.getPropertyValue(i));this.setPropertyValue(i,t);var a=this.viewModel.assignments.items.filter((function(e){return e.resourceId==i.internalId}));return a.forEach((function(e){var t=n.viewModel.findItem(e.taskId),i=t.visibleIndex;n.viewModel.owner.recreateTaskElement(i)})),o},t.prototype.restoreValue=function(e){var t=this;if(e){var n=e.value,i=this.viewModel.resources.getItemById(e.id);this.setPropertyValue(i,n);var o=this.viewModel.assignments.items.filter((function(e){return e.resourceId==i.internalId}));o.forEach((function(e){var n=t.viewModel.findItem(e.taskId),i=n.visibleIndex;t.viewModel.owner.recreateTaskElement(i)}))}},t}(o.BaseManipulator);t.ResourcePropertyManipulator=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.color},t.prototype.setPropertyValue=function(e,t){e.color=t,this.dispatcher.notifyResourceColorChanged(e.id,t,this.getErrorCallback())},t}(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskManipulator=void 0;var i=n(0),o=n(18),r=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.properties=new o.TaskPropertiesManipulator(t,n),i}return i.__extends(t,e),t.prototype.create=function(e,t,n,i,o,r,a){var s=this,l=this.viewModel.tasks.createItem();l.start=e,l.end=t,l.title=n,l.progress=i;var d=this.viewModel.tasks.getItemById(o);return d&&(d.expanded=!0),l.parentId=o,r&&(l.internalId=r),l.id=l.internalId,this.viewModel.tasks.add(l),this.viewModel.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(l),(function(e){if(l.id=e,a&&a(),s.viewModel.requireFirstLoadParentAutoCalc){var t=s.viewModel.getCurrentTaskData().map((function(e){return""===e.parentId&&(e.parentId=null),e}));s.dispatcher.notifyParentDataRecalculated(t)}}),this.getErrorCallback()),this.viewModel.owner.resetAndUpdate(),l},t.prototype.remove=function(e){var t=this.viewModel.tasks.getItemById(e);if(!t)throw new Error("Invalid task id");var n=this.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e||t.successorId==e}));if(n.length)throw new Error("Can't delete task with dependency");var i=this.viewModel.assignments.items.filter((function(t){return t.taskId==e}));if(i.length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(t),this.dispatcher.notifyTaskRemoved(t.id,this.getErrorCallback()),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.getObjectForDataSource=function(e){return this.viewModel.getTaskObjectForDataSource(e)},t}(o.BaseManipulator);t.TaskManipulator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.History=void 0;var i=n(11),o=n(86),r=function(){function e(){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1}return e.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},e.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},e.prototype.beginTransaction=function(){this.transactionLevel++,0==this.transactionLevel&&(this.transaction=new i.CompositionHistoryItem)},e.prototype.endTransaction=function(){if(!(--this.transactionLevel>=0)){var e=this.transaction.historyItems.length;e>1?this.addInternal(this.transaction):1==e&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null}},e.prototype.addAndRedo=function(e){this.add(e),this.activateItem(e)},e.prototype.add=function(e){this.transactionLevel>=0?this.transaction.add(e):this.addInternal(e)},e.prototype.canUndo=function(){return this.currentIndex>=0},e.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},e.prototype.addInternal=function(e){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(e),this.currentIndex++,this.deleteOldItems()},e.prototype.deleteOldItems=function(){var t=this.historyItems.length-e.MAX_HISTORY_ITEM_COUNT;t>0&&this.currentIndex>t&&(this.historyItems.splice(0,t),this.currentIndex-=t)},e.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},e.prototype.activateItem=function(e,t){void 0===t&&(t=!1),this.currentProcessingItemInfo=new o.HistoryItemInfo(e,t),t?e.undo():e.redo(),this.currentProcessingItemInfo=null},e.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},e.prototype.rollBackAndRemove=function(e){var t=e.item;this.checkAndRemoveItem(t)&&(e.isUndo?t.redo():t instanceof i.CompositionHistoryItem?t.undoItemsQuery():t.undo())},e.prototype.checkAndRemoveItem=function(e){var t=this.historyItems.indexOf(e);return t>-1?(this.historyItems.splice(t,1),this.currentIndex--):this.transaction&&(t=this.transaction.historyItems.indexOf(e),t>-1&&this.transaction.historyItems.splice(t,1)),t>-1},e.MAX_HISTORY_ITEM_COUNT=100,e}();t.History=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryItemInfo=void 0;var i=function(){function e(e,t){void 0===t&&(t=!1),this.item=e,this.isUndo=t}return e}();t.HistoryItemInfo=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;var i=n(88),o=n(93),r=n(5),a=n(95),s=function(){function e(e){this.control=e,this.mouseHandler=new i.MouseHandler(e),this.touchHandler=new a.TouchHandler(e)}return e.prototype.onMouseDown=function(e){this.mouseHandler.onMouseDown(e)},e.prototype.onMouseMove=function(e){this.mouseHandler.onMouseMove(e)},e.prototype.onMouseUp=function(e){this.mouseHandler.onMouseUp(e)},e.prototype.onMouseDblClick=function(e){this.mouseHandler.onMouseDoubleClick(e)},e.prototype.onMouseWheel=function(e){this.mouseHandler.onMouseWheel(e)},e.prototype.onTouchStart=function(e){this.touchHandler.onTouchStart(e)},e.prototype.onTouchEnd=function(e){this.touchHandler.onTouchEnd(e)},e.prototype.onTouchMove=function(e){this.touchHandler.onTouchMove(e)},e.prototype.onDoubleTap=function(e){this.touchHandler.onDoubleTap(e)},e.prototype.onKeyDown=function(e){if(this.control.isFocus){var t=this.getShortcutCode(e);t==(o.ModifierKey.Ctrl|o.KeyCode.Key_z)&&this.control.history.undo(),t==(o.ModifierKey.Ctrl|o.KeyCode.Key_y)&&this.control.history.redo(),t==o.KeyCode.Delete&&this.control.taskEditController.deleteSelectedDependency()}},e.prototype.getShortcutCode=function(e){var t=o.KeyUtils.getEventKeyCode(e),n=0;return e.altKey&&(n|=o.ModifierKey.Alt),e.ctrlKey&&(n|=o.ModifierKey.Ctrl),e.shiftKey&&(n|=o.ModifierKey.Shift),e.metaKey&&r.Browser.MacOSPlatform&&(n|=o.ModifierKey.Meta),n|t},e}();t.EventManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandler=void 0;var i=n(0),o=n(44),r=n(8),a=n(89),s=n(6),l=n(90),d=n(91),u=n(92),c=n(45),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDoubleClick=function(e){this.state.onMouseDoubleClick(e)},t.prototype.onMouseDown=function(e){var t=this.getEventSource(s.EvtUtils.getEventSource(e));switch(t){case r.MouseEventSource.TaskEdit_Frame:this.switchState(new l.MouseHandlerMoveTaskState(this));break;case r.MouseEventSource.TaskEdit_Progress:this.switchState(new d.MouseHandlerProgressTaskState(this));break;case r.MouseEventSource.TaskEdit_Start:case r.MouseEventSource.TaskEdit_End:this.switchState(new u.MouseHandlerTimestampTaskState(this));break;case r.MouseEventSource.TaskEdit_DependencyStart:case r.MouseEventSource.TaskEdit_DependencyFinish:this.switchState(new c.MouseHandlerDependencyState(this));break}this.state.onMouseDown(e)},t.prototype.onMouseUp=function(e){this.state.onMouseUp(e)},t.prototype.onMouseMove=function(e){this.state.onMouseMove(e)},t.prototype.onMouseWheel=function(e){this.state.onMouseWheel(e)},t.prototype.switchToDefaultState=function(){this.state=new a.MouseHandlerDefaultState(this)},t}(o.HandlerBase);t.MouseHandler=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttMovingHelper=t.MouseHandlerDefaultState=void 0;var i=n(0),o=n(3),r=n(6),a=n(29),s=n(17),l=n(4),d=n(5),u=function(e){function t(t){var n=e.call(this,t)||this;return n.isInScrolling=!1,n.ganttMovingHelper=new c(n.handler.control),n}return i.__extends(t,e),t.prototype.onMouseDown=function(e){e.preventDefault();var t=r.EvtUtils.getEventSource(e);if(o.DomUtils.hasClassName(t,s.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||o.DomUtils.hasClassName(t,s.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)){var n=t.getAttribute("dependency-id");if(this.handler.control.taskEditController.dependencyId!=n&&(this.handler.control.selectDependency(n),e instanceof PointerEvent)){var i={event:e,type:"dependency",key:n,position:new l.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e))};this.handler.control.ganttOwner.showPopupMenu(i)}}else r.EvtUtils.isLeftButtonPressed(e)&&this.ganttMovingHelper.startMoving(e),null!=this.handler.control.taskEditController.dependencyId&&this.handler.control.selectDependency(null)},t.prototype.onMouseUp=function(e){this.ganttMovingHelper.onMouseUp(e)},t.prototype.onMouseMove=function(e){this.ganttMovingHelper.movingInfo&&(this.handler.control.taskEditController.hide(),this.ganttMovingHelper.onMouseMove(e),e.preventDefault())},t.prototype.onMouseWheel=function(e){var t=this;if(e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),!this.isInScrolling)){this.isInScrolling=!0,setTimeout((function(){t.isInScrolling=!1}),50);var n=r.EvtUtils.getWheelDelta(e)>0,i=r.EvtUtils.getEventX(e)-o.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement());n?this.handler.control.zoomIn(i):this.handler.control.zoomOut(i)}},t}(a.MouseHandlerStateBase);t.MouseHandlerDefaultState=u;var c=function(){function e(e){this.gantt=e,this.movingInfo=null}return e.prototype.startMoving=function(e){this.movingInfo=this.calcMovingInfo(e),this.updateGanttAreaCursor(!0)},e.prototype.cancelMoving=function(){this.movingInfo=null},e.prototype.onMouseMove=function(e){this.move(e)},e.prototype.onMouseUp=function(e){this.cancelMoving(),this.updateGanttAreaCursor(!1)},e.prototype.move=function(e){this.updateScrollPosition(e)},e.prototype.updateScrollPosition=function(e){var t=Math.round(r.EvtUtils.getEventX(e)),n=Math.round(r.EvtUtils.getEventY(e)),i=t-this.movingInfo.eventX,o=n-this.movingInfo.eventY,a=i<0?-1:1,s=o<0?-1:1,l=a<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,d=s<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(i)>l&&(i=l*a),Math.abs(o)>d&&(o=d*s);var u=this.movingInfo.scrollLeft-i,c=this.movingInfo.scrollTop-o,h=this.gantt.taskAreaContainer;h.scrollLeft!==u&&(h.scrollLeft=u),h.scrollTop!==c&&(h.scrollTop=c)},e.prototype.calcMovingInfo=function(e){var t=this.gantt.taskAreaContainer;return{eventX:r.EvtUtils.getEventX(e),eventY:r.EvtUtils.getEventY(e),scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,maxLeftDelta:t.scrollLeft,maxRightDelta:t.scrollWidth-t.scrollLeft-t.getElement().offsetWidth,maxTopDelta:t.scrollTop,maxBottomDelta:t.scrollHeight-t.scrollTop-t.getElement().offsetHeight}},e.prototype.updateGanttAreaCursor=function(e){d.Browser.IE?this.gantt.taskAreaContainer.getElement().style.cursor=e?"move":"default":this.gantt.taskAreaContainer.getElement().style.cursor=e?"grabbing":"default"},e}();t.GanttMovingHelper=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerMoveTaskState=void 0;var i=n(0),o=n(30),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseUpInternal=function(e){this.handler.control.taskEditController.confirmMove()},t.prototype.onMouseMoveInternal=function(e){this.handler.control.taskEditController.processMove(e.x-this.currentPosition.x)||this.handler.switchToDefaultState()},t}(o.MouseHandlerDragBaseState);t.MouseHandlerMoveTaskState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerProgressTaskState=void 0;var i=n(0),o=n(30),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseUpInternal=function(e){this.handler.control.taskEditController.confirmProgress()},t.prototype.onMouseMoveInternal=function(e){var t=this.getRelativePos(e);this.handler.control.taskEditController.processProgress(t)},t}(o.MouseHandlerDragBaseState);t.MouseHandlerProgressTaskState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerTimestampTaskState=void 0;var i=n(0),o=n(8),r=n(6),a=n(30),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDown=function(t){e.prototype.onMouseDown.call(this,t),this.source=this.handler.getEventSource(r.EvtUtils.getEventSource(t))},t.prototype.onMouseUpInternal=function(e){this.source==o.MouseEventSource.TaskEdit_Start?this.handler.control.taskEditController.confirmStart():this.handler.control.taskEditController.confirmEnd()},t.prototype.onMouseMoveInternal=function(e){var t=this.getRelativePos(e);this.source==o.MouseEventSource.TaskEdit_Start&&this.handler.control.taskEditController.processStart(t),this.source==o.MouseEventSource.TaskEdit_End&&this.handler.control.taskEditController.processEnd(t)},t}(a.MouseHandlerDragBaseState);t.MouseHandlerTimestampTaskState=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCode=t.ModifierKey=t.KeyUtils=void 0;var i,o,r=n(5),a=n(94),s=n(27),l=function(){function e(){}return e.getKeyModifiers=function(e){var t=0;return e.altKey&&(t|=i.Alt),e.ctrlKey&&(t|=i.Ctrl),e.shiftKey&&(t|=i.Shift),t},e.getShortcutCode=function(e,t,n,o,r){var a=e;return a|=t?i.Ctrl:0,a|=n?i.Shift:0,a|=o?i.Alt:0,a|=r?i.Meta:0,a},e.getShortcutCodeByEvent=function(t){return e.getShortcutCode(e.getEventKeyCode(t),t.ctrlKey,t.shiftKey,t.altKey,!!r.Browser.MacOSPlatform&&t.metaKey)},e.getEventKeyCode=function(e){return r.Browser.NetscapeFamily||r.Browser.Opera?e.which:e.keyCode},e.parseShortcutString=function(t){if(!t)return 0;var n=!1,i=!1,r=!1,l=!1,d=null,u=t.toString().split("+");if(u.length>0)for(var c=0;c<u.length;c++){var h=s.StringUtils.trim(u[c].toUpperCase());switch(h){case"CONTROL":case"CONTROLKEY":case"CTRL":n=!0;break;case"SHIFT":case"SHIFTKEY":i=!0;break;case"ALT":r=!0;break;case"CMD":l=!0;break;case"F1":d=o.F1;break;case"F2":d=o.F2;break;case"F3":d=o.F3;break;case"F4":d=o.F4;break;case"F5":d=o.F5;break;case"F6":d=o.F6;break;case"F7":d=o.F7;break;case"F8":d=o.F8;break;case"F9":d=o.F9;break;case"F10":d=o.F10;break;case"F11":d=o.F11;break;case"F12":d=o.F12;break;case"RETURN":case"ENTER":d=o.Enter;break;case"HOME":d=o.Home;break;case"END":d=o.End;break;case"LEFT":d=o.Left;break;case"RIGHT":d=o.Right;break;case"UP":d=o.Up;break;case"DOWN":d=o.Down;break;case"PAGEUP":d=o.PageUp;break;case"PAGEDOWN":d=o.PageDown;break;case"SPACE":d=o.Space;break;case"TAB":d=o.Tab;break;case"BACKSPACE":case"BACK":d=o.Backspace;break;case"CONTEXT":d=o.ContextMenu;break;case"ESCAPE":case"ESC":d=o.Esc;break;case"DELETE":case"DEL":d=o.Delete;break;case"INSERT":case"INS":d=o.Insert;break;case"PLUS":d="+".charCodeAt(0);break;default:d=h.charCodeAt(0);break}}else alert(a.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return e.getShortcutCode(d,n,i,r,l)},e}();t.KeyUtils=l,function(e){e[e["None"]=0]="None",e[e["Ctrl"]=65536]="Ctrl",e[e["Shift"]=262144]="Shift",e[e["Alt"]=1048576]="Alt",e[e["Meta"]=16777216]="Meta"}(i=t.ModifierKey||(t.ModifierKey={})),function(e){e[e["Backspace"]=8]="Backspace",e[e["Tab"]=9]="Tab",e[e["Enter"]=13]="Enter",e[e["Pause"]=19]="Pause",e[e["CapsLock"]=20]="CapsLock",e[e["Esc"]=27]="Esc",e[e["Space"]=32]="Space",e[e["PageUp"]=33]="PageUp",e[e["PageDown"]=34]="PageDown",e[e["End"]=35]="End",e[e["Home"]=36]="Home",e[e["Left"]=37]="Left",e[e["Up"]=38]="Up",e[e["Right"]=39]="Right",e[e["Down"]=40]="Down",e[e["Insert"]=45]="Insert",e[e["Delete"]=46]="Delete",e[e["Key_0"]=48]="Key_0",e[e["Key_1"]=49]="Key_1",e[e["Key_2"]=50]="Key_2",e[e["Key_3"]=51]="Key_3",e[e["Key_4"]=52]="Key_4",e[e["Key_5"]=53]="Key_5",e[e["Key_6"]=54]="Key_6",e[e["Key_7"]=55]="Key_7",e[e["Key_8"]=56]="Key_8",e[e["Key_9"]=57]="Key_9",e[e["Key_a"]=65]="Key_a",e[e["Key_b"]=66]="Key_b",e[e["Key_c"]=67]="Key_c",e[e["Key_d"]=68]="Key_d",e[e["Key_e"]=69]="Key_e",e[e["Key_f"]=70]="Key_f",e[e["Key_g"]=71]="Key_g",e[e["Key_h"]=72]="Key_h",e[e["Key_i"]=73]="Key_i",e[e["Key_j"]=74]="Key_j",e[e["Key_k"]=75]="Key_k",e[e["Key_l"]=76]="Key_l",e[e["Key_m"]=77]="Key_m",e[e["Key_n"]=78]="Key_n",e[e["Key_o"]=79]="Key_o",e[e["Key_p"]=80]="Key_p",e[e["Key_q"]=81]="Key_q",e[e["Key_r"]=82]="Key_r",e[e["Key_s"]=83]="Key_s",e[e["Key_t"]=84]="Key_t",e[e["Key_u"]=85]="Key_u",e[e["Key_v"]=86]="Key_v",e[e["Key_w"]=87]="Key_w",e[e["Key_x"]=88]="Key_x",e[e["Key_y"]=89]="Key_y",e[e["Key_z"]=90]="Key_z",e[e["Windows"]=91]="Windows",e[e["ContextMenu"]=93]="ContextMenu",e[e["Numpad_0"]=96]="Numpad_0",e[e["Numpad_1"]=97]="Numpad_1",e[e["Numpad_2"]=98]="Numpad_2",e[e["Numpad_3"]=99]="Numpad_3",e[e["Numpad_4"]=100]="Numpad_4",e[e["Numpad_5"]=101]="Numpad_5",e[e["Numpad_6"]=102]="Numpad_6",e[e["Numpad_7"]=103]="Numpad_7",e[e["Numpad_8"]=104]="Numpad_8",e[e["Numpad_9"]=105]="Numpad_9",e[e["Multiply"]=106]="Multiply",e[e["Add"]=107]="Add",e[e["Subtract"]=109]="Subtract",e[e["Decimal"]=110]="Decimal",e[e["Divide"]=111]="Divide",e[e["F1"]=112]="F1",e[e["F2"]=113]="F2",e[e["F3"]=114]="F3",e[e["F4"]=115]="F4",e[e["F5"]=116]="F5",e[e["F6"]=117]="F6",e[e["F7"]=118]="F7",e[e["F8"]=119]="F8",e[e["F9"]=120]="F9",e[e["F10"]=121]="F10",e[e["F11"]=122]="F11",e[e["F12"]=123]="F12",e[e["NumLock"]=144]="NumLock",e[e["ScrollLock"]=145]="ScrollLock",e[e["Semicolon"]=186]="Semicolon",e[e["Equals"]=187]="Equals",e[e["Comma"]=188]="Comma",e[e["Dash"]=189]="Dash",e[e["Period"]=190]="Period",e[e["ForwardSlash"]=191]="ForwardSlash",e[e["GraveAccent"]=192]="GraveAccent",e[e["OpenBracket"]=219]="OpenBracket",e[e["BackSlash"]=220]="BackSlash",e[e["CloseBracket"]=221]="CloseBracket",e[e["SingleQuote"]=222]="SingleQuote"}(o=t.KeyCode||(t.KeyCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncodeUtils=void 0;var i=function(){function e(){}return e.encodeHtml=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.decodeHtml=function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},e.prepareTextForRequest=function(e){return e.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},e.prepareTextForCallBackRequest=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.decodeViaTextArea=function(e){var t=document.createElement("TEXTAREA");return t.innerHTML=e,t.value},e}();t.EncodeUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandler=void 0;var i=n(0),o=n(44),r=n(6),a=n(8),s=n(96),l=n(97),d=n(98),u=n(99),c=n(100),h=n(101),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){e.touches.length>1&&e.preventDefault();var t=this.getEventSource(r.EvtUtils.getEventSource(e));switch(t){case a.MouseEventSource.TaskEdit_Frame:this.switchState(new s.TouchHandlerMoveTaskState(this));break;case a.MouseEventSource.TaskEdit_Progress:this.switchState(new d.TouchHandlerProgressTaskState(this));break;case a.MouseEventSource.TaskEdit_Start:case a.MouseEventSource.TaskEdit_End:this.switchState(new u.TouchHandlerTimestampTaskState(this));break;case a.MouseEventSource.TaskEdit_DependencyStart:case a.MouseEventSource.TaskEdit_DependencyFinish:this.switchState(new c.TouchHandlerDependencyState(this));break}this.state.onTouchStart(e)},t.prototype.onDoubleTap=function(e){this.state.onDoubleTap(e)},t.prototype.onTouchEnd=function(e){this.state.onTouchEnd(e)},t.prototype.onTouchMove=function(e){e.touches.length>1&&(this.state instanceof h.TouchHandlerZoomState||this.switchState(new h.TouchHandlerZoomState(this))),this.state.onTouchMove(e)},t.prototype.switchToDefaultState=function(){this.state=new l.TouchHandlerDefaultState(this)},t}(o.HandlerBase);t.TouchHandler=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerMoveTaskState=void 0;var i=n(0),o=n(31),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchEndInternal=function(e){this.handler.control.taskEditController.confirmMove()},t.prototype.onTouchMoveInternal=function(e){this.handler.control.taskEditController.processMove(e.x-this.currentPosition.x)||this.handler.switchToDefaultState()},t}(o.TouchHandlerDragBaseState);t.TouchHandlerMoveTaskState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerDefaultState=void 0;var i=n(0),o=n(4),r=n(3),a=n(6),s=n(15),l=n(17),d=n(19),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){var t=this;if(this.preventSelect=!1,clearTimeout(this.popupTimer),1===e.touches.length){var n=a.EvtUtils.getEventSource(e),i={event:e,position:new o.Point(a.EvtUtils.getEventX(e),a.EvtUtils.getEventY(e))};if(r.DomUtils.hasClassName(n,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||r.DomUtils.hasClassName(n,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)){this.preventSelect=!0;var s=n.getAttribute("dependency-id");this.handler.control.taskEditController.dependencyId!=s&&this.handler.control.selectDependency(s),i["type"]="dependency",i["key"]=s,this.handler.control.ganttOwner.showPopupMenu(i)}else this.popupTimer=setTimeout((function(){var n=t.getTaskIndex(e);t.changeTaskSelection(n);var o=t.handler.control.viewModel.items[n];i["type"]="task",i["key"]=o&&o.task.id,t.handler.control.ganttOwner.showPopupMenu(i)}),500)}},t.prototype.onDoubleTap=function(e){},t.prototype.onTouchEnd=function(e){clearTimeout(this.popupTimer),this.preventSelect||this.changeTaskSelection(this.getTaskIndex(e))},t.prototype.onTouchMove=function(e){clearTimeout(this.popupTimer),this.preventSelect=!0},t.prototype.getTaskIndex=function(e){var t=s.TouchUtils.getEventY(e),n=r.DomUtils.getAbsolutePositionY(this.handler.control.taskArea),i=t-n;return Math.floor(i/this.handler.control.tickSize.height)},t.prototype.changeTaskSelection=function(e){var t=this.handler.control.viewModel.items[e];t&&this.handler.control.ganttOwner.changeGanttTaskSelection(t.task.id,!0)},t}(d.HandlerStateBase);t.TouchHandlerDefaultState=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerProgressTaskState=void 0;var i=n(0),o=n(31),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchEndInternal=function(e){this.handler.control.taskEditController.confirmProgress()},t.prototype.onTouchMoveInternal=function(e){var t=this.getRelativePos(e);this.handler.control.taskEditController.processProgress(t)},t}(o.TouchHandlerDragBaseState);t.TouchHandlerProgressTaskState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerTimestampTaskState=void 0;var i=n(0),o=n(31),r=n(8),a=n(6),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(t){e.prototype.onTouchStart.call(this,t),this.source=this.handler.getEventSource(a.EvtUtils.getEventSource(t))},t.prototype.onTouchEndInternal=function(e){this.source==r.MouseEventSource.TaskEdit_Start?this.handler.control.taskEditController.confirmStart():this.handler.control.taskEditController.confirmEnd()},t.prototype.onTouchMoveInternal=function(e){var t=this.getRelativePos(e);this.source==r.MouseEventSource.TaskEdit_Start&&this.handler.control.taskEditController.processStart(t),this.source==r.MouseEventSource.TaskEdit_End&&this.handler.control.taskEditController.processEnd(t)},t}(o.TouchHandlerDragBaseState);t.TouchHandlerTimestampTaskState=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerDependencyState=void 0;var i=n(0),o=n(46),r=n(8),a=n(3),s=n(6),l=n(4),d=n(45),u=n(15),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){e.preventDefault();var t=s.EvtUtils.getEventSource(e);this.source=this.handler.getEventSource(t);var n=this.getRelativePos(new l.Point(a.DomUtils.getAbsolutePositionX(t)+t.clientWidth/2,a.DomUtils.getAbsolutePositionY(t)+t.clientHeight/2));this.handler.control.taskEditController.startDependency(n)},t.prototype.onTouchEnd=function(e){var t=this.getRelativePos(new l.Point(a.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorStart)+this.handler.control.taskEditController.dependencySuccessorStart.clientWidth/2,a.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorStart)+this.handler.control.taskEditController.dependencySuccessorStart.clientHeight/2)),n=this.getRelativePos(new l.Point(a.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorFinish)+this.handler.control.taskEditController.dependencySuccessorFinish.clientWidth/2,a.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorFinish)+this.handler.control.taskEditController.dependencySuccessorFinish.clientHeight/2)),i=this.getRelativePos(new l.Point(u.TouchUtils.getEventX(e),u.TouchUtils.getEventY(e))),o=this.isTouchNearby(i,t)?r.MouseEventSource.Successor_DependencyStart:this.isTouchNearby(i,n)?r.MouseEventSource.Successor_DependencyFinish:null,s=o===r.MouseEventSource.Successor_DependencyStart||o==r.MouseEventSource.Successor_DependencyFinish?d.dependencyMap[this.source][o]:null;this.handler.control.taskEditController.endDependency(s),this.handler.switchToDefaultState()},t.prototype.onTouchMove=function(e){e.preventDefault();var t=this.getRelativePos(new l.Point(u.TouchUtils.getEventX(e),u.TouchUtils.getEventY(e))),n=Math.floor(t.y/this.handler.control.tickSize.height);this.handler.control.taskEditController.processDependency(t),this.handler.control.viewModel.tasks.items[n]&&this.handler.control.taskEditController.showDependencySuccessor(n)},t.prototype.isTouchNearby=function(e,t){return Math.abs(t.x-e.x)<=10&&Math.abs(t.y-e.y)<=10},t}(o.TouchHandlerStateBase);t.TouchHandlerDependencyState=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerZoomState=void 0;var i=n(0),o=n(19),r=n(4),a=n(3),s=3,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){},t.prototype.onDoubleTap=function(e){},t.prototype.onTouchEnd=function(e){this.prevDistance=null,this.handler.switchToDefaultState()},t.prototype.onTouchMove=function(e){if(e.stopPropagation(),e.preventDefault(),e.touches.length>1){var t=this.getTouchDistance(e);if(this.prevDistance){var n=this.prevDistance-t;if(Math.abs(n)>s){var i=this.getMiddleAbsPoint(e).x;n>0?this.handler.control.zoomOut(i):this.handler.control.zoomIn(i),this.prevDistance=t}}else this.prevDistance=t}},t.prototype.getTouchDistance=function(e){var t=new r.Point(e.touches[0].clientX,e.touches[0].clientY),n=new r.Point(e.touches[1].clientX,e.touches[1].clientY);return this.getDistance(t,n)},t.prototype.getDistance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.prototype.getMiddleAbsPoint=function(e){var t=this;return this.getMiddlePointByEvent(e,(function(e){return new r.Point(e.pageX-a.DomUtils.getAbsolutePositionX(t.handler.control.taskAreaContainer.getElement()),e.pageY-a.DomUtils.getAbsolutePositionY(t.handler.control.taskAreaContainer.getElement()))}))},t.prototype.getMiddlePointByEvent=function(e,t){if(e.touches.length>1)return new r.Point((t(e.touches[0]).x+t(e.touches[1]).x)/2,(t(e.touches[0]).y+t(e.touches[1]).y)/2)},t}(o.HandlerStateBase);t.TouchHandlerZoomState=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaContainer=void 0;var i=function(){function e(e,t){this.element=e,this.element.addEventListener("scroll",(function(){t.updateView()}))}return Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(e){this.element.scrollTop=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(e){this.element.scrollLeft=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.getElement=function(){return this.element},e}();t.TaskAreaContainer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelChangesDispatcher=void 0;var i=n(104),o=n(47),r=n(32),a=function(){function e(){this.onModelChanged=new i.EventDispatcher,this.isLocked=!1}return e.prototype.notifyTaskCreating=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",e)},e.prototype.notifyTaskCreated=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",e,t,n)},e.prototype.notifyTaskRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",e)},e.prototype.notifyTaskRemoved=function(e,t){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",e,t)},e.prototype.notifyTaskUpdating=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",e)},e.prototype.notifyTaskMoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",e)},e.prototype.notifyTaskEditDialogShowing=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",e)},e.prototype.notifyTaskTitleChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskTitleChanged",e,t,n)},e.prototype.notifyTaskDescriptionChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskDescriptionChanged",e,t,n)},e.prototype.notifyTaskStartChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskStartChanged",e,t,n)},e.prototype.notifyTaskEndChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskEndChanged",e,t,n)},e.prototype.notifyTaskProgressChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskProgressChanged",e,t,n)},e.prototype.notifyTaskColorChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskColorChanged",e,t,n)},e.prototype.notifyDependencyInserting=function(e){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",e)},e.prototype.notifyDependencyInserted=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",e,t,n)},e.prototype.notifyDependencyRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",e)},e.prototype.notifyDependencyRemoved=function(e,t){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",e,t)},e.prototype.notifyResourceCreating=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",e)},e.prototype.notifyResourceCreated=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",e,t,n)},e.prototype.notifyResourceRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",e)},e.prototype.notifyResourceRemoved=function(e,t){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",e,t)},e.prototype.notifyResourceColorChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",e,t,n)},e.prototype.notifyResourceAssigning=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",e)},e.prototype.notifyResourceAssigned=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",e,t,n)},e.prototype.notifyResourceUnassigning=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",e)},e.prototype.notifyResourceUnassigned=function(e,t){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",e,t)},e.prototype.notifyParentDataRecalculated=function(e){this.onModelChanged.raise("NotifyParentDataRecalculated",e)},e.prototype.fireResourceUnassigning=function(e){var t=new r.ResourceUnassigningArguments(e);return this.notifyResourceUnassigning(t),!t.cancel},e.prototype.raiseTaskTitleUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"title",t,n)},e.prototype.raiseTaskDescriptionUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"description",t,n)},e.prototype.raiseTaskProgressUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"progress",t,n)},e.prototype.raiseTaskColorUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"color",t,n)},e.prototype.raiseTaskStartUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"start",t,n)},e.prototype.raiseTaskEndUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"end",t,n)},e.prototype.raiseTaskStartAndEndUpdating=function(e,t,n,i){var r=new o.TaskUpdatingArguments(e,["start","end"],[t,n]);return this.notifyTaskUpdating(r),!r.cancel&&(i(r["start"],r["end"]),!0)},e.prototype.raiseTaskUpdating=function(e,t,n,i){var r=e[t];if(r!==n){var a=new o.TaskUpdatingArguments(e,[t],[n]);if(this.notifyTaskUpdating(a),!a.cancel&&r!==a[t])return i(a[t]),!0}return!1},e.prototype.raiseTaskMultipleUpdating=function(e,t,n){var i=["title","progress","start","end"],r=i.map((function(e){return t[e]})),a=new o.TaskUpdatingArguments(e,i,r);return this.notifyTaskUpdating(a),!a.cancel&&(n(a.newValues),!0)},e.prototype.raiseTaskMoving=function(e,t,n,i){var r=new o.TaskUpdatingArguments(e,["start","end"],[t,n]);return this.notifyTaskMoving(r),!r.cancel&&(i(r["start"],r["end"]),!0)},e.prototype.raiseTaskTaskEditDialogShowing=function(e,t){var n=new o.TaskEditDialogShowingArguments(e);return this.notifyTaskEditDialogShowing(n),!n.cancel&&(t(n),!0)},e.prototype.lock=function(){this.isLocked=!0},e.prototype.unlock=function(){this.isLocked=!1},e}();t.ModelChangesDispatcher=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var i=function(){function e(){this.listeners=[]}return e.prototype.add=function(e){if(!e)throw new Error("Error");this.hasEventListener(e)||this.listeners.push(e)},e.prototype.remove=function(e){for(var t=0,n=void 0;n=this.listeners[t];t++)if(n===e){this.listeners.splice(t,1);break}},e.prototype.raise=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=void 0;o=this.listeners[i];i++)o[e]&&o[e].apply(o,t)},e.prototype.hasEventListener=function(e){for(var t=0,n=this.listeners.length;t<n;t++)if(this.listeners[t]===e)return!0;return!1},e}();t.EventDispatcher=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;var i=n(106),o=n(107),r=n(108),a=n(110),s=n(112),l=n(49),d=n(113),u=n(114),c=n(115),h=n(116),p=n(117),f=n(118),g=n(23),m=n(119),v=function(){function e(e){this.control=e,this.commands={},this.createCommand(u.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(u.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(u.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(u.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(u.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(u.GanttClientCommand.TaskAddContextItem,new i.TaskAddContextItemCommand(this.control)),this.createCommand(u.GanttClientCommand.Undo,new c.UndoCommand(this.control)),this.createCommand(u.GanttClientCommand.Redo,new c.RedoCommand(this.control)),this.createCommand(u.GanttClientCommand.ZoomIn,new h.ZoomInCommand(this.control)),this.createCommand(u.GanttClientCommand.ZoomOut,new h.ZoomOutCommand(this.control)),this.createCommand(u.GanttClientCommand.FullScreen,new p.ToggleFullScreenCommand(this.control)),this.createCommand(u.GanttClientCommand.CollapseAll,new f.CollapseAllCommand(this.control)),this.createCommand(u.GanttClientCommand.ExpandAll,new f.ExpandAllCommand(this.control))}return Object.defineProperty(e.prototype,"createTaskCommand",{get:function(){return new i.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createSubTaskCommand",{get:function(){return new i.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeTaskCommand",{get:function(){return new i.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskTitleCommand",{get:function(){return new o.TaskTitleCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskDescriptionCommand",{get:function(){return new o.TaskDescriptionCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskProgressCommand",{get:function(){return new o.TaskProgressCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskColorCommand",{get:function(){return new o.TaskColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskStartCommand",{get:function(){return new o.TaskStartCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskMoveCommand",{get:function(){return new o.TaskMoveCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskEndCommand",{get:function(){return new o.TaskEndCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateTaskCommand",{get:function(){return new i.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createDependencyCommand",{get:function(){return new r.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeDependencyCommand",{get:function(){return new r.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createResourceCommand",{get:function(){return new a.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeResourceCommand",{get:function(){return new a.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assignResourceCommand",{get:function(){return new a.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deassignResourceCommand",{get:function(){return new a.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeResourceColorCommand",{get:function(){return new m.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showTaskEditDialog",{get:function(){return new s.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showConstraintViolationDialog",{get:function(){return new l.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showConfirmationDialog",{get:function(){return new g.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showResourcesDialog",{get:function(){return new d.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),e.prototype.getCommand=function(e){return this.commands[e]},e.prototype.createCommand=function(e,t){this.commands[e]=t},e}();t.CommandManager=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAddContextItemCommand=t.UpdateTaskCommand=t.RemoveTaskCommand=t.CreateSubTaskCommand=t.CreateTaskCommand=t.TaskCommandBase=void 0;var i=n(0),o=n(7),r=n(48),a=n(21),s=n(22),l=n(23),d=n(47),u=n(25),c=n(1),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var e=new o.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,e},t}(o.CommandBase);t.TaskCommandBase=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i,o,r){return e.prototype.execute.call(this,t,n,i,o,r)},t.prototype.executeInternal=function(e,t,n,i,o){if(!o){var a=this.control.viewModel.findItem(this.control.currentSelectedTaskID),s=a&&a.task;s&&(o=s.parentId)}var l=this.control.viewModel.findItem(o)||this.control.viewModel.items[0],u=l&&l.task;e||(e=u?new Date(u.start.getTime()):new Date(this.control.range.start.getTime())),t||(t=u?new Date(u.end.getTime()):new Date(this.control.range.end.getTime())),n=n||"New task";var c=new d.TaskInsertingArguments(null,e,t,n,i,o);return this.modelManipulator.dispatcher.notifyTaskCreating(c),c.cancel||this.history.addAndRedo(new r.CreateTaskHistoryItem(this.modelManipulator,c.start,c.end,c.title,c.progress,c.parentId)),!c.cancel},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},t}(h);t.CreateTaskCommand=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){e=e||this.control.currentSelectedTaskID;var t=this.control.viewModel.findItem(e);if(t.selected){var n=new d.TaskInsertingArguments(null,new Date(t.task.start.getTime()),new Date(t.task.end.getTime()),"New task",0,e);return this.modelManipulator.dispatcher.notifyTaskCreating(n),n.cancel||this.history.addAndRedo(new r.CreateTaskHistoryItem(this.modelManipulator,n.start,n.end,n.title,n.progress,n.parentId)),!n.cancel}return!1},t.prototype.isEnabled=function(){var t=this.control,n=t.viewModel.findItem(t.currentSelectedTaskID);return e.prototype.isEnabled.call(this)&&!!n&&n.selected},t.prototype.getState=function(){var t=e.prototype.getState.call(this),n=this.control;return t.visible=t.visible&&n.settings.editing.allowTaskInsert,t},t}(h);t.CreateSubTaskCommand=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i){var o=this;return void 0===n&&(n=!0),n?(this.control.commandManager.showConfirmationDialog.execute(new l.ConfirmationDialogParameters(l.ConfirmationType.TaskDelete,(function(){o.executeInternal(t,i)}))),!1):e.prototype.execute.call(this,t,i)},t.prototype.executeInternal=function(e,n){var i=this;e=e||this.control.currentSelectedTaskID;var o=this.control.viewModel.findItem(e),l=o?o.task:this.control.viewModel.tasks.getItemById(e),u=new d.TaskRemovingArguments(l);if(this.modelManipulator.dispatcher.notifyTaskRemoving(u),u.cancel)return!1;this.control.viewModel.beginUpdate();var c=n||new r.RemoveTaskHistoryItem(this.modelManipulator);c.addTask(e);var h=this.control.viewModel.tasks.items.filter((function(t){return t.parentId==e}));h.forEach((function(e){return new t(i.control).execute(e.internalId,!1,c)}));var p=o&&o.parent,f=this.control.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e||t.successorId==e}));if(f.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;f=f.filter((function(e){return 0==h.filter((function(t){return t.internalId==e.predecessorId||t.internalId==e.successorId})).length})),f.forEach((function(e){return c.add(new a.RemoveDependencyHistoryItem(i.modelManipulator,e.internalId))}))}var g=this.control.viewModel.assignments.items.filter((function(t){return t.taskId==e}));return g.forEach((function(e){i.modelManipulator.dispatcher.fireResourceUnassigning(e)&&c.add(new s.DeassignResourceHistoryItem(i.modelManipulator,e.internalId))})),n||this.history.addAndRedo(c),this.updateParent(p),this.control.viewModel.endUpdate(),!0},t.prototype.updateParent=function(e){e&&e.children.length>0&&this.control.validationController.updateParentsIfRequired(e.children[0].task.internalId)},t.prototype.isEnabled=function(){var t=this.control,n=t.viewModel.findItem(t.currentSelectedTaskID),i=e.prototype.isEnabled.call(this)&&!!n&&n.selected;return i},t.prototype.getState=function(){var t=e.prototype.getState.call(this),n=this.control;return t.visible=t.visible&&n.settings.editing.allowTaskDelete,t},t}(h);t.RemoveTaskCommand=g;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this.control.viewModel.tasks.getItemById(e);if(!n)return!1;var i=this.control.modelManipulator.dispatcher.raiseTaskMultipleUpdating(n,t,(function(e){t.title=e.title,t.progress=e.progress,t.start=e.start,t.end=e.end}));if(i){this.history.beginTransaction();var o=!1;c.isDefined(t.title)&&t.title!=n.title&&this.history.addAndRedo(new u.TaskTitleHistoryItem(this.modelManipulator,e,t.title)),c.isDefined(t.progress)&&t.progress!=n.progress&&(this.history.addAndRedo(new u.TaskProgressHistoryItem(this.modelManipulator,e,t.progress)),o=!0),c.isDefined(t.start)&&c.isDefined(t.end)&&t.end.getTime()<t.start.getTime()&&(t.end=t.start),c.isDefined(t.start)&&t.start!=n.start&&(this.history.addAndRedo(new u.TaskStartHistoryItem(this.modelManipulator,e,t.start)),o=!0,this.control.settings.validation.validateDependencies&&this.control.validationController.moveStartDependTasks(e,n.start)),c.isDefined(t.end)&&t.end!=n.end&&(this.history.addAndRedo(new u.TaskEndHistoryItem(this.modelManipulator,e,t.end)),o=!0,this.control.settings.validation.validateDependencies&&this.control.validationController.moveEndDependTasks(e,n.end)),o&&this.validationController.updateParentsIfRequired(e),this.history.endTransaction()}return i},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},t}(h);t.UpdateTaskCommand=m;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},t.prototype.execute=function(){return!1},t}(h);t.TaskAddContextItemCommand=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskMoveCommand=t.TaskEndCommand=t.TaskStartCommand=t.TaskPropertyCommandValidation=t.TaskColorCommand=t.TaskProgressCommand=t.TaskDescriptionCommand=t.TaskTitleCommand=t.TaskPropertyCommandBase=void 0;var i=n(0),o=n(7),r=n(25),a=n(49),s=n(9),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},t.prototype.getTask=function(e){return this.control.viewModel.tasks.getItemById(e)},t}(o.CommandBase);t.TaskPropertyCommandBase=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this;return this.modelManipulator.dispatcher.raiseTaskTitleUpdating(this.getTask(e),t,(function(t){n.history.addAndRedo(new r.TaskTitleHistoryItem(n.modelManipulator,e,t))}))},t}(l);t.TaskTitleCommand=d;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this;return this.modelManipulator.dispatcher.raiseTaskDescriptionUpdating(this.getTask(e),t,(function(t){n.history.addAndRedo(new r.TaskDescriptionHistoryItem(n.modelManipulator,e,t))}))},t}(l);t.TaskDescriptionCommand=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this;return this.modelManipulator.dispatcher.raiseTaskProgressUpdating(this.getTask(e),t,(function(t){n.control.history.beginTransaction(),n.history.addAndRedo(new r.TaskProgressHistoryItem(n.modelManipulator,e,t)),n.validationController.updateParentsIfRequired(e),n.control.history.endTransaction()}))},t}(l);t.TaskProgressCommand=c;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this;return this.modelManipulator.dispatcher.raiseTaskColorUpdating(this.getTask(e),t,(function(t){n.history.addAndRedo(new r.TaskColorHistoryItem(n.modelManipulator,e,t))}))},t}(l);t.TaskColorCommand=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.executeInternal=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.control.settings.validation.validateDependencies?this.validate.apply(this,t):[],o=i.filter((function(e){return e.critical}));return!i.length||i.length>1&&0===o.length?this.executeCore.apply(this,t):(1===i.length&&this.control.commandManager.showConstraintViolationDialog.execute(new a.ConstraintViolationDialogParameters(i[0],(function(){e.executeCore.apply(e,t)}))),!1)},t.prototype.executeCore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!1},t.prototype.validate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(l);t.TaskPropertyCommandValidation=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){var i=this.modelManipulator.dispatcher.raiseTaskStartUpdating(this.getTask(t),n,(function(e){n=e}));return i&&e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(t,n){return e.prototype.executeInternal.call(this,t,n)},t.prototype.executeCore=function(e,t){var n=this.control.viewModel.tasks.getItemById(e).start;if(n.getTime()==t.getTime())return!1;this.control.history.beginTransaction(),this.history.addAndRedo(new r.TaskStartHistoryItem(this.modelManipulator,e,t)),this.control.settings.validation.validateDependencies&&this.control.validationController.moveStartDependTasks(e,n),this.validationController.updateParentsIfRequired(e),this.control.history.endTransaction();var i=this.control.viewModel.tasks.items.reduce((function(e,t){return e.start.getTime()<t.start.getTime()?e:t}));return i.start<this.control.dataRange.start&&(this.control.dataRange.start=i.start,this.control.resetAndUpdate()),!0},t.prototype.validate=function(e,t){return this.control.validationController.checkStartDependencies(e,t)},t}(p);t.TaskStartCommand=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){var i=this.modelManipulator.dispatcher.raiseTaskEndUpdating(this.getTask(t),n,(function(e){n=e}));return i&&e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(t,n){return e.prototype.executeInternal.call(this,t,n)},t.prototype.executeCore=function(e,t){var n=this.control.viewModel.tasks.getItemById(e).end;if(n.getTime()==t.getTime())return!1;this.control.history.beginTransaction(),this.history.addAndRedo(new r.TaskEndHistoryItem(this.modelManipulator,e,t)),this.control.settings.validation.validateDependencies&&this.control.validationController.moveEndDependTasks(e,n),this.validationController.updateParentsIfRequired(e),this.control.history.endTransaction();var i=this.control.viewModel.tasks.items.reduce((function(e,t){return e.end.getTime()>t.end.getTime()?e:t}));return i.end>this.control.dataRange.end&&(this.control.dataRange.end=i.end,this.control.resetAndUpdate()),!0},t.prototype.validate=function(e,t){return this.control.validationController.checkEndDependencies(e,t)},t}(p);t.TaskEndCommand=g;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i){var o=this.modelManipulator.dispatcher.raiseTaskStartAndEndUpdating(this.getTask(t),n,i,(function(e,t){n=e,i=t}));return o&&e.prototype.execute.call(this,t,n,i)},t.prototype.executeInternal=function(t,n,i){return e.prototype.executeInternal.call(this,t,n,i)},t.prototype.executeCore=function(e,t,n){var i=this.control.viewModel.tasks.getItemById(e),o=new s.DateRange(new Date(i.start.getTime()),new Date(i.end.getTime()));this.control.history.beginTransaction(),this.history.addAndRedo(new r.TaskMoveHistoryItem(this.modelManipulator,e,new s.DateRange(t,n))),this.validationController.correctOnMoving(e,t.getTime()-o.start.getTime()),this.control.settings.validation.validateDependencies&&(this.control.validationController.moveStartDependTasks(e,o.start),this.control.validationController.moveEndDependTasks(e,o.end)),this.control.history.endTransaction();var a=this.control.viewModel.tasks.items.reduce((function(e,t){return e.end.getTime()>t.end.getTime()?e:t}));a.end>this.control.dataRange.end&&(this.control.dataRange.end=a.end,this.control.resetAndUpdate());var l=this.control.viewModel.tasks.items.reduce((function(e,t){return e.start.getTime()<t.start.getTime()?e:t}));return l.start<this.control.dataRange.start&&(this.control.dataRange.start=l.start,this.control.resetAndUpdate()),!0},t.prototype.validate=function(e,t,n){var o=this.control.validationController.checkStartDependencies(e,t),r=this.control.validationController.checkEndDependencies(e,n);return i.__spreadArrays(o,r)},t}(p);t.TaskMoveCommand=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveDependencyCommand=t.CreateDependencyCommand=t.DependencyCommandBase=void 0;var i=n(0),o=n(7),r=n(21),a=n(13),s=n(23),l=n(109),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t}(o.CommandBase);t.DependencyCommandBase=d;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i){return e.prototype.execute.call(this,t,n,i)},t.prototype.executeInternal=function(e,t,n){if(this.control.viewModel.dependencies.items.filter((function(n){return n.predecessorId==e&&n.successorId==t||n.successorId==e&&n.predecessorId==t})).length)return!1;var i=new l.DependencyInsertingArguments(e,t,n);if(this.modelManipulator.dispatcher.notifyDependencyInserting(i),i.cancel)return!1;if(e=i.predecessorId,t=i.successorId,n=i.type,this.control.history.beginTransaction(),this.history.addAndRedo(new r.InsertDependencyHistoryItem(this.modelManipulator,e,t,n)),this.control.settings.validation.validateDependencies){var o=this.control.viewModel.tasks.getItemById(e);n===a.DependencyType.SF||n===a.DependencyType.SS?this.control.validationController.moveStartDependTasks(e,o.start):this.control.validationController.moveEndDependTasks(e,o.end)}return this.control.history.endTransaction(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},t}(d);t.CreateDependencyCommand=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){var i=this;return void 0===n&&(n=!0),n?(this.control.commandManager.showConfirmationDialog.execute(new s.ConfirmationDialogParameters(s.ConfirmationType.DependencyDelete,(function(){i.executeInternal(t)}))),!1):e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){if(e=e||this.control.taskEditController.dependencyId,null!=e){var t=this.control.viewModel.dependencies.items.filter((function(t){return t.internalId==e}))[0];if(t){var n=new l.DependencyRemovingArguments(t);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(n),!n.cancel)return this.history.addAndRedo(new r.RemoveDependencyHistoryItem(this.modelManipulator,e)),e===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.enabled&&null!=this.control.taskEditController.dependencyId,t},t}(d);t.RemoveDependencyCommand=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyRemovingArguments=t.DependencyInsertingArguments=void 0;var i=n(0),o=n(20),r=function(e){function t(t,n,i){var o=e.call(this,null)||this;return o.values={predecessorId:t,successorId:n,type:i},o}return i.__extends(t,e),Object.defineProperty(t.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),t}(o.BaseArguments);t.DependencyInsertingArguments=r;var a=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(o.BaseArguments);t.DependencyRemovingArguments=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeassignResourceCommand=t.AssignResourceCommand=t.RemoveResourceCommand=t.CreateResourceCommand=t.ResourceCommandBase=void 0;var i=n(0),o=n(7),r=n(22),a=n(111),s=n(32),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t}(o.CommandBase);t.ResourceCommandBase=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return void 0===n&&(n=""),e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){void 0===t&&(t="");var n=new a.ResourceInsertingArguments(e,t);return this.modelManipulator.dispatcher.notifyResourceCreating(n),n.cancel||this.history.addAndRedo(new r.CreateResourceHistoryItem(this.modelManipulator,n.text,n.color)),!n.cancel},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},t}(l);t.CreateResourceCommand=d;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var t=this,n=this.control.viewModel.resources.items.filter((function(t){return t.internalId==e}))[0];if(n){var i=new a.ResourceRemovingArguments(n);if(this.modelManipulator.dispatcher.notifyResourceRemoving(i),!i.cancel){var o=new r.RemoveResourceHistoryItem(this.modelManipulator,e),s=this.control.viewModel.assignments.items.filter((function(t){return t.resourceId==e}));return s.forEach((function(e){t.modelManipulator.dispatcher.fireResourceUnassigning(e)&&o.add(new r.DeassignResourceHistoryItem(t.modelManipulator,e.internalId))})),this.history.addAndRedo(o),!0}}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},t}(l);t.RemoveResourceCommand=u;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this.control.viewModel.assignments.items.filter((function(n){return n.resourceId==e&&n.taskId==t}))[0];if(!n){var i=new s.ResourceAssigningArguments(e,t);if(this.modelManipulator.dispatcher.notifyResourceAssigning(i),!i.cancel)return this.history.addAndRedo(new r.AssignResourceHistoryItem(this.modelManipulator,i.resourceId,i.taskId)),!0}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t}(l);t.AssignResourceCommand=c;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var t=this.control.viewModel.assignments.items.filter((function(t){return t.internalId==e}))[0];return!(!t||!this.modelManipulator.dispatcher.fireResourceUnassigning(t))&&(this.history.addAndRedo(new r.DeassignResourceHistoryItem(this.modelManipulator,e)),!0)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t}(l);t.DeassignResourceCommand=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceRemovingArguments=t.ResourceInsertingArguments=void 0;var i=n(0),o=n(20),r=function(e){function t(t,n){void 0===n&&(n="");var i=e.call(this,null)||this;return i.values={text:t,color:n},i}return i.__extends(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),t}(o.BaseArguments);t.ResourceInsertingArguments=r;var a=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(o.BaseArguments);t.ResourceRemovingArguments=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditParameters=t.TaskEditDialogCommand=void 0;var i=n(0),o=n(24),r=n(25),a=n(26),s=n(22),l=n(32),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onBeforeDialogShow=function(e){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(e,(function(t){var n=t.values;e.start=n.start,e.end=n.end,e.progress=n.progress,e.title=n.title,e.readOnlyFields=t.readOnlyFields,e.hiddenFields=t.hiddenFields}))},t.prototype.applyParameters=function(e,t){this.history.beginTransaction();var n=this.control.modelManipulator.dispatcher.raiseTaskMultipleUpdating(this.control.viewModel.tasks.getItemById(t.id),e,(function(t){e.title=t.title?t.title:"",e.progress=t.progress,e.start=t.start,e.end=t.end}));n&&(e.title!=t.title&&this.history.addAndRedo(new r.TaskTitleHistoryItem(this.modelManipulator,t.id,e.title)),e.progress!=t.progress&&this.history.addAndRedo(new r.TaskProgressHistoryItem(this.modelManipulator,t.id,e.progress)),e.end.getTime()<e.start.getTime()&&(e.end=e.start),e.start!=t.start&&(this.history.addAndRedo(new r.TaskStartHistoryItem(this.modelManipulator,t.id,e.start)),this.control.settings.validation.validateDependencies&&this.control.validationController.moveStartDependTasks(t.id,t.start)),e.end!=t.end&&(this.history.addAndRedo(new r.TaskEndHistoryItem(this.modelManipulator,t.id,e.end)),this.control.settings.validation.validateDependencies&&this.control.validationController.moveEndDependTasks(t.id,t.end)));for(var i=0;i<e.assigned.length;i++){var o=t.assigned.getItemById(e.assigned.getItem(i).internalId);if(!o){var a=e.assigned.getItem(i).internalId,d=t.id,u=new l.ResourceAssigningArguments(a,d);this.modelManipulator.dispatcher.notifyResourceAssigning(u),u.cancel||this.history.addAndRedo(new s.AssignResourceHistoryItem(this.modelManipulator,u.resourceId,u.taskId))}}var c=function(n){var i=t.assigned.getItem(n),o=e.assigned.getItemById(i.internalId);if(!o){var r=h.control.viewModel.assignments.items.filter((function(e){return e.resourceId==i.internalId&&e.taskId==t.id}))[0];h.modelManipulator.dispatcher.fireResourceUnassigning(r)&&h.history.addAndRedo(new s.DeassignResourceHistoryItem(h.modelManipulator,r.internalId))}},h=this;for(i=0;i<t.assigned.length;i++)c(i);var p=e.start!=t.start||e.end!=t.end||e.progress!=t.progress||e.title!=t.title;return n&&p&&this.validationController.updateParentsIfRequired(t.id),this.history.endTransaction(),!1},t.prototype.createParameters=function(e){e=e||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var t=new u;return t.id=e.internalId,t.title=e.title,t.progress=e.progress,t.start=e.start,t.end=e.end,t.assigned=this.control.viewModel.getAssignedResources(e),t.resources=new a.ResourceCollection,t.resources.addRange(this.control.viewModel.resources.items),t.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,t.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,t.enableEdit=this.isTaskEditEnabled(),t.enableRangeEdit=this.isTaskRangeEditEnabled(e),t},t.prototype.isTaskEditEnabled=function(){var e=this.control.settings;return e.editing.enabled&&e.editing.allowTaskUpdate},t.prototype.isTaskRangeEditEnabled=function(e){return!this.control.viewModel.isTaskToCalculateByChildren(e.internalId)},t.prototype.isEnabled=function(){var e=this.control,t=e.viewModel.findItem(e.currentSelectedTaskID);return!!t&&t.selected},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&!this.control.taskEditController.dependencyId,t},t.prototype.getDialogName=function(){return"TaskEdit"},t}(o.DialogBase);t.TaskEditDialogCommand=d;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enableEdit=!0,t.enableRangeEdit=!0,t.hiddenFields=[],t.readOnlyFields=[],t}return i.__extends(t,e),t.prototype.clone=function(){var e=new t;return e.id=this.id,e.title=this.title,e.progress=this.progress,e.start=this.start,e.end=this.end,e.assigned=new a.ResourceCollection,e.assigned.addRange(this.assigned.items),e.resources=new a.ResourceCollection,e.resources.addRange(this.resources.items),e.showResourcesDialogCommand=this.showResourcesDialogCommand,e.showTaskEditDialogCommand=this.showTaskEditDialogCommand,e.enableEdit=this.enableEdit,e.enableRangeEdit=this.enableRangeEdit,e.hiddenFields=this.hiddenFields.slice(),e.readOnlyFields=this.readOnlyFields.slice(),e},t}(o.DialogParametersBase);t.TaskEditParameters=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesDialogParameters=t.ResourcesDialogCommand=void 0;var i=n(0),o=n(24),r=n(26),a=n(23),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resourcesForDelete=[],t}return i.__extends(t,e),t.prototype.applyParameters=function(e,t){this.history.beginTransaction();for(var n=0;n<e.resources.length;n++){var i=t.resources.getItemById(e.resources.getItem(n).internalId);i||this.control.commandManager.createResourceCommand.execute(e.resources.getItem(n).text)}for(n=0;n<t.resources.length;n++){i=e.resources.getItemById(t.resources.getItem(n).internalId);i||this.resourcesForDelete.push(t.resources.getItem(n))}return this.history.endTransaction(),!1},t.prototype.createParameters=function(e){this.callBack=e;var t=new l;return t.resources=new r.ResourceCollection,t.resources.addRange(this.control.viewModel.resources.items),t},t.prototype.afterClosing=function(){var e=this;if(this.resourcesForDelete.length){var t=this.control.commandManager.showConfirmationDialog,n=new a.ConfirmationDialogParameters(a.ConfirmationType.ResourcesDelete,(function(){e.history.beginTransaction();for(var t=0;t<e.resourcesForDelete.length;t++)e.control.commandManager.removeResourceCommand.execute(e.resourcesForDelete[t].internalId);e.history.endTransaction()}));n.message=this.resourcesForDelete.reduce((function(e,t){return i.__spreadArrays(e,[t.text])}),[]).join(", "),this.callBack&&(t.afterClosing=function(){return e.callBack()}),t.execute(n)}else this.callBack&&this.callBack()},t.prototype.getDialogName=function(){return"Resources"},t}(o.DialogBase);t.ResourcesDialogCommand=s;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.clone=function(){var e=new t;return e.resources=new r.ResourceCollection,e.resources.addRange(this.resources.items),e},t}(o.DialogParametersBase);t.ResourcesDialogParameters=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttClientCommand=void 0,function(e){e[e["CreateTask"]=0]="CreateTask",e[e["CreateSubTask"]=1]="CreateSubTask",e[e["RemoveTask"]=2]="RemoveTask",e[e["RemoveDependency"]=3]="RemoveDependency",e[e["TaskInformation"]=4]="TaskInformation",e[e["TaskAddContextItem"]=5]="TaskAddContextItem",e[e["Undo"]=6]="Undo",e[e["Redo"]=7]="Redo",e[e["ZoomIn"]=8]="ZoomIn",e[e["ZoomOut"]=9]="ZoomOut",e[e["FullScreen"]=10]="FullScreen",e[e["CollapseAll"]=11]="CollapseAll",e[e["ExpandAll"]=12]="ExpandAll"}(t.GanttClientCommand||(t.GanttClientCommand={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedoCommand=t.UndoCommand=void 0;var i=n(0),o=n(7),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var e=new o.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.history.undo(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.history.canUndo()},t}(o.CommandBase);t.UndoCommand=r;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var e=new o.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.history.redo(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.history.canRedo()},t}(o.CommandBase);t.RedoCommand=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomOutCommand=t.ZoomInCommand=void 0;var i=n(0),o=n(7),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(!0)},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.zoomIn(),!0},t}(o.CommandBase);t.ZoomInCommand=r;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(!0)},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.zoomOut(),!0},t}(o.CommandBase);t.ZoomOutCommand=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleFullScreenCommand=void 0;var i=n(0),o=n(7),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isInFullScreenMode=!1,t.fullScreenTempVars={},t}return i.__extends(t,e),t.prototype.getState=function(){var e=new o.SimpleCommandState(!0);return e.value=this.control.fullScreenModeHelper.isInFullScreenMode,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},t}(o.CommandBase);t.ToggleFullScreenCommand=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandAllCommand=t.CollapseAllCommand=void 0;var i=n(0),o=n(7),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.ganttOwner.collapseAll(),!0},t.prototype.isEnabled=function(){return!0},t}(o.CommandBase);t.CollapseAllCommand=r;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.ganttOwner.expandAll(),!0},t.prototype.isEnabled=function(){return!0},t}(o.CommandBase);t.ExpandAllCommand=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceColorCommand=t.ResourcePropertyCommandBase=void 0;var i=n(0),o=n(7),r=n(120),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},t}(o.CommandBase);t.ResourcePropertyCommandBase=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this.control.viewModel.resources.getItemById(e).color;return n!=t&&(this.history.addAndRedo(new r.ResourceColorHistoryItem(this.modelManipulator,e,t)),!0)},t}(a);t.ResourceColorCommand=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceColorHistoryItem=t.ResourcePropertiesHistoryItemBase=void 0;var i=n(0),o=n(11),r=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.resourceId=n,o.newValue=i,o}return i.__extends(t,e),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},t}(o.HistoryItem);t.ResourcePropertiesHistoryItemBase=r;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},t}(r);t.ResourceColorHistoryItem=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarManager=void 0;var i=function(){function e(e,t){this.control=e,this.bars=t}return e.prototype.updateContextMenu=function(){for(var e=0,t=void 0;t=this.bars[e];e++)if(t.isContextMenu()){t.updateItemsList();for(var n=t.getCommandKeys(),i=0;i<n.length;i++)this.updateBarItem(t,n[i])}},e.prototype.updateItemsState=function(e){for(var t=!!e.length,n=function(n,o){if(o.isVisible()){for(var r=o.getCommandKeys(),a=function(n){if(t&&!e.filter((function(e){return e==r[n]})).length)return"continue";i.updateBarItem(o,r[n])},s=0;s<r.length;s++)a(s);o.completeUpdate()}},i=this,o=0,r=void 0;r=this.bars[o];o++)n(o,r)},e.prototype.updateBarItem=function(e,t){var n=this.control.commandManager.getCommand(t);if(n){var i=n.getState();e.setItemVisible(t,i.visible),i.visible&&(e.setItemEnabled(t,i.enabled),e.setItemValue(t,i.value))}},e}();t.BarManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationController=t.ValidationError=void 0;var i=n(0),o=n(13),r=n(25),a=n(9),s=n(2),l=n(1),d=function(){function e(e,t){void 0===t&&(t=!1),this.dependencyId=e,this.critical=t}return e}();t.ValidationError=d;var u=function(){function e(e){this.gantt=e}return Object.defineProperty(e.prototype,"viewModel",{get:function(){return this.gantt.viewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.gantt.history},enumerable:!1,configurable:!0}),e.prototype.checkStartDependencies=function(e,t){var n=this,i=[],r=this.gantt.viewModel.tasks.getItemById(e),a=this.viewModel.dependencies.items.filter((function(t){return t.successorId==e}));return a.forEach((function(e){var a=n.gantt.viewModel.tasks.getItemById(e.predecessorId);(e.type==o.DependencyType.FS&&a.end>t||e.type==o.DependencyType.SS&&a.start>t)&&i.push(new d(e.internalId,!0)),(e.type==o.DependencyType.FS&&a.end.valueOf()==r.start.valueOf()&&t>a.end||e.type==o.DependencyType.SS&&a.start.valueOf()==r.start.valueOf()&&t>a.start)&&i.push(new d(e.internalId))})),i},e.prototype.checkEndDependencies=function(e,t){var n=this,i=[],r=this.gantt.viewModel.tasks.getItemById(e),a=this.viewModel.dependencies.items.filter((function(t){return t.successorId==e}));return a.forEach((function(e){var a=n.gantt.viewModel.tasks.getItemById(e.predecessorId);(e.type==o.DependencyType.SF&&a.start>t||e.type==o.DependencyType.FF&&a.end>t)&&i.push(new d(e.internalId,!0)),(e.type==o.DependencyType.SF&&a.start.valueOf()==r.end.valueOf()&&t>a.start||e.type==o.DependencyType.FF&&a.end.valueOf()==r.end.valueOf()&&t>a.end)&&i.push(new d(e.internalId))})),i},e.prototype.moveEndDependTasks=function(e,t){var n=this,i=this.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e}));i.forEach((function(i){var s=n.gantt.viewModel.tasks.getItemById(e),l=n.gantt.viewModel.tasks.getItemById(i.successorId),d=new a.DateRange(new Date(l.start.getTime()),new Date(l.end.getTime())),u=new a.DateRange(new Date,new Date);i.type==o.DependencyType.FS&&(l.start<s.end||l.start.valueOf()===t.valueOf()&&l.start>s.end)&&(u.start.setTime(s.end.getTime()),u.end.setTime(u.start.getTime()+(l.end.getTime()-l.start.getTime())),n.correctMoving(l.internalId,u),n.history.addAndRedo(new r.TaskMoveHistoryItem(n.gantt.modelManipulator,i.successorId,u)),n._parentAutoCalc&&n.updateParentsRangeByChild(l.internalId),n.moveStartDependTasks(i.successorId,d.start),n.moveEndDependTasks(i.successorId,d.end)),i.type==o.DependencyType.FF&&(l.end<s.end||l.end.valueOf()===t.valueOf()&&l.end>s.end)&&(u.start.setTime(s.end.getTime()-(l.end.getTime()-l.start.getTime())),u.end.setTime(s.end.getTime()),n.correctMoving(l.internalId,u),n.history.addAndRedo(new r.TaskMoveHistoryItem(n.gantt.modelManipulator,i.successorId,u)),n._parentAutoCalc&&n.updateParentsRangeByChild(l.internalId),n.moveStartDependTasks(i.successorId,d.start),n.moveEndDependTasks(i.successorId,d.end))}))},e.prototype.moveStartDependTasks=function(e,t){var n=this,i=this.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e}));i.forEach((function(i){var s=n.gantt.viewModel.tasks.getItemById(e),l=n.gantt.viewModel.tasks.getItemById(i.successorId),d=new a.DateRange(new Date(l.start.getTime()),new Date(l.end.getTime())),u=new a.DateRange(new Date,new Date);i.type==o.DependencyType.SF&&(l.end<s.start||l.end.valueOf()===t.valueOf()&&l.end>s.start)&&(u.start.setTime(s.start.getTime()-(l.end.getTime()-l.start.getTime())),u.end.setTime(s.start.getTime()),n.correctMoving(l.internalId,u),n.history.addAndRedo(new r.TaskMoveHistoryItem(n.gantt.modelManipulator,i.successorId,u)),n._parentAutoCalc&&n.updateParentsRangeByChild(l.internalId),n.moveStartDependTasks(i.successorId,d.start),n.moveEndDependTasks(i.successorId,d.end)),i.type==o.DependencyType.SS&&(l.start<s.start||l.start.valueOf()===t.valueOf()&&l.start>s.start)&&(u.start.setTime(s.start.getTime()),u.end.setTime(s.start.getTime()+(l.end.getTime()-l.start.getTime())),n.correctMoving(l.internalId,u),n.history.addAndRedo(new r.TaskMoveHistoryItem(n.gantt.modelManipulator,i.successorId,u)),n._parentAutoCalc&&n.updateParentsRangeByChild(l.internalId),n.moveStartDependTasks(i.successorId,d.start),n.moveEndDependTasks(i.successorId,d.end))}))},e.prototype.correctMoving=function(e,t){var n=this,r=t.end.getTime()-t.start.getTime(),a=i.__spreadArrays(this.checkStartDependencies(e,t.start),this.checkEndDependencies(e,t.end)),s=a.filter((function(e){return e.critical}));return s.forEach((function(e){var i=n.gantt.viewModel.dependencies.getItemById(e.dependencyId),a=n.gantt.viewModel.tasks.getItemById(i.predecessorId);i.type==o.DependencyType.FS&&t.start<a.end&&(t.start.setTime(a.end.getTime()),t.end.setTime(t.start.getTime()+r)),i.type==o.DependencyType.SS&&t.start<a.start&&(t.start.setTime(a.start.getTime()),t.end.setTime(t.start.getTime()+r)),i.type==o.DependencyType.FF&&t.end<a.end&&(t.end.setTime(a.end.getTime()),t.start.setTime(t.end.getTime()-r)),i.type==o.DependencyType.SF&&t.end<a.start&&(t.end.setTime(a.start.getTime()),t.start.setTime(t.end.getTime()-r))})),t},e.prototype.recalculateParents=function(e,t){var n=e&&e.parent;while(n&&n.task){for(var i=n.children,o=this.gantt.range.end,r=this.gantt.range.start,a=0,l=0,d={id:n.task.internalId},u=0;u<i.length;u++){var c=i[u].task;o=s.DateTimeUtils.getMinDate(o,c.start),r=s.DateTimeUtils.getMaxDate(r,c.end);var h=c.getDuration();a+=c.progress*h,l+=h}s.DateTimeUtils.areDatesEqual(n.task.start,o)||(d["start"]=o),s.DateTimeUtils.areDatesEqual(n.task.end,r)||(d["end"]=r),a=Math.ceil(a/l),a!==n.task.progress&&(d["progress"]=a),t(d),n=n.parent}},e.prototype.updateParentsRangeByChild=function(e){var t=this;this.recalculateParents(this.viewModel.findItem(e),(function(e){if(l.isDefined(e.id)){var n=t.history,i=t.gantt.modelManipulator;l.isDefined(e.start)&&n.addAndRedo(new r.TaskStartHistoryItem(i,e.id,e.start)),l.isDefined(e.end)&&n.addAndRedo(new r.TaskEndHistoryItem(i,e.id,e.end)),l.isDefined(e.progress)&&n.addAndRedo(new r.TaskProgressHistoryItem(i,e.id,e.progress))}}))},e.prototype.updateChildRangeByParent=function(e,t,n){var i=this.viewModel.findItem(e);if(i&&0!==i.children.length)for(var o=i.children,a=0;a<o.length;a++){var s=o[a].task,l=new Date(s.start.getTime()+t),d=new Date(s.end.getTime()+t);n.push({id:s.internalId,start:s.start,end:s.end}),l<s.end?(this.history.addAndRedo(new r.TaskStartHistoryItem(this.gantt.modelManipulator,s.internalId,l)),this.history.addAndRedo(new r.TaskEndHistoryItem(this.gantt.modelManipulator,s.internalId,d))):(this.history.addAndRedo(new r.TaskEndHistoryItem(this.gantt.modelManipulator,s.internalId,d)),this.history.addAndRedo(new r.TaskStartHistoryItem(this.gantt.modelManipulator,s.internalId,l))),this.updateChildRangeByParent(s.internalId,t,n)}},e.prototype.updateParentsIfRequired=function(e){this._parentAutoCalc&&(this.updateParentsRangeByChild(e),this.gantt.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData()))},e.prototype.correctOnMoving=function(e,t){var n=this;if(this._parentAutoCalc&&0!==t){this.updateParentsRangeByChild(e);var i=[];this.updateChildRangeByParent(e,t,i),this.gantt.settings.validation.validateDependencies&&i.forEach((function(e){n.moveStartDependTasks(e.id,e.start),n.moveEndDependTasks(e.id,e.end)})),this.gantt.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())}},Object.defineProperty(e.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),e}();t.ValidationController=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenModeHelper=void 0;var i=n(5),o=n(124),r=n(3),a=function(){function e(e){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.gantt=e}return Object.defineProperty(e.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),e.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},e.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},e.prototype.prepareFullScreenMode=function(){var e=this.getMainElement();o.AttrUtils.changeElementStyleAttribute(e,"border-top-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-left-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-right-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=r.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=r.DomUtils.getDocumentScrollLeft(),o.AttrUtils.changeElementStyleAttribute(e,"background-color","white"),o.AttrUtils.changeElementStyleAttribute(e,"position","fixed"),o.AttrUtils.changeElementStyleAttribute(e,"top","0px"),o.AttrUtils.changeElementStyleAttribute(e,"left","0px"),o.AttrUtils.changeElementStyleAttribute(e,"z-index","10001"),o.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),o.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=e.style.width,this.fullScreenTempVars.height=e.style.height,window.self!==window.top&&this.requestFullScreen(document.body)},e.prototype.setNormalMode=function(){this.cancelFullScreen(document);var e=this.getMainElement();o.AttrUtils.restoreElementStyleAttribute(e,"left"),o.AttrUtils.restoreElementStyleAttribute(e,"top"),o.AttrUtils.restoreElementStyleAttribute(e,"background-color"),o.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),o.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),o.AttrUtils.restoreElementStyleAttribute(e,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,o.AttrUtils.restoreElementStyleAttribute(e,"position"),o.AttrUtils.restoreElementStyleAttribute(e,"border-top-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-left-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-right-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},e.prototype.adjustControlInFullScreenMode=function(){var e=0==document.documentElement.clientWidth?document.body.clientWidth:document.documentElement.clientWidth,t=0==document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(e),this.setHeight(t),this.adjustControl()},e.prototype.requestFullScreen=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},e.prototype.cancelFullScreen=function(e){i.Browser.Firefox&&!this.getFullScreenElement(e)||(e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen?e.msExitFullscreen():e.exitFullscreen&&e.exitFullscreen())},e.prototype.getFullScreenElement=function(e){return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement},e.prototype.setWidth=function(e){var t=this.getMainElement();t.style.width=this.isNumber(e)?e+"px":e},e.prototype.setHeight=function(e){var t=this.getMainElement();t.style.height=this.isNumber(e)?e+"px":e},e.prototype.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.prototype.getMainElement=function(){return this.gantt.getOwnerControlMainElement()},e.prototype.adjustControl=function(){this.gantt.adjustOwnerControl()},e}();t.FullScreenModeHelper=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttrUtils=void 0;var i=n(5),o=function(){function e(){}return e.setElementAttribute=function(e,t,n){e.setAttribute&&(i.Browser.IE&&i.Browser.MajorVersion>=11&&"src"===t.toLowerCase()&&e.setAttribute(t,""),e.setAttribute(t,n))},e.setStyleAttribute=function(e,t,n){e.setProperty&&e.setProperty(t,n,"")},e.getElementAttribute=function(e,t){return e.getAttribute(t)},e.getStyleAttribute=function(e,t){if(e.getPropertyValue){if(i.Browser.Firefox)try{return e.getPropertyValue(t)}catch(n){return e[t]}return e.getPropertyValue(t)}return null},e.removeElementAttribute=function(e,t){e.removeAttribute&&e.removeAttribute(t)},e.removeStyleAttribute=function(e,t){e.removeProperty&&e.removeProperty(t)},e.changeElementStyleAttribute=function(t,n,i){e.saveStyleAttributeInElement(t,n),e.setStyleAttribute(t.style,n,i)},e.restoreElementStyleAttribute=function(t,n){var i="saved"+n,o=t.style;if(e.isExistsAttributeInElement(t,i)){var r=e.getElementAttribute(t,i);return r===e.emptyObject||null===r?e.removeStyleAttribute(o,n):e.setStyleAttribute(o,n,r),e.removeElementAttribute(t,i),!0}return!1},e.saveStyleAttributeInElement=function(t,n){var i="saved"+n,o=t.style;if(!e.isExistsAttributeInElement(t,i)){var r=e.getStyleAttribute(o,n);e.setElementAttribute(t,i,e.isAttributeExists(r)?r:e.emptyObject)}},e.isExistsAttributeInElement=function(t,n){var i=e.getElementAttribute(t,n);return e.isAttributeExists(i)},e.isAttributeExists=function(e){return null!==e&&""!==e},e.emptyObject="DxEmptyValue",e}();t.AttrUtils=o}])}))},9126:function(e,t,n){"use strict";n("b8d8");var i=h(n("14a3")),o=h(n("0fc0")),r=n("b62d"),a=n("d4b2"),s=n("b49b"),l=h(n("8a64")),d=h(n("832e")),u=h(n("f12e")),c=h(n("70ff"));function h(e){return e&&e.__esModule?e:{default:e}}var p="dx-treelist-icon-container",f="dx-select-checkbox",g="insert",m=c.default.controllers.editing.inherit(function(){return{_generateNewItem:function(e){var t=this.callBase(e);return t.data={key:e},t.children=[],t.level=0,t.parentKey=this.option("rootValue"),t},_needInsertItem:function(e,t,n,i){var o=e.key.parentKey;if(void 0!==o&&o!==this.option("rootValue")){var r=u.default.getIndexByKey(o,n);return r>=0&&this._dataController.isRowExpanded(o)&&n.splice(r+1,0,i),!1}return this.callBase.apply(this,arguments)},_isEditColumnVisible:function(){var e=this.callBase.apply(this,arguments),t=this.option("editing");return e||t&&t.allowAdding},_isDefaultButtonVisible:function(e,t){var n=this.callBase.apply(this,arguments),i=t.row;return"add"===e.name?this.allowAdding(t)&&i.rowIndex!==this._getVisibleEditRowIndex()&&!(i.removed||i.isNewRow):n},_getEditingButtons:function(e){var t=this.callBase.apply(this,arguments);return e.column.buttons||t.unshift(this._getButtonConfig("add",e)),t},_beforeSaveEditData:function(e){var t=this._dataController,n=this.callBase.apply(this,arguments);if(e&&e.type!==g){var i=null===t||void 0===t?void 0:t.store(),a=null===i||void 0===i?void 0:i.key();if(!(0,r.isDefined)(a))throw o.default.Error("E1045")}return n},addRowByRowIndex:function(e){var t=this.getController("data"),n=t.getVisibleRows()[e];return this.addRow(n?n.key:void 0)},addRow:function(e){var t=this,n=t.callBase,i=t.getController("data");if(void 0!==e&&!i.isRowExpanded(e)){var o=new s.Deferred;return i.expandRow(e).done((function(){setTimeout((function(){n.call(t,e).done(o.resolve).fail(o.reject)}))})).fail(o.reject),o.promise()}return void 0===e&&(e=t.option("rootValue")),n.call(t,e)},_initNewRow:function(e,t){var n=this.getController("data"),i=n.dataSource(),o=i.createParentIdSetter();return o(e.data,t),this.callBase.apply(this,arguments)},allowAdding:function(e){return this._allowEditAction("allowAdding",e)},_needToCloseEditableCell:function(e){return this.callBase.apply(this,arguments)||e.closest("."+p).length&&this.isEditing()},getButtonLocalizationNames:function(){var e=this.callBase.apply(this);return e.add="dxTreeList-editingAddRowToNode",e}}}()),v=c.default.extenders.views.rowsView._rowClick,_=c.default.extenders.views.rowsView._rowDblClick,y=function(e){var t=(0,i.default)(e.event.target),n="dxdblclick"===e.event.type?_:v;return!t.closest("."+f).length&&!C.call(this,e,n)};function C(e,t){var n=(0,i.default)(e.event.target);return!n.closest("."+p).length&&(t.call(this,e),!0)}var w=(0,a.extend)({},c.default.extenders.views.rowsView,{_renderCellCommandContent:function(e,t){var n=this._editingController,i=t.row&&n.isEditRow(t.row.rowIndex),o=t.isEditing||i;return!o&&this.callBase.apply(this,arguments)},_rowClick:function(e){y.call(this,e)&&this.callBase.apply(this,arguments)},_rowDblClick:function(e){y.call(this,e)&&this.callBase.apply(this,arguments)}});d.default.registerModule("editing",{defaultOptions:function(){return(0,a.extend)(!0,c.default.defaultOptions(),{editing:{texts:{addRowToNode:l.default.format("dxTreeList-editingAddRowToNode")}}})},controllers:{editing:m},extenders:{controllers:(0,a.extend)(!0,{},c.default.extenders.controllers,{data:{changeRowExpand:function(){return this._editingController.refresh(),this.callBase.apply(this,arguments)}}}),views:{rowsView:w,headerPanel:c.default.extenders.views.headerPanel}}})},"91a1":function(e,t,n){"use strict";t.default=void 0;var i=g(n("14a3")),o=n("2809"),r=g(n("8de2")),a=n("b62d"),s=g(n("5c39")),l=n("cb15"),d=g(n("b876")),u=n("d4b2"),c=g(n("2dd1")),h=n("9703"),p=n("f028"),f=n("1820");function g(e){return e&&e.__esModule?e:{default:e}}n("ca70"),n("71aa"),n("1efe"),n("3c1d"),n("d570");var m=s.default.isWrapped,v="checkbox-size",_="dx-editor-inline-block",y=function(){var e=function(e,t){return(0,u.extend)(e,{readOnly:t.readOnly,placeholder:t.placeholder,inputAttr:{id:t.id},tabIndex:t.tabIndex},t.editorOptions)},t=function(){return d.default.msie||d.default.mozilla||c.default.real().ios},n=function(n){var o={},s=t(),l=n.sharedData||o;return e({placeholder:n.placeholder,width:n.width,value:n.value,onValueChanged:function(e){var t="filterRow"===n.parentType||"searchPanel"===n.parentType,i=e.event&&("input"===e.event.type||"keyup"===e.event.type),r=function(e,t){n&&n.setValue(e.value,t)};clearTimeout(o.valueChangeTimeout),i&&t?l.valueChangeTimeout=o.valueChangeTimeout=setTimeout((function(){r(e,o.valueChangeTimeout!==l.valueChangeTimeout)}),(0,a.isDefined)(n.updateValueTimeout)?n.updateValueTimeout:0):r(e)},onKeyDown:function(e){s&&"enter"===(0,f.normalizeKeyName)(e.event)&&r.default.trigger((0,i.default)(e.component._input()),"change")},valueChangeEvent:"change"+("filterRow"===n.parentType?" keyup input":"")},n)},s=function(n){n.editorName="dxDateBox",n.editorOptions=e({value:n.value,onValueChanged:function(e){n.setValue(e.value)},onKeyDown:function(e){t()&&"enter"===(0,f.normalizeKeyName)(e.event)&&(e.component.blur(),e.component.focus())},displayFormat:n.format,type:n.dataType,dateSerializationFormat:null,width:"filterBuilder"===n.parentType?void 0:"auto"},n)},g=function(e){var t=n(e),i="searchPanel"===e.parentType,o=function(e){return(0,a.isDefined)(e)?e.toString():""};e.editorType&&"dxTextBox"!==e.editorType?t.value=e.value:t.value=o(e.value),t.valueChangeEvent+=i?" keyup input search":"",t.mode=t.mode||(i?"search":"text"),e.editorName="dxTextBox",e.editorOptions=t},y=function(e){var t=n(e);t.value=(0,a.isDefined)(e.value)?e.value:null,e.editorName="dxNumberBox",e.editorOptions=t},C=function(e){"filterRow"===e.parentType||"filterBuilder"===e.parentType?x((0,u.extend)(e,{lookup:{displayExpr:function(t){return!0===t?e.trueText||"true":!1===t?e.falseText||"false":void 0},dataSource:[!0,!1]}})):b(e)};function w(e){if(e.row&&e.row.watch&&"dataRow"===e.parentType){var t,n=e.editorOptions||{};e.editorOptions=n;var i,o=n.onInitialized;n.onInitialized=function(e){o&&o.apply(this,arguments),t=e.component,t.on("disposing",r)};var r=e.row.watch((function(){return i=e.lookup.dataSource(e.row),i&&i.filter}),(function(){t.option("dataSource",i)}),(function(t){e.row=t}))}}function x(t){var n,i,o,r=t.lookup,s="filterRow"===t.parentType;if(r){n=(0,l.compileGetter)(r.displayExpr),i=r.dataSource,(0,a.isFunction)(i)&&!m(i)&&(i=i(t.row||{}),w(t)),((0,a.isObject)(i)||Array.isArray(i))&&(i=(0,p.normalizeDataSourceOptions)(i),s&&(o=i.postProcess,i.postProcess=function(e){return 0===this.pageIndex()&&(e=e.slice(0),e.unshift(null)),o?o.call(this,e):e}));var d=Boolean(r.allowClearing&&!s);t.editorName="dxSelectBox",t.editorOptions=e({searchEnabled:!0,value:t.value,valueExpr:t.lookup.valueExpr,searchExpr:t.lookup.searchExpr||t.lookup.displayExpr,allowClearing:d,showClearButton:d,displayExpr:function(e){return null===e?t.showAllText:n(e)},dataSource:i,onValueChanged:function(e){var n=[e.value];!s&&n.push(e.component.option("text")),t.setValue.apply(this,n)}},t)}}function b(t){t.editorName="dxCheckBox",t.editorOptions=e({elementAttr:{id:t.id},value:(0,a.isDefined)(t.value)?t.value:void 0,hoverStateEnabled:!t.readOnly,focusStateEnabled:!t.readOnly,activeStateEnabled:!1,onValueChanged:function(e){t.setValue&&t.setValue(e.value,e)}},t)}var T=function(e,t){var n=(0,i.default)(t.editorElement);t.editorName&&t.editorOptions&&n[t.editorName]&&("dxCheckBox"!==t.editorName&&"dxSwitch"!==t.editorName||t.isOnForm||(n.addClass(e.addWidgetPrefix(v)),n.parent().addClass(_)),e._createComponent(n,t.editorName,t.editorOptions),"dxTextBox"===t.editorName&&n.dxTextBox("instance").registerKeyHandler("enter",o.noop),"dxDateBox"===t.editorName&&n.dxDateBox("instance").registerKeyHandler("enter",(function(){return!0})),"dxTextArea"===t.editorName&&n.dxTextArea("instance").registerKeyHandler("enter",(function(e){"enter"!==(0,f.normalizeKeyName)(e)||e.ctrlKey||e.shiftKey||e.stopPropagation()})))};return{createEditor:function(e,t){if(t.cancel=!1,t.editorElement=(0,h.getPublicElement)(e),(0,a.isDefined)(t.tabIndex)||(t.tabIndex=this.option("tabIndex")),t.lookup)x(t);else switch(t.dataType){case"date":case"datetime":s(t);break;case"boolean":C(t);break;case"number":y(t);break;default:g(t)}var n=t.editorName;this.executeAction("onEditorPreparing",t),t.cancel||("dataRow"===t.parentType&&t.editorType&&n===t.editorName&&(t.editorName=t.editorType),"dataRow"!==t.parentType||t.isOnForm||(0,a.isDefined)(t.editorOptions.showValidationMark)||(t.editorOptions.showValidationMark=!1),T(this,t),this.executeAction("onEditorPrepared",t))}}}(),C=y;t.default=C,e.exports=t.default},"976f4":function(e,t,n){"use strict";t.default=void 0;var i=I(n("14a3")),o=I(n("8de2")),r=I(n("1981")),a=I(n("f12e")),s=n("2253"),l=n("2809"),d=n("ce5d"),u=n("b62d"),c=n("d4b2"),h=n("8298"),p=I(n("8a64")),f=I(n("5cf5")),g=I(n("4f86")),m=I(n("7065")),v=I(n("65b4")),_=I(n("9b50")),y=I(n("b874")),C=I(n("0fc0")),w=n("b49b"),x=I(n("5d60")),b=n("4ecb"),T=I(n("b876"));function I(e){return e&&e.__esModule?e:{default:e}}function S(e){return R(e)||D(e)||E(e)||k()}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function D(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function R(e){if(Array.isArray(e))return O(e)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var M="invalid",P="revert-tooltip",V="rowsview",A="dx-invalid-message",F="invalid-message",B="dx-invalid-message-always",N="dx-revert-button",L="validator",H="dx-pending-indicator",W="dx-validation-pending",z="content",K="__DX_INSERT_INDEX__",U=2,j="row",G="form",$="batch",q="cell",Y="popup",X="dx-group-cell",J=[Y,G],Q="transparent",Z={valid:"valid",invalid:"invalid",pending:"pending"},ee="insert",te="remove",ne="cancel",ie=function(e){return(0,u.isDefined)(e)&&e!==ne},oe=function(e,t){return void 0!==e||void 0===e&&t&&!t.isNewRow},re=r.default.Controller.inherit(function(){return{init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating"),this._validationState||(this._validationState=[])},_rowIsValidated:function(e){var t=this._getValidationData(null===e||void 0===e?void 0:e.key);return!!t&&!!t.validated},_getValidationData:function(e,t){var n=this._validationState.filter((function(t){return t.key===e}))[0];return!n&&t&&(n={key:e,isValid:!0},this._validationState.push(n)),n},_getBrokenRules:function(e,t){var n;return n=t?t.brokenRules||t.brokenRule&&[t.brokenRule]:e.brokenRules||[],n},_rowValidating:function(e,t){var n=new w.Deferred,i=this._editingController.getChangeByKey(null===e||void 0===e?void 0:e.key),o=this._getBrokenRules(e,t),r=t?t.isValid:e.isValid,a={brokenRules:o,isValid:r,key:i.key,newData:i.data,oldData:this._editingController._getOldData(i.key),promise:null,errorText:this.getHiddenValidatorsErrorText(o)};return this.executeAction("onRowValidating",a),(0,w.when)(a.promise).always((function(){e.isValid=a.isValid,e.errorText=a.errorText,n.resolve(a)})),n.promise()},getHiddenValidatorsErrorText:function(e){var t=[];return(0,d.each)(e,(function(e,n){var i=n.column,o=i&&void 0!==i.groupIndex&&!i.showWhenGrouped,r=i&&i.visible;n.validator.$element().parent().length||r&&!o||t.push(n.message)})),t.join(", ")},validate:function(e){var t=this,n=!0,i=this._editingController,o=new w.Deferred,r=[],a=i.getEditMode();if(e=e||a===j,this._isValidationInProgress)return o.resolve(!1).promise();if(this._isValidationInProgress=!0,e){i.addDeferred(o);var s=i.getChanges();(0,d.each)(s,(function(e,i){var o=i.type,a=i.key;if("remove"!==o){var s=t._getValidationData(a),l=t.validateGroup(s);r.push(l),l.done((function(e){s.validated=!0,n=n&&e.isValid}))}}))}else if(this._currentCellValidator){var l=this.validateGroup(this._currentCellValidator._findGroup());r.push(l),l.done((function(e){n=e.isValid}))}return w.when.apply(void 0,r).done((function(){t._isValidationInProgress=!1,o.resolve(n)})),o.promise()},validateGroup:function(e){var t,n,i=this,o=new w.Deferred,r=e&&m.default.getGroupConfig(e);return null!==r&&void 0!==r&&r.validators.length&&(this.resetRowValidationResults(e),n=m.default.validateGroup(e)),(0,w.when)((null===(t=n)||void 0===t?void 0:t.complete)||n).done((function(t){(0,w.when)(i._rowValidating(e,t)).done(o.resolve)})),o.promise()},isRowDataModified:function(e){return!(0,u.isEmptyObject)(e.data)},updateValidationState:function(e){var t=this._editingController.getEditMode(),n=e.key,i=this._getValidationData(n,!0);if(-1===J.indexOf(t)){if(e.type===ee&&!this.isRowDataModified(e))return void(i.isValid=!0);this.setDisableApplyValidationResults(!0);var o=m.default.getGroupConfig(i);if(o){var r=m.default.validateGroup(i);(0,w.when)(r.complete||r).done((function(e){i.isValid=e.isValid,i.brokenRules=e.brokenRules}))}else i.brokenRules&&i.brokenRules.length||(i.isValid=!0);this.setDisableApplyValidationResults(!1)}else i.isValid=!0},setValidator:function(e){this._currentCellValidator=e},renderCellPendingIndicator:function(e){var t=e.find("."+H);if(!t.length){var n=e;t=(0,i.default)("<div>").appendTo(n).addClass(H),this._createComponent(t,x.default),e.addClass(W)}},disposeCellPendingIndicator:function(e){var t=e.find("."+H);if(t.length){var n=x.default.getInstance(t);n&&(n.dispose(),n.$element().remove()),e.removeClass(W)}},validationStatusChanged:function(e){var t=e.validator,n=t.option("validationGroup"),i=t.option("dataGetter")().column;this.updateCellValidationResult({rowKey:n.key,columnIndex:i.index,validationResult:e})},validatorInitialized:function(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))},validatorDisposing:function(e){var t=e.component,n=t.option("validationGroup"),i=t.option("dataGetter")().column,o=this.getCellValidationResult({rowKey:null===n||void 0===n?void 0:n.key,columnIndex:i.index});ie(o)&&o.status===Z.pending&&this.cancelCellValidationResult({change:n,columnIndex:i.index})},applyValidationResult:function(e,t){var n=t.validator,i=n.option("validationGroup"),r=n.option("dataGetter")().column;if(t.brokenRules&&t.brokenRules.forEach((function(e){e.columnIndex=r.index,e.column=r})),e){var a=this.getCellValidationResult({rowKey:i.key,columnIndex:r.index}),s=ie(a)&&a.disabledPendingId===t.id;if(this._disableApplyValidationResults||s)return;if(t.status===Z.invalid){var l=e.find(":focus");(0,h.focused)(l)||(o.default.trigger(l,"focus"),o.default.trigger(l,g.default.down))}var d=!r.editCellTemplate&&this.getController("editorFactory").getEditorInstance(e);t.status===Z.pending?d?d.option("validationStatus",Z.pending):this.renderCellPendingIndicator(e):d?d.option("validationStatus",Z.valid):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix(M),t.status===Z.invalid)}},createValidator:function(e,t){var n=this,o=this._editingController,r=e.column,a=r.showEditorAlways;if(!(0,u.isDefined)(r.command)&&r.validationRules&&Array.isArray(r.validationRules)&&r.validationRules.length){var d=o.getIndexByKey(e.key,o.getChanges()),h=d>-1;if(!h){if(!a){var p=this.getController("columns"),f=(null===p||void 0===p?void 0:p.getVisibleColumns())||[];a=f.some((function(e){return e.showEditorAlways}))}var g=(0,l.equalByValue)(this.option("editing.editRowKey"),e.key),m=o.isCellOrBatchEditMode()&&o.allowUpdating({row:e.row});h=g||m&&a,m&&a&&o._addInternalData({key:e.key,oldData:e.data})}if(h){if(t&&!t.length)return void C.default.log("E1050");var _=this._getValidationData(e.key,!0),y=function(){var t=o.getChangeByKey(null===_||void 0===_?void 0:_.key),n=r.calculateCellValue((null===t||void 0===t?void 0:t.data)||{});return void 0!==n?n:e.value},w=t&&t.hasClass("dx-widget");t&&t.addClass(this.addWidgetPrefix(L));var x=new v.default(t||(0,i.default)("<div>"),{name:r.caption,validationRules:(0,c.extend)(!0,[],r.validationRules),validationGroup:_,adapter:w?null:{getValue:y,applyValidationResults:function(e){n.applyValidationResult(t,e)}},dataGetter:function(){var e=null===_||void 0===_?void 0:_.key,t=o.getChangeByKey(e),n=o._getOldData(e);return{data:(0,s.createObjectWithChanges)(n,null===t||void 0===t?void 0:t.data),column:r}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(w){var b=x.option("adapter");b&&(b.getValue=y,b.validationRequestsCallbacks=[])}return x}}},setDisableApplyValidationResults:function(e){this._disableApplyValidationResults=e},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults},isCurrentValidatorProcessing:function(e){var t=e.rowKey,n=e.columnIndex;return this._currentCellValidator&&this._currentCellValidator.option("validationGroup").key===t&&this._currentCellValidator.option("dataGetter")().column.index===n},validateCell:function(e){var t={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index},n=this.getCellValidationResult(t),i=ie(n);i||(n=e.validate());var o=new w.Deferred,r=e.option("adapter");return i&&n.status===Z.pending&&(this.updateCellValidationResult(t),r.applyValidationResults(n)),(0,w.when)(n.complete||n).done((function(e){i&&r.applyValidationResults(e),o.resolve(e)})),o.promise()},updateCellValidationResult:function(e){var t=e.rowKey,n=e.columnIndex,i=e.validationResult,o=this._getValidationData(t);if(o){var r;if(o.validationResults||(o.validationResults={}),i){if(r=(0,c.extend)({},i),o.validationResults[n]=r,i.status===Z.pending&&(this._editingController.getEditMode()===q&&(r.deferred=new w.Deferred,r.complete.always((function(){r.deferred.resolve()})),this._editingController.addDeferred(r.deferred)),this._disableApplyValidationResults))return void(r.disabledPendingId=i.id)}else r=o.validationResults[n];r&&r.disabledPendingId&&delete r.disabledPendingId}},getCellValidationResult:function(e){var t,n=e.rowKey,i=e.columnIndex,o=this._getValidationData(n,!0);return null===o||void 0===o||null===(t=o.validationResults)||void 0===t?void 0:t[i]},removeCellValidationResult:function(e){var t=e.change,n=e.columnIndex,i=this._getValidationData(null===t||void 0===t?void 0:t.key);i&&i.validationResults&&(this.cancelCellValidationResult({change:t,columnIndex:n}),delete i.validationResults[n])},cancelCellValidationResult:function(e){var t=e.change,n=e.columnIndex,i=this._getValidationData(t.key);if(t&&i.validationResults){var o=i.validationResults[n];o&&(o.deferred&&o.deferred.reject(ne),i.validationResults[n]=ne)}},resetRowValidationResults:function(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)},isInvalidCell:function(e){var t=e.rowKey,n=e.columnIndex,i=this.getCellValidationResult({rowKey:t,columnIndex:n});return ie(i)&&i.status===Z.invalid},getCellValidator:function(e){var t=e.rowKey,n=e.columnIndex,i=this._getValidationData(t),o=i&&m.default.getGroupConfig(i),r=o&&o.validators;return r&&r.filter((function(e){var t=e.option("dataGetter")().column;return!!t&&t.index===n}))[0]},setCellValidationStatus:function(e){var t=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});(0,u.isDefined)(t)?e.validationStatus=t!==ne?t.status:ne:delete e.validationStatus}}}()),ae={defaultOptions:function(){return{editing:{texts:{validationCancelChanges:p.default.format("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:re},extenders:{controllers:{editing:{_addChange:function(e,t){var n=this.callBase(e,t),i=this.getController("validating");if(n>=0&&e.type!==te){var o=this.getChanges()[n];o&&i.updateValidationState(o)}return n},_handleChangesChange:function(e){this.callBase.apply(this,arguments);var t=this.getController("validating");e.value.forEach((function(e){void 0===t._getValidationData(e.key)&&t.updateValidationState(e)}))},_updateRowAndPageIndices:function(){var e=this,t=this,n=t.getView("rowsView").getTopVisibleItemIndex(),i=n;(0,d.each)(t.getChanges(),(function(o,r){var a=r.key,s=r.type,l=e.getController("validating")._getValidationData(a);l&&!l.isValid&&l.pageIndex!==t._pageIndex&&(l.pageIndex=t._pageIndex,l.rowIndex=s===ee?n:i,i++)}))},getEditFormOptions:function(e){var t=this.callBase.apply(this,arguments),n=this.getController("validating"),i=n._getValidationData(e.key,!0);return(0,c.extend)({},t,{validationGroup:i})},_updateEditRowCore:function(e,t,n){this.callBase.apply(this,arguments),n&&this._editForm&&!e.isNewRow&&this._editForm.validate()},_needInsertItem:function(e){var t=e.key,n=this.callBase.apply(this,arguments),i=this.getController("validating")._getValidationData(t);return!n||null!==i&&void 0!==i&&i.isValid||(n=t.pageIndex===this._pageIndex),n},_prepareEditCell:function(e){var t=this.callBase.apply(this,arguments),n=this.getController("validating");return t&&e.column.showEditorAlways&&n.updateValidationState({key:e.key}),t},processItems:function(e,t){var n,i=this,o=i.getChanges(),r=i.getController("data"),a=this.getController("validating"),s=function(e,t){var n=-1,i=e.type===ee,o=e.key;return(0,d.each)(t,(function(e,t){if((0,l.equalByValue)(o,i?t:r.keyOf(t)))return n=e,!1})),n};e=i.callBase(e,t);var u=e.length,c=function(t,n){var i={key:t.key},o=s(t,e);if(!(o>=0)){n.rowIndex=n.rowIndex>u?n.rowIndex%u:n.rowIndex;var r=n.rowIndex;i[K]=1,e.splice(r,0,i)}};if(i.getEditMode()===$&&"prepend"!==t&&"append"!==t)for(n=0;n<o.length;n++){var h=o[n].key,p=a._getValidationData(h);p&&o[n].type&&p.pageIndex===i._pageIndex&&h.pageIndex!==i._pageIndex&&c(o[n],p)}return e},processDataItem:function(e){var t=e.data[K],n=t?e.data.key:e.key,i=this.getEditMode();if(i===$&&t&&n){var o=this.getChanges(),r=a.default.getIndexByKey(n,o);if(r>=0){var s=o[r];if(s.type!==ee){var l=this._getOldData(s.key);e.data=(0,c.extend)(!0,{},l,s.data),e.key=n}}}this.callBase.apply(this,arguments)},_getInvisibleColumns:function(e){var t,n=this,i=this.getController("columns"),o=i.getInvisibleColumns();return this.isCellOrBatchEditMode()&&(t=e.some((function(e){var t=n._dataController.getRowIndexByKey(e.key);return t<0}))),t?i.getColumns():o},_createInvisibleColumnValidators:function(e){var t=this,n=this.getController("validating"),i=this.getController("columns"),o=this._getInvisibleColumns(e).filter((function(e){return!e.isBand})),r=i.getGroupColumns().filter((function(e){return!e.showWhenGrouped&&-1===o.indexOf(e)})),a=[];return o.push.apply(o,S(r)),-1===J.indexOf(this.getEditMode())&&(0,d.each)(o,(function(i,o){e.forEach((function(e){var i;if(e.type===ee)i=e.data;else if("update"===e.type){var r=t._getOldData(e.key);i=(0,s.createObjectWithChanges)(r,e.data)}if(i){var l=n.createValidator({column:o,key:e.key,value:o.calculateCellValue(i)});l&&a.push(l)}}))})),function(){a.forEach((function(e){e.dispose()}))}},_beforeSaveEditData:function(e,t){var n=this,i=this.callBase.apply(this,arguments),o=this.getController("validating"),r=o._getValidationData(null===e||void 0===e?void 0:e.key);if(e){var a="remove"===e.type||r.isValid;i=i||!a}else{var s=this._createInvisibleColumnValidators(this.getChanges());i=new w.Deferred,this.executeOperation(i,(function(){o.validate(!0).done((function(e){switch(s(),n._updateRowAndPageIndices(),n.getEditMode()){case q:e||n._focusEditingCell();break;case $:e||(n._resetEditRowKey(),n._resetEditColumnName(),n.getController("data").updateItems())}i.resolve(!e)}))}))}return i.promise?i.promise():i},_beforeEditCell:function(e,t,n){var i=this.callBase(e,t,n);if(this.getEditMode()===q){var o=this._rowsView._getCellElement(e,t),r=o&&o.data("dxValidator"),a=o&&o.closest(".dx-row").data("options"),s=r&&r.option("adapter").getValue();if(r&&oe(s,a)){var l=this.getController("validating"),d=new w.Deferred;return(0,w.when)(l.validateCell(r),i).done((function(e,t){d.resolve(e.status===Z.valid&&t)})),d.promise()}if(!r)return i}},_afterSaveEditData:function(e){var t,n=this;if((0,d.each)(this.getChanges(),(function(e,i){var o=n._showErrorRow(i);t=t||o})),t){var i=this._rowsView.getScrollable();i&&(i.update(),i.scrollToElement(t))}if(e&&this.getEditMode()===q&&this._needUpdateRow()){var o=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[o]}),this._focusEditingCell()}else e||(this.getController("validating")._validationState=[])},_handleDataChanged:function(e){var t=this.getController("validating")._validationState;"standard"===this.option("scrolling.mode")&&this.resetRowAndPageIndices(),"prepend"===e.changeType&&(0,d.each)(t,(function(t,n){n.rowIndex+=e.items.length})),this.callBase(e)},resetRowAndPageIndices:function(){var e=this,t=this.getController("validating")._validationState;(0,d.each)(t,(function(t,n){n.pageIndex!==e._pageIndex&&(delete n.pageIndex,delete n.rowIndex)}))},_beforeCancelEditData:function(){var e=this.getController("validating");e._validationState=[],this.callBase()},_showErrorRow:function(e){var t,n=this.getController("errorHandling"),i=this.getController("data").items(),o=this.getIndexByKey(e.key,i),r=this.getController("validating")._getValidationData(e.key);if((null===r||void 0===r||!r.isValid)&&null!==r&&void 0!==r&&r.errorText&&o>=0)return t=this.getPopupContent(),n&&n.renderErrorRow(null===r||void 0===r?void 0:r.errorText,o,t)},updateFieldValue:function(e){var t=this,n=this.getController("validating"),i=new w.Deferred;return n.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),this.callBase.apply(this,arguments).done((function(){var o=n.getCellValidator({rowKey:e.key,columnIndex:e.column.index});(0,w.when)(o&&n.validateCell(o)).done((function(e){t.getController("editorFactory").refocus(),i.resolve(e)}))})),i.promise()},highlightDataCell:function(e,t){this.callBase.apply(this,arguments);var n=this.getController("validating");n.setCellValidationStatus(t);var i=!!t.setValue,o=this.isCellModified(t),r=(0,u.isDefined)(t.validationStatus),a=o&&t.column.setCellValue||i&&!o&&!(t.row.isNewRow||!r);if(a){var s=e.data("dxValidator");s&&(0,w.when)(this.getController("validating").validateCell(s)).done((function(){n.setCellValidationStatus(t)}))}},getChangeByKey:function(e){var t=this.getChanges();return t[a.default.getIndexByKey(e,t)]},isCellModified:function(e){var t=this.callBase(e),n=this.getChangeByKey(e.key),i=!!e.row&&this.getController("validating").isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return t||this.getController("validating")._rowIsValidated(n)&&i}},editorFactory:function(){var e=function(e,t){var n=(0,i.default)(t).closest("tr").index(),o=(0,i.default)(e._rowsView.getRowElement(n)).first().children().filter(":not(.dx-hidden-cell)");return e._rowsView._getWidths(o).reduce((function(e,t){return e+t}),0)},t=function(e){var t,n;return e.some((function(i,o){if(i.command===Q)return t=0===o?-1:o,n=o===e.length-1?-1:o+i.colspan-1,!0})),{startColumnIndex:t,endColumnIndex:n}};return{_showRevertButton:function(e){var t=this;if(e&&e.length){var n=e.find("."+this.addWidgetPrefix(P));n&&n.remove(),n=(0,i.default)("<div>").addClass(this.addWidgetPrefix(P)).appendTo(e);var o={animation:null,visible:!0,target:e,container:e,closeOnOutsideClick:!1,closeOnTargetScroll:!1,contentTemplate:function(){var e=(0,i.default)("<div>").addClass(N),n={icon:"revert",hint:t.option("editing.texts.validationCancelChanges"),onClick:function(){t._editingController.cancelEditData()}};return new f.default(e,n).$element()},position:{my:"left top",at:"right top",of:e,offset:"1 0",collision:"flip",boundary:this._rowsView.element()},onPositioned:this._positionedHandler.bind(this)};return new _.default(n,o)}},_hideFixedGroupCell:function(e,t){var n,o,r=this._rowsView.isFixedColumns(),a=this._editingController.isFormEditMode();if(r&&!a){var s=e.closest(".dx-row").next().data("options");s&&"group"===s.rowType&&(n=(0,i.default)(this._rowsView.getRowElement(s.rowIndex)).last(),o=n.find("."+X),o.length&&"hidden"!==o.get(0).style.visibility&&(o.css("visibility","hidden"),t.onDisposing=function(){o.css("visibility","")}))}},_positionedHandler:function(e,t){if(!e.component.__skipPositionProcessing){var n=(0,i.default)(e.element).hasClass(this.addWidgetPrefix(P)),o=!n&&this._rowsView.updateFreeSpaceRowHeight(),r=this._normalizeValidationMessagePositionAndMaxWidth(e,n,t);e.component.__skipPositionProcessing=!(!o&&!r),r?e.component.option(r):o&&e.component.repaint()}},_showValidationMessage:function(e,t,n,o){var r=this,a=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),s=a&&a.option("visible"),l=s?"top right":"top "+n,d=s?"top left":"bottom "+n,u=e.closest(".".concat(this.addWidgetPrefix(z))),c="";t&&t.forEach((function(e){c+=(c.length?"<br/>":"")+(0,b.encodeHtml)(e)}));var h=(0,i.default)("<div>").addClass(A).addClass(B).addClass(this.addWidgetPrefix(F)).html(c).appendTo(e),p={target:e,container:u,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,closeOnOutsideClick:!1,closeOnTargetScroll:!1,position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:s||!T.default.mozilla&&!T.default.msie?0:-1},my:l,at:d},onPositioned:function(t){r._positionedHandler(t,s),r._shiftValidationMessageIfNeed(t.component.$content(),o&&o.$content(),e)}};this._hideFixedGroupCell(e,p),new y.default(h,p)},_normalizeValidationMessagePositionAndMaxWidth:function(n,o,r){var a=this._columnsController.getFixedColumns();if(a&&a.length){var s,l=!o&&e(this,n.element),d=o?n.component.overlayContent():n.component.$content(),u=d.outerWidth(!0),c=!o&&u>l,h=this._rowsView.getCellIndex((0,i.default)(n.element).closest("td")),p=t(a);return o||h!==p.startColumnIndex&&!c?h===p.endColumnIndex&&(s={collision:"none flip",my:"top right",at:o||r?"top left":"bottom right"},o&&(s.offset="-1 0")):s={collision:"none flip",my:"top left",at:r?"top right":"bottom left"},s&&{position:s,maxWidth:c?l-2:void 0}}},_shiftValidationMessageIfNeed:function(e,t,n){if(t){var i=e.offset(),o=t.offset();if(i.top===o.top&&i.left+e.width()>o.left){var r=t.width()+U;e.css("left",o.left<n.offset().left?-r:r)}}},_getTooltipsSelector:function(){var e=this.addWidgetPrefix(F),t=this.addWidgetPrefix(P);return".dx-editor-cell ."+t+", .dx-editor-cell ."+e+", .dx-cell-modified ."+e},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView")},loseFocus:function(e){e||this.getController("validating").setValidator(null),this.callBase()},updateCellState:function(e,t,n){var i,o=null===e||void 0===e?void 0:e.closest(this._getFocusCellSelector()),r=null!==o&&void 0!==o&&o.is("td")?o:null,a=null===o||void 0===o?void 0:o.closest(".dx-row").data("options"),s=a?this.getController("editing").getChangeByKey(a.key):null,l=r&&this.getController("columns").getVisibleColumns()[r.index()];(t&&t.status===Z.invalid||"update"===(null===s||void 0===s?void 0:s.type)&&!this._editingController.isSaving())&&this._editingController.getEditMode()===q&&(i=this._showRevertButton(o));var d=t&&t.status===Z.invalid;if(d&&r&&l&&t&&t.brokenRules){var u=[];t.brokenRules.forEach((function(e){u.push(e.message)})),this._showValidationMessage(o,u,l.alignment||"left",i)}!n&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()},focus:function(e,t){var n=this;if(!arguments.length)return this.callBase();var i=e&&e.closest("."+this.addWidgetPrefix(V)).find(this._getTooltipsSelector());if(i&&i.remove(),null!==e&&void 0!==e&&e.hasClass("dx-row"))return this.callBase(e,t);var o,r=null===e||void 0===e?void 0:e.closest(this._getFocusCellSelector()),a=this.callBase,s=r&&(r.data("dxValidator")||e.find("."+this.addWidgetPrefix(L)).eq(0).data("dxValidator")),l=r&&r.closest(".dx-row").data("options"),d=this.getController("editing"),u=l?d.getChangeByKey(l.key):null,c=r&&r.is("td")?r:null,h=c&&this.getController("columns").getVisibleColumns()[c.index()],p=this.getController("validating");if(s){p.setValidator(s);var f=s.option("adapter").getValue();if(oe(f,l)||p._rowIsValidated(u))return d.waitForDeferredOperations().done((function(){(0,w.when)(p.validateCell(s)).done((function(i){o=i,u&&h&&!p.isCurrentValidatorProcessing({rowKey:u.key,columnIndex:h.index})||(o.status===Z.invalid&&(t=!0),n.updateCellState(e,o,t),a.call(n,e,t))}))})),this.callBase(e,t)}return this.updateCellState(e,o,t),this.callBase(e,t)},getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return a.default.getWidgetInstance(t)}}}(),data:{_isCellChanged:function(e,t,n,o,r){var a=e.cells[o],s=a&&a.validationStatus,l=this.getController("validating"),d=l.getCellValidationResult({rowKey:e.key,columnIndex:o}),u=l._getValidationData(e.key),c=ie(d)?d.status:d,h=JSON.stringify(t.modifiedValues)!==JSON.stringify(e.modifiedValues),p=(0,i.default)(null===a||void 0===a?void 0:a.cellElement).hasClass(this.addWidgetPrefix(M));return!!(s!==c&&h||u.isValid&&p)||this.callBase.apply(this,arguments)}}},views:{rowsView:{updateFreeSpaceRowHeight:function(e){var t,n,i,o=this,r=o.element(),a=r&&r.find("."+o.addWidgetPrefix(F)+" .dx-overlay-content");if(o.callBase(e),a&&a.length&&(t=o._getRowElements(),i=o._getFreeSpaceRowElements(e),n=i.first(),n&&1===t.length&&(!n.is(":visible")||a.outerHeight()>n.outerHeight())))return i.show(),i.height(a.outerHeight()),!0},_formItemPrepared:function(e,t){var n=this;this.callBase.apply(this,arguments),(0,l.deferUpdate)((function(){var i=t.find(".dx-widget").first(),o=i.length&&!i.children().length;o||n.getController("validating").createValidator(e,i)}))},_cellPrepared:function(e,t){this.getController("editing").isFormEditMode()||this.getController("validating").createValidator(t,e),this.callBase.apply(this,arguments)}}}}};t.default=ae,e.exports=t.default},"97a6":function(e,t,n){"use strict";t.foreachColumnInfo=o,t.createColumnsInfo=r;var i=n("d4b2");function o(e,t,n,i,r,a){n=n||0,i=i||[],a=a||[],i[n]=i[n]||0;var s,l=e[n],d=a[n]+1||0,u=0;if(l){for(s=d;s<l.length;s++){var c=l[s],h=s+i[n],p=c.colspan||1;if(o(e,t,n+(c.rowspan||1),i,p,a),i[n]+=p-1,u+=p,c.rowspan)for(var f=n+1;f<n+c.rowspan;f++)i[f]=i[f]||0,i[f]+=c.colspan||1;if(!1===t(c,h,n,s))break;if(void 0!==r&&u>=r)break}a[n]=s}}function r(e,t,n){var r=[];o(e,(function(e,o,a){var s,l=e,d=l.colspan||1,u=o+d-1>=t&&o<n;if(r[a]=r[a]||[],u)o<t?(s=d-(t-o),o=t):s=d,o+s>n&&(s=n-o),s!==d&&(l=(0,i.extend)({},l,{colspan:s})),r[a].push(l);else if(o>n)return!1}));for(var a=0;a<r.length;a++)r[a]=r[a]||[];return r}},"994b":function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.GanttContextMenuBar=t.GanttToolbar=void 0;var o=d(n("14a3")),r=d(n("a522")),a=d(n("ceb6")),s=d(n("8a64")),l=n("d4b2");function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=c(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},u(e,t,n||e)}function c(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=_(e),null===e)break;return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=v();return function(){var n,i=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}var x="dx-gantt-toolbar-separator",b={createTask:0,createSubTask:1,removeTask:2,removeDependency:3,taskInformation:4,taskAddContextItem:5,undo:6,redo:7,zoomIn:8,zoomOut:9,fullScreen:10,collapseAll:11,expandAll:12},T=function(){function e(t,n){y(this,e),this._element=t,this._owner=n,this._items=[],this._createControl()}return w(e,[{key:"createItems",value:function(e){this._cache=null,this._items=this._createItemsCore(e),this._menu.option("items",this._items)}},{key:"_createItemsCore",value:function(e){var t=this;return e.map((function(e){var n;return n="string"===typeof e?t._createItemByText(e):e.name?(0,l.extend)(t._createItemByText(e.name),e):(0,l.extend)(t._getDefaultItemOptions(),e),e.items&&(n.items=t._createItemsCore(e.items)),n}))}},{key:"_createItemByText",value:function(e){switch(e.toLowerCase()){case"separator":return this._createSeparator();case"undo":return this._createDefaultItem(b.undo,s.default.format("dxGantt-undo"),this._getIcon("undo"));case"redo":return this._createDefaultItem(b.redo,s.default.format("dxGantt-redo"),this._getIcon("redo"));case"expandall":return this._createDefaultItem(b.expandAll,s.default.format("dxGantt-expandAll"),this._getIcon("expand"));case"collapseall":return this._createDefaultItem(b.collapseAll,s.default.format("dxGantt-collapseAll"),this._getIcon("collapse"));case"addtask":return this._createDefaultItem(b.createTask,s.default.format("dxGantt-addNewTask"),this._getIcon("add"));case"deletetask":return this._createDefaultItem(b.removeTask,s.default.format("dxGantt-deleteSelectedTask"),this._getIcon("delete"));case"deletedependency":return this._createDefaultItem(b.removeDependency,s.default.format("dxGantt-contextMenuDeleteDependency"),this._getIcon("delete-dependency"));case"zoomin":return this._createDefaultItem(b.zoomIn,s.default.format("dxGantt-zoomIn"),this._getIcon("zoom-in"));case"zoomout":return this._createDefaultItem(b.zoomOut,s.default.format("dxGantt-zoomOut"),this._getIcon("zoom-out"));case"fullscreen":return this._createDefaultItem(b.fullScreen,s.default.format("dxGantt-fullScreen"),this._getIcon("full-screen"));case"taskdetails":return this._createDefaultItem(b.taskInformation,s.default.format("dxGantt-dialogTaskDetailsTitle")+"...",this._getIcon("task-details"));default:return(0,l.extend)(this._getDefaultItemOptions(),{options:{text:e}})}}},{key:"_getDefaultItemOptions",value:function(){return{}}},{key:"_getItemsCache",value:function(){return this._cache||(this._cache={},this._fillCache(this._items)),this._cache}},{key:"_fillCache",value:function(e){var t=this;e.forEach((function(e){var n=e.commandId;void 0!==n&&(t._cache[n]||(t._cache[n]=[]),t._cache[n].push(e)),e.items&&t._fillCache(e.items)}))}},{key:"_getIcon",value:function(e){return"dx-gantt-i dx-gantt-i-"+e}},{key:"getCommandKeys",value:function(){var e=this._getItemsCache(),t=[];for(var n in e)t.push(parseInt(n));return t}},{key:"setItemEnabled",value:function(e,t){var n=this._getItemsCache();n[e].forEach((function(e){e.disabled=!t}))}},{key:"setItemVisible",value:function(e,t){var n=this._getItemsCache();n[e].forEach((function(e){e.visible=t}))}},{key:"setItemValue",value:function(e,t){}},{key:"setEnabled",value:function(e){this._menu.option("disabled",!e)}},{key:"updateItemsList",value:function(){}},{key:"isVisible",value:function(){return!0}},{key:"isContextMenu",value:function(){return!1}},{key:"completeUpdate",value:function(){}}]),e}(),I=function(e){h(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"_createControl",value:function(){var e=this;this._menu=this._owner._createComponent(this._element,r.default,{onItemClick:function(t){var n=t.itemData.commandId;void 0!==n&&e._owner._executeCoreCommand(t.itemData.commandId)}})}},{key:"_createDefaultItem",value:function(e,t,n){return{commandId:e,disabled:!0,widget:"dxButton",location:"before",options:{icon:n,stylingMode:"text",hint:t}}}},{key:"_createSeparator",value:function(){return{location:"before",template:function(e,t,n){(0,o.default)(n).addClass(x)}}}},{key:"_getDefaultItemOptions",value:function(){return{location:"before",widget:"dxButton"}}},{key:"completeUpdate",value:function(){this._menu.option("items",this._items)}}]),n}(T);t.GanttToolbar=I;var S=function(e){h(n,e);var t=f(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"_createControl",value:function(){var e=this;this._menu=this._owner._createComponent(this._element,a.default,{showEvent:void 0,onItemClick:function(t){void 0!==t.itemData.commandId?e._owner._executeCoreCommand(t.itemData.commandId):void 0!==t.itemData.name&&e._owner._raiseCustomCommand(t.itemData.name)}})}},{key:"createItems",value:function(e){e&&0!==e.length||(e=this._getDefaultItems()),u(_(n.prototype),"createItems",this).call(this,e)}},{key:"_getDefaultItems",value:function(){return[{text:s.default.format("dxGantt-dialogButtonAdd"),commandId:b.taskAddContextItem,icon:this._getIcon("add"),items:[{text:s.default.format("dxGantt-contextMenuNewTask"),commandId:b.createTask,icon:this._getIcon("add-task")},{text:s.default.format("dxGantt-contextMenuNewSubtask"),commandId:b.createSubTask,icon:this._getIcon("add-sub-task")}]},{text:s.default.format("dxGantt-dialogTaskDetailsTitle")+"...",commandId:b.taskInformation,icon:this._getIcon("task-details")},{text:s.default.format("dxGantt-contextMenuDeleteTask"),commandId:b.removeTask,icon:this._getIcon("delete")},{text:s.default.format("dxGantt-contextMenuDeleteDependency"),commandId:b.removeDependency,icon:this._getIcon("delete-dependency")}]}},{key:"_createDefaultItem",value:function(e,t,n){return{commandId:e,text:t,icon:n}}},{key:"show",value:function(e,t){this._menu.option("items",t||this._items),this._menu.option("position.offset",{x:e.x,y:e.y}),this._menu.show()}},{key:"isContextMenu",value:function(){return!0}}]),n}(T);t.GanttContextMenuBar=S},"9abf":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("2ed3"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("headerFilter",o.default)},"9cd8":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("5e65"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("columnsResizingReordering",o.default)},"9d51":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("269a"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("columnHeaders",o.default)},"9da1":function(e,t,n){"use strict";t.default=void 0;var i=n("2809"),o=n("b62d"),r=n("d4b2"),a=n("6d08"),s=n("b49b"),l=function(e){var t=e.getView("pagerView"),n=e.getController("data"),i={allowedPageSizes:t?t.getPageSizes():void 0,filterPanel:{filterEnabled:e.option("filterPanel.filterEnabled")},filterValue:e.option("filterValue"),focusedRowKey:e.option("focusedRowEnabled")?e.option("focusedRowKey"):void 0};return(0,r.extend)(i,n.getUserState())},d=function(e){var t=e.getController("columns"),n=e.getController("selection"),i=e.getController("export"),o=e.getController("data");t&&t.columnsChanged.add((function(){e.updateState({columns:t.getUserState()})})),n&&n.selectionChanged.add((function(t){e.updateState({selectedRowKeys:t.selectedRowKeys,selectionFilter:t.selectionFilter})})),o&&(e._initialPageSize=e.option("paging.pageSize"),e._initialFilterValue=e.option("filterValue"),o.changed.add((function(){var t=l(e);e.updateState(t)}))),i&&i.selectionOnlyChanged.add((function(){e.updateState({exportSelectionOnly:i.selectionOnly()})}))},u=null,c=function(e,t){var n=e.getController("filterSync"),i=e.getController("columns"),o=t.columns||void 0!==t.filterValue;return n?o?t.filterValue||n.getFilterValueFromColumns(t.columns):e._initialFilterValue||n.getFilterValueFromColumns(i.getColumns()):u},h={defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:a.StateStoringController},extenders:{views:{rowsView:{init:function(){var e=this,t=e.getController("data");e.callBase(),t.stateLoaded.add((function(){if(t.isLoaded()&&!t.getDataSource()){e.setLoading(!1),e.renderNoDataText();var n=e.component.getView("columnHeadersView");n&&n.render(),e.component._fireContentReadyAction()}}))}}},controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),d(this)},isLoading:function(){return this.callBase()||this.getController("data").isStateLoading()},state:function(e){var t=this.callBase.apply(this,arguments);return void 0!==e&&this.applyState((0,r.extend)({},e)),t},updateState:function(e){if(this.isEnabled()){var t=this.state(),n=(0,r.extend)({},t,e),o=(0,i.getKeyHash)(t),a=(0,i.getKeyHash)(n);(0,i.equalByValue)(o,a)||((0,r.extend)(this._state,e),this.save())}else(0,r.extend)(this._state,e)},applyState:function(e){var t=this,n=e.allowedPageSizes,i=e.searchText,r=e.selectedRowKeys,a=e.selectionFilter,s=t.getController("export"),l=t.getController("columns"),d=t.getController("data"),u=t.option("scrolling.mode"),h="virtual"===u||"infinite"===u,p=!0===t.option("pager.visible")&&t.option("pager.showPageSizeSelector");t.component.beginUpdate(),l&&l.setUserState(e.columns),s&&s.selectionOnly(e.exportSelectionOnly),r&&t.option("selectedRowKeys",r),t.option("selectionFilter",a),n&&"auto"===t.option("pager.allowedPageSizes")&&(t.option("pager").allowedPageSizes=n),t.option("focusedRowEnabled")&&t.option("focusedRowKey",e.focusedRowKey),t.component.endUpdate(),i&&t.option("searchPanel.text",i),t.option("filterValue",c(t,e)),t.option("filterPanel.filterEnabled",!e.filterPanel||e.filterPanel.filterEnabled),t.option("paging.pageSize",h&&!p||!(0,o.isDefined)(e.pageSize)?t._initialPageSize:e.pageSize),t.option("paging.pageIndex",e.pageIndex||0),d&&d.reset()}},columns:{getVisibleColumns:function(){var e=this.callBase.apply(this,arguments),t=this.getController("stateStoring");return t.isEnabled()&&!t.isLoaded()?[]:e}},data:{callbackNames:function(){return this.callBase().concat(["stateLoaded"])},_refreshDataSource:function(){var e=this,t=this.callBase,n=this.getController("stateStoring");if(n.isEnabled()&&!n.isLoaded()){clearTimeout(this._restoreStateTimeoutID);var i=new s.Deferred;return this._restoreStateTimeoutID=setTimeout((function(){n.load().always((function(){e._restoreStateTimeoutID=null})).done((function(){t.call(e),e.stateLoaded.fire(),i.resolve()})).fail((function(t){e.stateLoaded.fire(),e._handleLoadError(t||"Unknown error"),i.reject()}))})),i.promise()}this.isStateLoading()||t.call(this)},isLoading:function(){var e=this,t=e.getController("stateStoring");return this.callBase()||t.isLoading()},isStateLoading:function(){return(0,o.isDefined)(this._restoreStateTimeoutID)},isLoaded:function(){return this.callBase()&&!this.isStateLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}},selection:{_fireSelectionChanged:function(e){var t=this.getController("stateStoring"),n=this.option("selection.deferred");t.isLoading()&&n||this.callBase.apply(this,arguments)}}}}};t.default=h,e.exports=t.default},"9e09":function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("ece9"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("filterRow",o.default)},a264:function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var o=h(n("14a3")),r=h(n("cc156")),a=h(n("b547")),s=h(n("8de2")),l=h(n("4f86")),d=n("706b"),u=n("1820"),c=n("b62d");function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t,n){return m="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=v(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},m(e,t,n||e)}function v(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=T(e),null===e)break;return e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function C(e){var t=b();return function(){var n,i=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var I=(0,d.getWindow)(),S="dx-splitter",k="".concat(S,"-wrapper"),E="".concat(S,"-inactive"),D="".concat(S,"-border"),R="".concat(S,"-initial"),O="dx-state-disabled",M="dxSplitterResizing",P=(0,u.addNamespace)(l.default.down,M),V=(0,u.addNamespace)(l.default.move,M),A=(0,u.addNamespace)(l.default.up,M),F=function(e){_(n,e);var t=C(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_initMarkup",value:function(){this._$container=this.option("container"),this._$leftElement=this.option("leftElement"),this._$rightElement=this.option("rightElement"),this._onApplyPanelSize=this._createActionByOption("onApplyPanelSize"),this.$element().addClass(k).addClass(R),this._$splitterBorder=(0,o.default)("<div>").addClass(D).appendTo(this.$element()),this._$splitter=(0,o.default)("<div>").addClass(S).addClass(E).appendTo(this._$splitterBorder)}},{key:"_render",value:function(){m(T(n.prototype),"_render",this).call(this),this._detachEventHandlers(),this._attachEventHandlers()}},{key:"_clean",value:function(){this._detachEventHandlers(),m(T(n.prototype),"_clean",this).call(this)}},{key:"_attachEventHandlers",value:function(){var e=a.default.getDocument();s.default.on(this._$splitterBorder,P,this._onMouseDownHandler.bind(this)),s.default.on(e,V,this._onMouseMoveHandler.bind(this)),s.default.on(e,A,this._onMouseUpHandler.bind(this))}},{key:"_detachEventHandlers",value:function(){var e=a.default.getDocument();s.default.off(this._$splitterBorder,P),s.default.off(e,V),s.default.off(e,A)}},{key:"_dimensionChanged",value:function(){if(void 0===this._leftPanelPercentageWidth){var e=this._$leftElement.get(0).clientWidth+this.getSplitterOffset();this._leftPanelPercentageWidth=this._convertLeftPanelWidthToPercentage(e)}var t=100-this._leftPanelPercentageWidth;this._onApplyPanelSize({leftPanelWidth:this._leftPanelPercentageWidth+"%",rightPanelWidth:t+"%"}),this.setSplitterPositionLeft(this._$leftElement.get(0).clientWidth-this.getSplitterOffset())}},{key:"_onMouseDownHandler",value:function(e){e.preventDefault(),this._offsetX=e.pageX-this._$splitterBorder.offset().left<=this._getSplitterBorderWidth()?e.pageX-this._$splitterBorder.offset().left:0,this._isSplitterActive=!0,this._containerWidth=this._$container.get(0).clientWidth,this.$element().removeClass(R),this._$splitter.removeClass(E),this.setSplitterPositionLeft(null,!0)}},{key:"_onMouseMoveHandler",value:function(e){this._isSplitterActive&&this.setSplitterPositionLeft(this._getNewSplitterPositionLeft(e),!0)}},{key:"_onMouseUpHandler",value:function(){this._isSplitterActive&&(this._$splitter.addClass(E),this._isSplitterActive=!1)}},{key:"_getNewSplitterPositionLeft",value:function(e){var t=e.pageX-this._getContainerLeftOffset()-this._offsetX;return t=Math.max(0-this.getSplitterOffset(),t),t=Math.min(this._containerWidth-this.getSplitterOffset()-this._getSplitterWidth(),t),t}},{key:"_getContainerLeftOffset",value:function(){var e=this._$container.offset().left;if(I){var t=I.getComputedStyle(this._$container.get(0)),n=parseFloat(t.paddingLeft)||0,i=parseFloat(t.borderLeftWidth)||0;e+=n+i}return e}},{key:"_isDomElement",value:function(e){return e&&e.nodeType&&1===e.nodeType}},{key:"_isPercentValue",value:function(e){return(0,c.isString)(e)&&"%"===e.slice(-1)}},{key:"getSplitterOffset",value:function(){return(this._getSplitterBorderWidth()-this._getSplitterWidth())/2}},{key:"_getSplitterWidth",value:function(){return this._$splitter.get(0).clientWidth}},{key:"_getSplitterBorderWidth",value:function(){return this._$splitterBorder.get(0).clientWidth}},{key:"toggleState",value:function(e){var t=e?"removeClass":"addClass";this.$element()[t](O),this._$splitter[t](O)}},{key:"isSplitterMoved",value:function(){return!this.$element().hasClass(R)}},{key:"setSplitterPositionLeft",value:function(e,t){if(e=e||this._$leftElement.get(0).clientWidth-this.getSplitterOffset(),this.$element().css("left",e),t){var n=e+this.getSplitterOffset(),i=this._containerWidth-n;this._onApplyPanelSize({leftPanelWidth:n,rightPanelWidth:i}),this._leftPanelPercentageWidth=this._convertLeftPanelWidthToPercentage(n)}}},{key:"_optionChanged",value:function(e){switch(e.name){case"initialLeftPanelWidth":this._leftPanelPercentageWidth=this._convertLeftPanelWidthToPercentage(e.value),this._dimensionChanged();break;case"leftElement":this.repaint();break;default:m(T(n.prototype),"_optionChanged",this).call(this,e)}}},{key:"_convertLeftPanelWidthToPercentage",value:function(e){return e/this._$container.get(0).clientWidth*100}}]),n}(r.default);t.default=F,e.exports=t.default},a32a:function(e,t,n){"use strict";t.default=void 0;var i=s(n("14a3")),o=n("2809"),r=n("d4b2"),a=n("5e04");function s(e){return e&&e.__esModule?e:{default:e}}var l="dx-column-indicators",d="dx-group-panel-item",u={_applyColumnState:function(e){var t,n=this,o=this.option("rtlEnabled"),a=n._getColumnAlignment(e.column.alignment,o),s=(0,r.extend)(!0,{columnAlignment:a},e),l=s.rootElement.hasClass(d),u=n._createIndicatorContainer(s,l),c=(0,i.default)("<span>").addClass(n._getIndicatorClassName(e.name)),h=null===(t=n.component)||void 0===t?void 0:t.getController("columns"),p=(null===h||void 0===h?void 0:h.getHeaderContentAlignment(a))||a;return s.container=u,s.indicator=c,n._renderIndicator(s),u[!l&&e.showColumnLines||"left"!==p?"prependTo":"appendTo"](e.rootElement),c},_getIndicatorClassName:o.noop,_getColumnAlignment:function(e,t){return t=t||this.option("rtlEnabled"),e&&"center"!==e?e:(0,a.getDefaultAlignment)(t)},_createIndicatorContainer:function(e,t){var n=this._getIndicatorContainer(e.rootElement),o="left"===e.columnAlignment?"right":"left";return n.length||(n=(0,i.default)("<div>").addClass(l)),this.setAria("role","presentation",n),n.css("float",e.showColumnLines&&!t?o:null)},_getIndicatorContainer:function(e){return e&&e.find("."+l)},_getIndicatorElements:function(e){var t=this._getIndicatorContainer(e);return t&&t.children()},_renderIndicator:function(e){var t=e.container,n=e.indicator;t&&n&&t.append(n)},_updateIndicators:function(e){var t,n=this,i=n.getColumns(),o=n.getColumnElements();if(o&&i.length===o.length)for(var r=0;r<i.length;r++){t=o.eq(r),n._updateIndicator(t,i[r],e);var a=t.parent().data("options");a&&a.cells&&(a.cells[t.index()].column=i[r])}},_updateIndicator:function(e,t,n){if(!t.command)return this._applyColumnState({name:n,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})}};t.default=u,e.exports=t.default},a622:function(e,t,n){"use strict";var i=s(n("832e")),o=s(n("009f")),r=s(n("d817")),a=n("d4b2");function s(e){return e&&e.__esModule?e:{default:e}}var l=r.default.defaultOptions,d=r.default.extenders.controllers.data,u=r.default.extenders.dataSourceAdapter;r.default.extenders.controllers.data=(0,a.extend)({},d,{_loadOnOptionChange:function(){var e=this._dataSource&&this._dataSource._virtualScrollController;e&&e.reset(),this.callBase()}}),r.default.extenders.dataSourceAdapter=(0,a.extend)({},u,{changeRowExpand:function(){var e=this;return this.callBase.apply(this,arguments).done((function(){var t=e.getViewportItemIndex();t>=0&&e.setViewportItemIndex(t)}))}}),i.default.registerModule("virtualScrolling",(0,a.extend)({},r.default,{defaultOptions:function(){return(0,a.extend)(!0,l(),{scrolling:{mode:"virtual"}})}})),o.default.extend(r.default.extenders.dataSourceAdapter)},a68f:function(e,t,n){"use strict";t.ColumnsController=void 0;var i=n("b62d"),o=a(n("832e")),r=a(n("86e7"));function a(e){return e&&e.__esModule?e:{default:e}}var s=r.default.controllers.columns.inherit(function(){return{_getFirstItems:function(e){return this.callBase(e).map((function(e){return e.data}))},getFirstDataColumnIndex:function(){for(var e=this.getVisibleColumns(),t=e.length,n=0,o=0;o<=t-1;o++)if(!(0,i.isDefined)(e[o].command)){n=e[o].index;break}return n}}}());t.ColumnsController=s,o.default.registerModule("columns",{defaultOptions:r.default.defaultOptions,controllers:{columns:s}})},a698:function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("1384"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("contextMenu",o.default)},ab70:function(e,t,n){"use strict";
/*!
 * devextreme-vue
 * Version: 20.2.4
 * Build date: Tue Dec 01 2020
 *
 * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */Object.defineProperty(t,"__esModule",{value:!0}),t.DxValidationRule=t.DxValidation=t.DxToolbarItem=t.DxToolbar=t.DxTasks=t.DxStripLine=t.DxStringLengthRule=t.DxResources=t.DxResourceAssignments=t.DxRequiredRule=t.DxRangeRule=t.DxPatternRule=t.DxNumericRule=t.DxLookup=t.DxLabel=t.DxItem=t.DxHeaderFilter=t.DxFormItem=t.DxFormat=t.DxEmailRule=t.DxEditing=t.DxDependencies=t.DxCustomRule=t.DxContextMenuItem=t.DxContextMenu=t.DxCompareRule=t.DxColumn=t.DxButton=t.DxAsyncRule=t.DxGantt=void 0;var i=n("d12c"),o=n("27da"),r=n("27da"),a=o.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowSelection:Boolean,columns:Array,contextMenu:Object,dependencies:Object,disabled:Boolean,editing:Object,elementAttr:Object,firstDayOfWeek:{type:Number,validator:function(e){return"number"!==typeof e||-1!==[0,1,2,3,4,5,6].indexOf(e)}},focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,onContentReady:Function,onContextMenuPreparing:Function,onCustomCommand:Function,onDependencyDeleting:Function,onDependencyInserting:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onResourceAssigning:Function,onResourceDeleting:Function,onResourceInserting:Function,onResourceUnassigning:Function,onSelectionChanged:Function,onTaskClick:Function,onTaskDblClick:Function,onTaskDeleting:Function,onTaskEditDialogShowing:Function,onTaskInserting:Function,onTaskMoving:Function,onTaskUpdating:Function,resourceAssignments:Object,resources:Object,rootValue:{},scaleType:String,selectedRowKey:{},showResources:Boolean,showRowLines:Boolean,stripLines:Array,tabIndex:Number,taskListWidth:Number,tasks:Object,taskTitlePosition:String,taskTooltipContentTemplate:{},toolbar:Object,validation:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSelection":null,"update:columns":null,"update:contextMenu":null,"update:dependencies":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:firstDayOfWeek":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onCustomCommand":null,"update:onDependencyDeleting":null,"update:onDependencyInserting":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResourceAssigning":null,"update:onResourceDeleting":null,"update:onResourceInserting":null,"update:onResourceUnassigning":null,"update:onSelectionChanged":null,"update:onTaskClick":null,"update:onTaskDblClick":null,"update:onTaskDeleting":null,"update:onTaskEditDialogShowing":null,"update:onTaskInserting":null,"update:onTaskMoving":null,"update:onTaskUpdating":null,"update:resourceAssignments":null,"update:resources":null,"update:rootValue":null,"update:scaleType":null,"update:selectedRowKey":null,"update:showResources":null,"update:showRowLines":null,"update:stripLines":null,"update:tabIndex":null,"update:taskListWidth":null,"update:tasks":null,"update:taskTitlePosition":null,"update:taskTooltipContentTemplate":null,"update:toolbar":null,"update:validation":null,"update:visible":null,"update:width":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=i.default,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},contextMenu:{isCollectionItem:!1,optionName:"contextMenu"},dependencies:{isCollectionItem:!1,optionName:"dependencies"},editing:{isCollectionItem:!1,optionName:"editing"},resourceAssignments:{isCollectionItem:!1,optionName:"resourceAssignments"},resources:{isCollectionItem:!1,optionName:"resources"},stripLine:{isCollectionItem:!0,optionName:"stripLines"},tasks:{isCollectionItem:!1,optionName:"tasks"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},validation:{isCollectionItem:!1,optionName:"validation"}}}});t.DxGantt=a;var s=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}});t.DxAsyncRule=s,s.$_optionName="validationRules",s.$_isCollectionItem=!0,s.$_predefinedProps={type:"async"};var l=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:hint":null,"update:icon":null,"update:name":null,"update:onClick":null,"update:template":null,"update:text":null,"update:visible":null},props:{cssClass:String,hint:String,icon:String,name:String,onClick:[Function,String],template:{},text:String,visible:[Boolean,Function]}});t.DxButton=l,l.$_optionName="buttons",l.$_isCollectionItem=!0;var d=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowEditing":null,"update:allowFiltering":null,"update:allowFixing":null,"update:allowHeaderFiltering":null,"update:allowHiding":null,"update:allowReordering":null,"update:allowResizing":null,"update:allowSearch":null,"update:allowSorting":null,"update:buttons":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:columns":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:editCellTemplate":null,"update:editorOptions":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:fixed":null,"update:fixedPosition":null,"update:format":null,"update:formItem":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:hidingPriority":null,"update:isBand":null,"update:lookup":null,"update:minWidth":null,"update:name":null,"update:ownerBand":null,"update:renderAsync":null,"update:selectedFilterOperation":null,"update:setCellValue":null,"update:showEditorAlways":null,"update:showInColumnChooser":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:type":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowEditing:Boolean,allowFiltering:Boolean,allowFixing:Boolean,allowHeaderFiltering:Boolean,allowHiding:Boolean,allowReordering:Boolean,allowResizing:Boolean,allowSearch:Boolean,allowSorting:Boolean,buttons:Array,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateSortValue:[Function,String],caption:String,cellTemplate:{},columns:Array,cssClass:String,customizeText:Function,dataField:String,dataType:String,editCellTemplate:{},editorOptions:Object,encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,fixed:Boolean,fixedPosition:String,format:[Object,Function,String],formItem:Object,headerCellTemplate:{},headerFilter:Object,hidingPriority:Number,isBand:Boolean,lookup:Object,minWidth:Number,name:String,ownerBand:Number,renderAsync:Boolean,selectedFilterOperation:String,setCellValue:Function,showEditorAlways:Boolean,showInColumnChooser:Boolean,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,type:String,validationRules:Array,visible:Boolean,visibleIndex:Number,width:[Number,String]}});t.DxColumn=d,d.$_optionName="columns",d.$_isCollectionItem=!0,d.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},button:{isCollectionItem:!0,optionName:"buttons"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},format:{isCollectionItem:!1,optionName:"format"},formItem:{isCollectionItem:!1,optionName:"formItem"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},lookup:{isCollectionItem:!1,optionName:"lookup"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};var u=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String}});t.DxCompareRule=u,u.$_optionName="validationRules",u.$_isCollectionItem=!0,u.$_predefinedProps={type:"compare"};var c=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}});t.DxContextMenu=c,c.$_optionName="contextMenu",c.$_expectedChildren={contextMenuItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};var h=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,html:String,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});t.DxContextMenuItem=h,h.$_optionName="items",h.$_isCollectionItem=!0;var p=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}});t.DxCustomRule=p,p.$_optionName="validationRules",p.$_isCollectionItem=!0,p.$_predefinedProps={type:"custom"};var f=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:predecessorIdExpr":null,"update:successorIdExpr":null,"update:typeExpr":null},props:{dataSource:[Array,Object],keyExpr:[Function,String],predecessorIdExpr:[Function,String],successorIdExpr:[Function,String],typeExpr:[Function,String]}});t.DxDependencies=f,f.$_optionName="dependencies";var g=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDependencyAdding":null,"update:allowDependencyDeleting":null,"update:allowResourceAdding":null,"update:allowResourceDeleting":null,"update:allowResourceUpdating":null,"update:allowTaskAdding":null,"update:allowTaskDeleting":null,"update:allowTaskResourceUpdating":null,"update:allowTaskUpdating":null,"update:enabled":null},props:{allowDependencyAdding:Boolean,allowDependencyDeleting:Boolean,allowResourceAdding:Boolean,allowResourceDeleting:Boolean,allowResourceUpdating:Boolean,allowTaskAdding:Boolean,allowTaskDeleting:Boolean,allowTaskResourceUpdating:Boolean,allowTaskUpdating:Boolean,enabled:Boolean}});t.DxEditing=g,g.$_optionName="editing";var m=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}});t.DxEmailRule=m,m.$_optionName="validationRules",m.$_isCollectionItem=!0,m.$_predefinedProps={type:"email"};var v=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String}});t.DxFormat=v,v.$_optionName="format";var _=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:colSpan":null,"update:cssClass":null,"update:dataField":null,"update:editorOptions":null,"update:editorType":null,"update:helpText":null,"update:isRequired":null,"update:itemType":null,"update:label":null,"update:name":null,"update:template":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null},props:{colSpan:Number,cssClass:String,dataField:String,editorOptions:Object,editorType:String,helpText:String,isRequired:Boolean,itemType:String,label:Object,name:String,template:{},validationRules:Array,visible:Boolean,visibleIndex:Number}});t.DxFormItem=_,_.$_optionName="formItem",_.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},label:{isCollectionItem:!1,optionName:"label"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};var y=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,dataSource:[Array,Object,Function],groupInterval:[Number,String],height:Number,searchMode:String,width:Number}});t.DxHeaderFilter=y,y.$_optionName="headerFilter";var C=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:Object,selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});t.DxItem=C,C.$_optionName="items",C.$_isCollectionItem=!0;var w=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:location":null,"update:showColon":null,"update:text":null,"update:visible":null},props:{alignment:String,location:String,showColon:Boolean,text:String,visible:Boolean}});t.DxLabel=w,w.$_optionName="label";var x=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,dataSource:[Array,Object,Function],displayExpr:[Function,String],valueExpr:String}});t.DxLookup=x,x.$_optionName="lookup";var b=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}});t.DxNumericRule=b,b.$_optionName="validationRules",b.$_isCollectionItem=!0,b.$_predefinedProps={type:"numeric"};var T=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:pattern":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,pattern:{},type:String}});t.DxPatternRule=T,T.$_optionName="validationRules",T.$_isCollectionItem=!0,T.$_predefinedProps={type:"pattern"};var I=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:reevaluate":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:{},message:String,min:{},reevaluate:Boolean,type:String}});t.DxRangeRule=I,I.$_optionName="validationRules",I.$_isCollectionItem=!0,I.$_predefinedProps={type:"range"};var S=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:message":null,"update:trim":null,"update:type":null},props:{message:String,trim:Boolean,type:String}});t.DxRequiredRule=S,S.$_optionName="validationRules",S.$_isCollectionItem=!0,S.$_predefinedProps={type:"required"};var k=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:resourceIdExpr":null,"update:taskIdExpr":null},props:{dataSource:[Array,Object],keyExpr:[Function,String],resourceIdExpr:[Function,String],taskIdExpr:[Function,String]}});t.DxResourceAssignments=k,k.$_optionName="resourceAssignments";var E=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:keyExpr":null,"update:textExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object],keyExpr:[Function,String],textExpr:[Function,String]}});t.DxResources=E,E.$_optionName="resources";var D=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:trim":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:Number,message:String,min:Number,trim:Boolean,type:String}});t.DxStringLengthRule=D,D.$_optionName="validationRules",D.$_isCollectionItem=!0,D.$_predefinedProps={type:"stringLength"};var R=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:end":null,"update:start":null,"update:title":null},props:{cssClass:String,end:{},start:{},title:String}});t.DxStripLine=R,R.$_optionName="stripLines",R.$_isCollectionItem=!0;var O=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:endExpr":null,"update:keyExpr":null,"update:parentIdExpr":null,"update:progressExpr":null,"update:startExpr":null,"update:titleExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object],endExpr:[Function,String],keyExpr:[Function,String],parentIdExpr:[Function,String],progressExpr:[Function,String],startExpr:[Function,String],titleExpr:[Function,String]}});t.DxTasks=O,O.$_optionName="tasks";var M=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:items":null},props:{items:Array}});t.DxToolbar=M,M.$_optionName="toolbar",M.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var P=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:Object,showText:String,template:{},text:String,visible:Boolean,widget:String}});t.DxToolbarItem=P,P.$_optionName="items",P.$_isCollectionItem=!0;var V=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoUpdateParentTasks":null,"update:validateDependencies":null},props:{autoUpdateParentTasks:Boolean,validateDependencies:Boolean}});t.DxValidation=V,V.$_optionName="validation";var A=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:pattern":null,"update:reevaluate":null,"update:trim":null,"update:type":null,"update:validationCallback":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,max:{},message:String,min:{},pattern:{},reevaluate:Boolean,trim:Boolean,type:String,validationCallback:Function}});t.DxValidationRule=A,A.$_optionName="validationRules",A.$_isCollectionItem=!0,A.$_predefinedProps={type:"required"},t.default=a},ab8d:function(e,t,n){"use strict";t.default=void 0;var i=o(n("7e24"));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default;t.default=r,e.exports=t.default,e.exports.default=e.exports},abda:function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.GanttView=void 0;var o=u(n("14a3")),r=u(n("cc156")),a=n("5539"),s=n("4fe9"),l=u(n("7585")),d=n("b62d");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function f(e,t,n){return f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=g(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function g(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=x(e),null===e)break;return e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function _(e){var t=w();return function(){var n,i=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var b=function(e){m(n,e);var t=_(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"_init",value:function(){f(x(n.prototype),"_init",this).call(this),this._onSelectionChanged=this._createActionByOption("onSelectionChanged"),this._onScroll=this._createActionByOption("onScroll"),this._onDialogShowing=this._createActionByOption("onDialogShowing"),this._onPopupMenuShowing=this._createActionByOption("onPopupMenuShowing"),this._expandAll=this._createActionByOption("onExpandAll"),this._collapseAll=this._createActionByOption("onCollapseAll"),this._taskClick=this._createActionByOption("onTaskClick"),this._taskDblClick=this._createActionByOption("onTaskDblClick")}},{key:"_initMarkup",value:function(){var e=(0,a.getGanttViewCore)();this._ganttViewCore=new e(this.$element().get(0),this,{showResources:this.option("showResources"),taskTitlePosition:this._getTaskTitlePosition(this.option("taskTitlePosition")),firstDayOfWeek:this._getFirstDayOfWeek(this.option("firstDayOfWeek")),allowSelectTask:this.option("allowSelection"),editing:this._parseEditingSettings(this.option("editing")),validation:this.option("validation"),stripLines:{stripLines:this.option("stripLines")},areHorizontalBordersEnabled:this.option("showRowLines"),areAlternateRowsEnabled:!1,viewType:this._getViewTypeByScaleType(this.option("scaleType")),cultureInfo:this._getCultureInfo(),taskTooltipContentTemplate:this.option("taskTooltipContentTemplate")}),this._selectTask(this.option("selectedRowKey")),this.updateBarItemsState()}},{key:"_getFirstDayOfWeek",value:function(e){return(0,d.isDefined)(e)?e:l.default.firstDayOfWeekIndex()}},{key:"getTaskAreaContainer",value:function(){return this._ganttViewCore.taskAreaContainer}},{key:"getBarManager",value:function(){return this._ganttViewCore.barManager}},{key:"executeCoreCommand",value:function(e){var t=this._ganttViewCore.commandManager.getCommand(e);t&&t.execute()}},{key:"changeTaskExpanded",value:function(e,t){this._ganttViewCore.changeTaskExpanded(e,t)}},{key:"updateView",value:function(){this._ganttViewCore.updateView()}},{key:"updateBarItemsState",value:function(){this._ganttViewCore.barManager.updateItemsState([])}},{key:"setWidth",value:function(e){this._ganttViewCore.setWidth(e)}},{key:"_selectTask",value:function(e){this._ganttViewCore.selectTaskById(e)}},{key:"_update",value:function(){this._ganttViewCore.loadOptionsFromGanttOwner(),this._ganttViewCore.resetAndUpdate()}},{key:"_getCultureInfo",value:function(){return{monthNames:l.default.getMonthNames("wide"),dayNames:l.default.getDayNames("wide"),abbrMonthNames:l.default.getMonthNames("abbreviated"),abbrDayNames:l.default.getDayNames("abbreviated"),quarterNames:l.default.getQuarterNames(),amText:l.default.getPeriodNames()[0],pmText:l.default.getPeriodNames()[1]}}},{key:"_getTaskTitlePosition",value:function(e){switch(e){case"outside":return 1;case"none":return 2;default:return 0}}},{key:"_getViewTypeByScaleType",value:function(e){switch(e){case"minutes":return 0;case"hours":return 1;case"days":return 3;case"weeks":return 4;case"months":return 5;case"quarters":return 6;case"years":return 7;default:return}}},{key:"_parseEditingSettings",value:function(e){return{enabled:e.enabled,allowDependencyDelete:e.allowDependencyDeleting,allowDependencyInsert:e.allowDependencyAdding,allowTaskDelete:e.allowTaskDeleting,allowTaskInsert:e.allowTaskAdding,allowTaskUpdate:e.allowTaskUpdating,allowResourceDelete:e.allowResourceDeleting,allowResourceInsert:e.allowResourceAdding,allowResourceUpdate:e.allowResourceUpdating,allowTaskResourceUpdate:e.allowTaskResourceUpdating}}},{key:"_optionChanged",value:function(e){switch(e.name){case"width":f(x(n.prototype),"_optionChanged",this).call(this,e),this._ganttViewCore.setWidth(e.value);break;case"height":this._ganttViewCore.setHeight(e.value);break;case"tasks":case"dependencies":case"resources":case"resourceAssignments":this._update();break;case"showResources":this._ganttViewCore.setShowResources(e.value);break;case"taskTitlePosition":this._ganttViewCore.setTaskTitlePosition(this._getTaskTitlePosition(e.value));break;case"firstDayOfWeek":this._ganttViewCore.setFirstDayOfWeek(this._getFirstDayOfWeek(e.value));break;case"allowSelection":this._ganttViewCore.setAllowSelection(e.value);break;case"selectedRowKey":this._selectTask(e.value);break;case"editing":this._ganttViewCore.setEditingSettings(this._parseEditingSettings(e.value));break;case"validation":this._ganttViewCore.setValidationSettings(e.value),this._update();break;case"showRowLines":this._ganttViewCore.setRowLinesVisible(e.value);break;case"scaleType":this._ganttViewCore.setViewType(this._getViewTypeByScaleType(e.value));break;case"stripLines":this._ganttViewCore.setStripLines({stripLines:e.value});break;case"taskTooltipContentTemplate":this._ganttViewCore.setTaskTooltipContentTemplate(e.value);break;default:f(x(n.prototype),"_optionChanged",this).call(this,e)}}},{key:"getRowHeight",value:function(){return this.option("rowHeight")}},{key:"getHeaderHeight",value:function(){return this.option("headerHeight")}},{key:"getGanttTasksData",value:function(){return this.option("tasks")}},{key:"getGanttDependenciesData",value:function(){return this.option("dependencies")}},{key:"getGanttResourcesData",value:function(){return this.option("resources")}},{key:"getGanttResourceAssignmentsData",value:function(){return this.option("resourceAssignments")}},{key:"getGanttWorkTimeRules",value:function(){return{}}},{key:"getExternalTaskAreaContainer",value:function(e){return this._taskAreaContainer||(this._taskAreaContainer=new s.TaskAreaContainer(e,this)),this._taskAreaContainer}},{key:"changeGanttTaskSelection",value:function(e,t){this._onSelectionChanged({id:e,selected:t})}},{key:"onGanttScroll",value:function(e){this._onScroll({scrollTop:e})}},{key:"showDialog",value:function(e,t,n,i){this._onDialogShowing({name:e,parameters:t,callback:n,afterClosing:i})}},{key:"getModelChangesListener",value:function(){return this.option("modelChangesListener")}},{key:"showPopupMenu",value:function(e){this._onPopupMenuShowing(e)}},{key:"getMainElement",value:function(){return this.option("mainElement").get(0)}},{key:"adjustControl",value:function(){}},{key:"getRequireFirstLoadParentAutoCalc",value:function(){return this.option("validation.autoUpdateParentTasks")}},{key:"collapseAll",value:function(){this._collapseAll()}},{key:"expandAll",value:function(){this._expandAll()}},{key:"onTaskClick",value:function(e,t){return this._taskClick({key:e,event:t}),!0}},{key:"onTaskDblClick",value:function(e,t){return this._taskDblClick({key:e,event:t})}},{key:"onGanttViewContextMenu",value:function(e,t,n){return!0}},{key:"getFormattedDateText",value:function(e){var t="";if(e){var n=l.default.format(e,"shortDate"),i=l.default.format(e,"hh:mm");t=n+" "+i}return t}},{key:"destroyTemplate",value:function(e){(0,o.default)(e).empty()}},{key:"bars",get:function(){return this.option("bars")}}]),n}(r.default);t.GanttView=b},afc5:function(e,t,n){"use strict";t.default=void 0;var i=d(n("14a3")),o=d(n("a522")),r=n("1d99"),a=n("2809"),s=n("b62d"),l=n("1391");function d(e){return e&&e.__esModule?e:{default:e}}n("372f");var u="header-panel",c="toolbar-button",h=r.ColumnsView.inherit({_getToolbarItems:function(){return[]},_getButtonContainer:function(){return(0,i.default)("<div>").addClass(this.addWidgetPrefix(c))},_getToolbarButtonClass:function(e){var t=e?" "+e:"";return this.addWidgetPrefix(c)+t},_getToolbarOptions:function(){var e={toolbarOptions:{items:this._getToolbarItems(),onItemRendered:function(e){var t=e.itemData.onItemRendered;t&&t(e)}}};if(this.executeAction("onToolbarPreparing",e),e.toolbarOptions&&!(0,s.isDefined)(e.toolbarOptions.visible)){var t=e.toolbarOptions.items;e.toolbarOptions.visible=!(!t||!t.length)}return e.toolbarOptions},_renderCore:function(){this._toolbar?this._toolbar.option(this._toolbarOptions):(this.element().addClass(this.addWidgetPrefix(u)),this._toolbar=this._createComponent((0,i.default)("<div>").appendTo(this.element()),o.default,this._toolbarOptions))},_columnOptionChanged:a.noop,_handleDataChanged:function(){this._requireReady&&this.render()},init:function(){this.callBase(),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})},render:function(){this._toolbarOptions=this._getToolbarOptions(),this.callBase.apply(this,arguments)},setToolbarItemDisabled:function(e,t){var n=this._toolbar;if(n){var i=n.option("items")||[],o=i.indexOf(i.filter((function(t){return t.name===e}))[0]);if(o>=0){var r="items["+o+"]";n.option(r+".options")?n.option(r+".options.disabled",t):n.option(r+".disabled",t)}}},updateToolbarDimensions:function(){this._toolbar&&(0,l.triggerResizeEvent)(this.getHeaderPanel())},getHeaderPanel:function(){return this.element()},getHeight:function(){return this.getElementHeight()},optionChanged:function(e){"onToolbarPreparing"===e.name&&(this._invalidate(),e.handled=!0),this.callBase(e)},isVisible:function(){return this._toolbarOptions&&this._toolbarOptions.visible},allowDragging:a.noop}),p={defaultOptions:function(){return{}},views:{headerPanel:h},extenders:{controllers:{resizing:{_updateDimensionsCore:function(){this.callBase.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}}}}};t.default=p,e.exports=t.default},b45e:function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.default=void 0;var o=x(n("14a3")),r=x(n("b547")),a=x(n("8de2")),s=x(n("1981")),l=x(n("f12e")),d=n("b62d"),u=n("5e98"),c=n("8298"),h=n("1820"),p=x(n("4f86")),f=n("5c27"),g=n("2809"),m=w(n("62df")),v=x(n("b876")),_=n("50e1"),y=x(n("2dd1"));function C(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function w(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=C();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function x(e){return e&&e.__esModule?e:{default:e}}var b="rowsview",T="edit-form",I="group-footer",S="dx-row",k="dx-data-row",E="dx-group-row",D="dx-header-row",R="edit-form-item",O="dx-master-detail-row",M="dx-freespace-row",P="dx-virtual-row",V="dx-master-detail-cell",A="dx-editor-cell",F="dx-dropdowneditor-overlay",B="dx-command-expand",N="dx-command-select",L="dx-command-edit",H="[class^=dx-command]",W="dx-cell-focus-disabled",z="dxDateBox",K="dx-state-focused",U="dx-widget",j="dx-revert-button",G="delete",$="input:not([type='hidden']), textarea, a, select, button, [tabindex]",q="row",Y="form",X="batch",J="cell",Q="row",Z="cell",ee="columnHeadersView";function te(e){return e&&e.hasClass(E)}function ne(e){return e&&e.hasClass(O)}function ie(e){return e&&!te(e)&&!ne(e)}function oe(e){return!e||e.hasClass(M)||e.hasClass(P)}function re(e){return e.length&&"TD"===e[0].tagName}function ae(e,t){return!e._isRowEditMode()&&t&&!t.hasClass(N)&&t.hasClass(A)}function se(e){return(0,d.isDefined)(e)&&e.length>0}function le(){return"desktop"!==y.default.current().deviceType}function de(e){return!!e.parent(".".concat(D)).length}function ue(e,t){var n=e.option("rtlEnabled"),i=!1;return i=n?!("right"===t.fixedPosition||(0,d.isDefined)(t.command)&&!(0,d.isDefined)(t.fixedPosition)):!(!(0,d.isDefined)(t.fixedPosition)||"left"===t.fixedPosition),i}var ce=s.default.ViewController.inherit({init:function(){var e=this;if(this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._columnsController=this.getController("columns"),this._editorFactory=this.getController("editorFactory"),this.isKeyboardEnabled()){m.subscribeVisibilityChange(),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._focusedCellPosition={},this._canceledCellPosition=null;var t=function(t){e.setupFocusedView(),e._isNeedScroll&&t.is(":visible")&&e._focusedView&&e._focusedView.getScrollable&&(e._focusedView._scrollToElement(t),e._isNeedScroll=!1)};this._editorFactory.focused.add(t),this._initViewHandlers(),this._initDocumentHandlers(),this.createAction("onKeyDown")}},_initViewHandlers:function(){var e=this,t=this.getView("rowsView");t.renderCompleted.add((function(n){var i=t.element(),r=!n||"refresh"===n.changeType,a=e._focusedView&&e._focusedView.name===t.name,s=!1,l=n&&("append"===n.changeType||"prepend"===n.changeType),d=(0,o.default)(":focus"),u=!d.length||d.closest(i).length||v.default.msie&&d.is("body");e._initPointerEventHandler(),e._initKeyDownHandler(),e._setRowsViewAttributes(),a&&u&&(s=e._isNeedFocus?!l:e._isHiddenFocus&&r,s&&e._updateFocus(!0))}))},_initDocumentHandlers:function(){var e=this,t=r.default.getDocument();this._documentClickHandler=this.createAction((function(t){var n=(0,o.default)(t.event.target),i=e._isEventInCurrentGrid(t.event)&&n.closest(".".concat(e.addWidgetPrefix(b))).length,r=n.closest(".".concat(F)).length,a=e.getController("columnsResizer"),s=!!a&&a.isResizing();i||r||s||e._resetFocusedView()})),a.default.on(t,(0,h.addNamespace)(p.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)},_setRowsViewAttributes:function(){var e=this._getRowsViewElement(),t=!this._dataController.getVisibleRows().length;t&&this._applyTabIndexToElement(e)},_initPointerEventHandler:function(){var e=le()?f.name:p.default.down,t=".".concat(S," > td, .").concat(S),n=this._getRowsViewElement();(0,d.isDefined)(this._pointerEventAction)||(this._pointerEventAction=this.createAction(this._pointerEventHandler)),a.default.off(n,(0,h.addNamespace)(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction),a.default.on(n,(0,h.addNamespace)(e,"dxDataGridKeyboardNavigation"),t,this._pointerEventAction)},_initKeyDownHandler:function(){var e=this,t=this._getRowsViewElement();_.keyboard.off(this._keyDownListener),this._keyDownListener=_.keyboard.on(t,null,(function(t){return e._keyDownHandler(t)}))},dispose:function(){this.callBase(),this._resetFocusedView(),_.keyboard.off(this._keyDownListener),a.default.off(r.default.getDocument(),(0,h.addNamespace)(p.default.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),m.unsubscribeVisibilityChange()},optionChanged:function(e){var t=this;switch(e.name){case"keyboardNavigation":case"useLegacyKeyboardNavigation":e.handled=!0;break;default:t.callBase(e)}},isRowFocusType:function(){return this.focusType===Q},isCellFocusType:function(){return this.focusType===Z},setRowFocusType:function(){this.option("focusedRowEnabled")&&(this.focusType=Q)},setCellFocusType:function(){this.focusType=Z},_keyDownHandler:function(e){var t=this._editingController.isEditing(),n=!0,i=e.originalEvent,o=this._processOnKeyDown(e);if(!i.isDefaultPrevented()&&(this._isNeedFocus=!0,this._isNeedScroll=!0,this._updateFocusedCellPositionByTarget(i.target),!o)){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,t);break;case"upArrow":case"downArrow":e.ctrl?m.selectView("rowsView",this,i):this._upDownKeysHandler(e,t);break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e);break;case"space":this._spaceKeyHandler(e,t);break;case"A":e.ctrl?this._ctrlAKeyHandler(e,t):this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e,t);break;case"enter":this._enterKeyHandler(e,t);break;case"escape":this._escapeKeyHandler(e,t);break;case"F":e.ctrl?this._ctrlFKeyHandler(e):this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler();break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&this._beginFastEditing(i,!0);break;default:this._beginFastEditing(i)||(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1)}n&&i.stopPropagation()}},_processOnKeyDown:function(e){var t=e.originalEvent,n={handled:!1,event:t};return this.executeAction("onKeyDown",n),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!n.handled},_closeEditCell:function(){var e=this;setTimeout((function(){e._editingController.closeEditCell()}))},_leftRightKeysHandler:function(e,t){var n=this.getVisibleRowIndex(),i=e.originalEvent,o=this._focusedView&&this._focusedView.getRow(n),r=this._getDirectionCodeByKey(e.keyName),a=this._isFastEditingStarted(),s=(!t||a)&&ie(o);if(s){this.setCellFocusType(),a&&this._closeEditCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(r);var l=this._getNextCell(r);se(l)&&this._arrowKeysHandlerFocusCell(i,l,r),i&&i.preventDefault()}},_upDownKeysHandler:function(e,t){var n=this._focusedCellPosition.rowIndex,i=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(i),r=e.originalEvent,a="upArrow"===e.keyName,s=this._dataController.dataSource(),l=this._isFastEditingStarted(),d=(!t||l)&&o&&!ne(o);if(d){if(l&&this._closeEditCell(),!this._navigateNextCell(r,e.keyName)&&this._isVirtualRowRender()&&a&&s&&!s.isLoading()){var u=o.outerHeight();n=this._focusedCellPosition.rowIndex-1,this._scrollBy(0,-u,n,r)}r&&r.preventDefault()}},_pageUpDownKeyHandler:function(e){var t=this._dataController.pageIndex(),n=this._dataController.pageCount(),i=this.option("paging.enabled"),o="pageUp"===e.keyName,r=o?-1:1,a=this.getView("rowsView").getScrollable();i&&!this._isVirtualScrolling()?(o?t>0:t<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+r),e.originalEvent.preventDefault()):a&&a._container().height()<a.$content().height()&&(this._scrollBy(0,a._container().height()*r),e.originalEvent.preventDefault())},_spaceKeyHandler:function(e,t){var n=this.getVisibleRowIndex(),i=(0,o.default)(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&"none"!==this.option("selection").mode&&!t){var r="row"===this._getElementType(i)&&this.isRowFocusType()&&ie(i),a=i.hasClass(N);a&&"onClick"===this.option("selection.showCheckBoxesMode")&&this._selectionController.startSelectionWithCheckboxes(),(r||i.parent().hasClass(k)||i.hasClass(this.addWidgetPrefix(b)))&&(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault())}else this._beginFastEditing(e.originalEvent)},_ctrlAKeyHandler:function(e,t){!t&&e.ctrl&&!e.alt&&"multiple"===this.option("selection.mode")&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())},_tabKeyHandler:function(e,t){var n=this.option("editing"),i=e.shift?"previous":"next",r=(0,d.isDefined)(this._focusedCellPosition)&&!(0,d.isEmptyObject)(this._focusedCellPosition),a=!r||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),s=e.originalEvent.target,l=this._focusedView&&this._focusedView.element();if(!this._handleTabKeyOnMasterDetailCell(s,i)){if((0,o.default)(l).addClass(K),n&&s&&!a)if((0,o.default)(s).hasClass(this.addWidgetPrefix(b))&&this._resetFocusedCell(),this._isVirtualColumnRender()&&this._processVirtualHorizontalPosition(i),t){if(!this._editingCellTabHandler(e,i))return}else this._targetCellTabHandler(e,i)&&(a=!0);a?(this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedView(),this._closeEditCell())):e.originalEvent.preventDefault()}},_getMaxHorizontalOffset:function(){var e=this.component.getScrollable(),t=this.getView("rowsView"),n=e?e.scrollWidth()-(0,o.default)(t.element()).width():0;return n},_isColumnRendered:function(e){var t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),i=t[e],o=!1;return i&&(o=n.indexOf(i)>=0),o},_isFixedColumn:function(e){var t=this._columnsController.getVisibleColumns(null,!0),n=t[e];return!!n&&!!n.fixed},_isColumnVirtual:function(e){var t=e-this._columnsController.getColumnIndexOffset(),n=this._columnsController.getVisibleColumns(),i=n[t];return!!i&&"virtual"===i.command},_processVirtualHorizontalPosition:function(e){var t,n=this.component.getScrollable(),i=this.getColumnIndex(),o=0,r=!1;switch(e){case"next":case"nextInRow":var a=this._getVisibleColumnCount();t=i+1,o=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,r="next"===e?a===t||this._isFixedColumn(i)&&!this._isColumnRendered(t):a>t&&this._isFixedColumn(i)&&!this._isColumnRendered(t);break;case"previous":case"previousInRow":if(t=i-1,o=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),"previous"===e){var s=this._columnsController.getColumnIndexOffset(),l=t<0&&0===s;r=l||this._isFixedColumn(i)&&!this._isColumnRendered(t)}else r=t>=0&&this._isFixedColumn(i)&&!this._isColumnRendered(t)}r?n.scrollTo({left:o}):(0,d.isDefined)(t)&&(0,d.isDefined)(e)&&this._isColumnVirtual(t)&&(o=this._getHorizontalScrollPositionOffset(e),0!==o&&n.scrollBy({left:o,top:0}))},_getHorizontalScrollPositionOffset:function(e){var t=0,n=this._getCell(this._focusedCellPosition),i=n&&n.outerWidth();if(i>0){var o=this.option("rtlEnabled")?-1:1;t="nextInRow"===e||"next"===e?i*o:i*o*-1}return t},_editingCellTabHandler:function(e,t){var n,i=e.originalEvent.target,o=this._getCellElementFromTarget(i),r=e.originalEvent,a=this._getElementType(i);if(o.is(H))return!this._targetCellTabHandler(e,t);this._updateFocusedCellPosition(o);var s=this._getNextCellByTabKey(r,t,a);if(o=s.$cell,!o||this._handleTabKeyOnMasterDetailCell(o,t))return!1;var l=this._columnsController,d=this.getView("rowsView").getCellIndex(o),u=d+l.getColumnIndexOffset(),c=l.getVisibleColumns(null,!0)[u],h=o&&o.parent(),p=this._getRowIndex(h),f=this._dataController.items()[p],g=this._editingController;if(c&&c.allowEditing){var m=!f||"data"===f.rowType;n=g.allowUpdating({row:f})?m:f&&f.isNewRow}return n||this._closeEditCell(),this._focusCell(o,!s.isHighlighted)&&(!this._isRowEditMode()&&n?this._editFocusedCell():this._focusInteractiveElement(o,e.shift)),!0},_targetCellTabHandler:function(e,t){var n,i=e.originalEvent,r=i.target,a=this._getCellElementFromTarget(r),s=this._getInteractiveElement(a,!e.shift),l=!1;if(!ae(this,a)&&s.length&&r!==s.get(0))l=!0;else{void 0===this._focusedCellPosition.rowIndex&&(0,o.default)(r).hasClass(S)&&this._updateFocusedCellPosition(a),n=this._getElementType(r),this.isRowFocusType()&&(this.setCellFocusType(),"row"===n&&ie((0,o.default)(r))&&(r=this.getFirstValidCellInRow((0,o.default)(r)),n=this._getElementType(r)));var d=this._getNextCellByTabKey(i,t,n);if(a=d.$cell,!a)return!1;if(a=this._checkNewLineTransition(i,a),!a)return!1;this._focusCell(a,!d.isHighlighted),ae(this,a)||this._focusInteractiveElement(a,e.shift)}return l},_getNextCellByTabKey:function(e,t,n){var i=this._getNextCell(t,n),o=i&&this._fireFocusedCellChanging(e,i,!0);return!o||o.cancel?{}:(o.$newCellElement&&(i=o.$newCellElement),{$cell:i,isHighlighted:o.isHighlighted})},_checkNewLineTransition:function(e,t){var n=this.getVisibleRowIndex(),i=t.parent();if(n!==this._getRowIndex(i)){var o=this._getCellPosition(t),r=this._fireFocusedRowChanging(e,i);if(r.cancel)return;r.rowIndexChanged&&(this.setFocusedColumnIndex(o.columnIndex),t=this._getFocusedCell())}return t},_enterKeyHandler:function(e,t){var n=this._getFocusedCell(),i=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(i);if(this.option("grouping.allowCollapsing")&&te(o)||this.option("masterDetail.enabled")&&n&&n.hasClass(B)){var r=this._dataController.getKeyByRowIndex(i),a=this._dataController.items()[i];void 0!==r&&a&&a.data&&!a.data.isContinuation&&this._dataController.changeRowExpand(r)}else this._processEnterKeyForDataCell(e,t)},_processEnterKeyForDataCell:function(e,t){var n=this._getEnterKeyDirection(e),i=this._allowEditingOnEnterKey();t||!i&&n?(this._handleEnterKeyEditingCell(e.originalEvent),"next"===n||"previous"===n?this._targetCellTabHandler(e,n):"upArrow"!==n&&"downArrow"!==n||this._navigateNextCell(e.originalEvent,n)):i&&this._startEditing(e)},_getEnterKeyDirection:function(e){var t=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;return"column"===t?n?"upArrow":"downArrow":"row"===t?n?"previous":"next":void 0},_handleEnterKeyEditingCell:function(e){var t=e.target,n=this._getCellElementFromTarget(t),i=this._isRowEditMode();this._updateFocusedCellPosition(n),i?(this._focusEditFormCell(n),setTimeout(this._editingController.saveEditData.bind(this._editingController))):(a.default.trigger((0,o.default)(t),"change"),this._closeEditCell(),e.preventDefault())},_escapeKeyHandler:function(e,t){var n=this._getCellElementFromTarget(e.originalEvent.target);t&&(this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData()):"cell"===this._editingController.getEditMode()?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault())},_ctrlFKeyHandler:function(e){if(this.option("searchPanel.visible")){var t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}},_f2KeyHandler:function(){var e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(t);!e&&ie(n)&&this._startEditing()},_navigateNextCell:function(e,t){var n=this._getNextCell(t),i=this._getDirectionCodeByKey(t),o=n&&this._isCellValid(n),r=!!o&&this._arrowKeysHandlerFocusCell(e,n,i);return r},_arrowKeysHandlerFocusCell:function(e,t,n){var i="prevRow"===n||"nextRow"===n,o=this._fireFocusChangingEvents(e,t,i,!0);return t=o.$newCellElement,!(o.cancel||!this._isCellValid(t))&&(this._focus(t,!o.isHighlighted),!0)},_beginFastEditing:function(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,G);else{var n=e.key,i=e.keyCode||e.which,o=n||i&&String.fromCharCode(i);!o||1!==o.length&&o!==G||this._startEditing(e,o)}return!0},_pointerEventHandler:function(e){var t=e.event||e,n=(0,o.default)(t.currentTarget),i=this.getView("rowsView"),r=i&&i.element(),a=n.parent(),s=(0,o.default)(t.target).is($),l=!!(0,o.default)(t.target).closest(".".concat(j)).length,d=n.hasClass(B);!l&&this._isEventInCurrentGrid(t)&&(this._isCellValid(n,!s)||d)?(n=this._isInsideEditForm(n)?(0,o.default)(t.target):n,this._focusView(),(0,o.default)(r).removeClass(K),a.hasClass(M)?(this._updateFocusedCellPosition(n),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus()):this._isMasterDetailCell(n)?this._updateFocusedCellPosition(n):this._clickTargetCellHandler(t,n)):n.is("td")&&this._resetFocusedCell()},_clickTargetCellHandler:function(e,t){var n=this.getView("rowsView").getCellIndex(t),i=this._columnsController.getVisibleColumns()[n],r=this._isCellEditMode();this.setCellFocusType();var a=this._fireFocusChangingEvents(e,t,!0);if(t=a.$newCellElement,a.cancel)this.setRowFocusType(),this.setFocusedRowIndex(a.prevRowIndex),t=this._getFocusedCell(),this._editingController.isEditing()&&r&&this._closeEditCell();else{if(a.resetFocusedRow)return void this.getController("focus")._resetFocusedRow();if(a.rowIndexChanged&&(t=this._getFocusedCell()),a.isHighlighted||r||this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&r&&i&&i.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{var s=e&&(0,o.default)(e.target).closest($+", td"),l=s&&s.not(t).is($),d=!!i&&!i.command&&t.hasClass(A),u=!d&&(!a.isHighlighted||l);this._focus(t,u,l)}}},_allowRowUpdating:function(){var e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")},focus:function(e){var t,n=this.option("focusedRowEnabled"),i=re((0,o.default)(e));e||(t=".dx-datagrid-rowsview .dx-row[tabindex]",n||(t+=", .dx-datagrid-rowsview .dx-row > td[tabindex]"),e=this.component.$element().find(t).first()),e&&this._focusElement((0,o.default)(e),i)},getFocusedView:function(){return this._focusedView},setupFocusedView:function(){this.isKeyboardEnabled()&&!(0,d.isDefined)(this._focusedView)&&this._focusView()},_focusElement:function(e,t){var n=(0,o.default)(this._getRowsViewElement()),i=e.closest(n),r=this.isRowFocusType(),a={};!i.length||re(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(re(e)||te(e))&&(this.setCellFocusType(),a=this._fireFocusChangingEvents(null,e,!1,t),e=a.$newCellElement,r&&!a.isHighlighted&&this.setRowFocusType()),a.cancel||(this._focus(e,!a.isHighlighted),this._focusInteractiveElement(e)))},_getFocusedViewByElement:function(e){var t=this.getFocusedView(),n=t&&(0,o.default)(t.element());return e&&0!==e.closest(n).length},_focusView:function(){this._focusedView=this.getView("rowsView")},_resetFocusedView:function(){var e=this._getFocusedCell();this._focusedView=null,this._resetFocusedCell(e)},_focusInteractiveElement:function(e,t){if(e){var n=this._getInteractiveElement(e,t);l.default.focusAndSelectElement(this,n)}},_focus:function(e,t,n){var i=e&&!e.hasClass(S)?e.closest(".".concat(S)):e;if(!i||!oe(i)){var o,r=this._focusedView,s=r&&r.element();this._isHiddenFocus=t,te(i)||this.isRowFocusType()?(o=i,r&&this.setFocusedRowIndex(this._getRowIndex(i))):re(e)&&(o=e,this._updateFocusedCellPosition(e)),o&&(s&&s.find(".dx-row[tabindex], .dx-row > td[tabindex]").not(o).removeClass(W).removeAttr("tabindex"),a.default.one(o,"blur",(function(e){e.relatedTarget&&o.removeClass(W)})),n||(this._applyTabIndexToElement(o),a.default.trigger(o,"focus")),t?o.addClass(W):this._editorFactory.focus(o))}},_updateFocus:function(e){var t=this;this._updateFocusTimeout=setTimeout((function(){var n=t._getFocusedCell(),i=t._editingController.isEditing();if(n&&(!t._isMasterDetailCell(n)||t._isRowEditMode())){if(t._hasSkipRow(n.parent())){var o=t._focusedCellPosition&&t._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";n=t._getNextCell(o)}if(se(n)){if(e&&!i&&t._checkCellOverlapped(n))return;if(n.is("td")||n.hasClass(t.addWidgetPrefix(R))){var r=n.is(H);if(!e&&r||!t._editorFactory.focus())(t._isNeedFocus||t._isHiddenFocus)&&t._focus(n,t._isHiddenFocus);else{var s=n.find(":focus"),d=se(s);if(r&&d)return void l.default.focusAndSelectElement(t,s);!d&&t._focus(n)}i&&t._focusInteractiveElement.bind(t)(n)}else a.default.trigger(n,"focus")}}}))},_checkCellOverlapped:function(e){var t=e.offset(),n=this.component.getScrollable&&this.component.getScrollable(),i=!1;return n&&(t.left<0?i=e.width()+t.left<=0:t.top<0&&(i=e.height()+t.top<=0)),i},_getFocusedCell:function(){return(0,o.default)(this._getCell(this._focusedCellPosition))},_updateFocusedCellPositionByTarget:function(e){var t,n=this._getElementType(e);if("row"===n&&(0,d.isDefined)(null===(t=this._focusedCellPosition)||void 0===t?void 0:t.columnIndex)){var i=(0,o.default)(e);this._focusedView&&te(i)&&this.setFocusedRowIndex(this._getRowIndex(i))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))},_updateFocusedCellPosition:function(e,t){var n=this._getCellPosition(e,t);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n},_getFocusedColumnIndexOffset:function(e){var t=0,n=this._columnsController.getVisibleColumns()[e];return n&&n.fixed?t=this._getFixedColumnIndexOffset(n):e>=0&&(t=this._columnsController.getColumnIndexOffset()),t},_getFixedColumnIndexOffset:function(e){var t=ue(this,e)?this._getVisibleColumnCount()-this._columnsController.getVisibleColumns().length:0;return t},_getCellPosition:function(e,t){var n,i=se(e)&&e.closest("tr"),o=this.getView("rowsView");if(se(i)){var r=this._getRowIndex(i);return n=o.getCellIndex(e,r),n+=this._getFocusedColumnIndexOffset(n),t&&(n="previous"===t?n-1:n+1,n=this._applyColumnIndexBoundaries(n)),{rowIndex:r,columnIndex:n}}},_focusCell:function(e,t){if(this._isCellValid(e))return this._focus(e,t),!0},_focusEditFormCell:function(e){e.hasClass(V)&&this._editorFactory.focus(e,!0)},_resetFocusedCell:function(e){var t=se(e)?e:this._getFocusedCell();se(t)&&t.removeAttr("tabindex"),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),this._focusedView&&this._focusedView.renderFocusState&&this._focusedView.renderFocusState()},restoreFocusableElement:function(e,t){var n,i,o=this,r=(0,d.isDefined)(e),s=o.getView("rowsView"),l=s.element(),u=o._focusedCellPosition.columnIndex,c=o._dataController.getRowIndexOffset();e=r?e:s.getTopVisibleItemIndex()+c,r?(i=s.getRow(e-c),n=o._fireFocusedRowChanging(t,i),!n.cancel&&n.rowIndexChanged&&(e=n.newRowIndex)):(o._editorFactory.loseFocus(),o._applyTabIndexToElement(l),a.default.trigger(l,"focus")),r&&n.cancel||o.setFocusedCellPosition(e,u),r&&o._updateFocus()},_getNewPositionByCode:function(e,t,n){var i,o=e.columnIndex,r=e.rowIndex;if(void 0===e.rowIndex&&"next"===n)return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":i=this._getVisibleColumnCount(),o<i-1&&"row"!==t&&this._hasValidCellAfterPosition({columnIndex:o,rowIndex:r})?o++:this._isLastRow(r)||"next"!==n||(o=0,r++);break;case"previousInRow":case"previous":o>0&&"row"!==t&&this._hasValidCellBeforePosition({columnIndex:o,rowIndex:r})?o--:r>0&&"previous"===n&&(r--,i=this._getVisibleColumnCount(),o=i-1);break;case"upArrow":r=r>0?r-1:r;break;case"downArrow":r=this._isLastRow(r)?r:r+1}return{columnIndex:o,rowIndex:r}},setFocusedCellPosition:function(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)},setFocusedRowIndex:function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e},setFocusedColumnIndex:function(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e},getRowIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1},getColumnIndex:function(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1},getVisibleRowIndex:function(){var e=this._focusedCellPosition&&this._focusedCellPosition.rowIndex;return(0,d.isDefined)(e)?e-this._dataController.getRowIndexOffset():-1},getVisibleColumnIndex:function(){var e=this._focusedCellPosition&&this._focusedCellPosition.columnIndex;return(0,d.isDefined)(e)?e-this._columnsController.getColumnIndexOffset():-1},_applyColumnIndexBoundaries:function(e){var t=this._getVisibleColumnCount();return e<0?e=0:e>=t&&(e=t-1),e},_isCellByPositionValid:function(e){var t=(0,o.default)(this._getCell(e));return this._isCellValid(t)},_isLastRow:function(e){return this._isVirtualRowRender()?e>=this._dataController.totalItemsCount()-1:e===this._dataController.items().length-1},_isFirstValidCell:function(e){var t=!1;return 0===e.rowIndex&&e.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(e)),t},_hasValidCellBeforePosition:function(e){var t=e.columnIndex,n=!1;while(t>0&&!n){var i={columnIndex:--t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(i)}return n},_hasValidCellAfterPosition:function(e){var t=e.columnIndex,n=!1,i=this._getVisibleColumnCount();while(t<i-1&&!n){var o={columnIndex:++t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(o)}return n},_isLastValidCell:function(e){var t=e.columnIndex>=0?e.columnIndex+1:0,n=e.rowIndex,i={columnIndex:t,rowIndex:n},o=this._dataController.getVisibleRows(),r=o&&o[n],a=this._isLastRow(n);return!!a&&(!!(r&&"group"===r.rowType&&e.columnIndex>0)||(e.columnIndex===this._getVisibleColumnCount()-1||!this._isCellByPositionValid(i)&&this._isLastValidCell(i)))},_isCellValid:function(e,t){if(se(e)){var n=this.getView("rowsView"),i=e.parent(),o=this._columnsController,r=n.getCellIndex(e)+o.getColumnIndexOffset(),a=o.getVisibleColumns(null,!0)[r],s=this._getVisibleColumnCount(),l=this._editingController,u=ne(i),c=a&&a.showWhenGrouped,h=a&&!e.hasClass(B)&&ie(i),p=function(){return!u&&a&&(!(0,d.isDefined)(a.groupIndex)||c&&h)||parseInt(e.attr("colspan"))>1};if(this._isMasterDetailCell(e))return!0;if(s>r&&p()){var f=this._dataController.items(),g=n.getRowIndex(i),m=f[g],v=l&&this._isCellEditMode()&&l.isEditing(),_=l&&l.isEditRow(g),y=_||v;return a.command?this._isLegacyNavigation()?!y&&"expand"===a.command:!v&&(_?"select"!==a.command:!y):(!v||!m||"data"===m.rowType)&&(!y||a.allowEditing||t)}}},getFirstValidCellInRow:function(e,t){var n,i,o=this,r=e.find("> td");t=t||0;for(var a=t;a<r.length;++a)if(n=r.eq(a),o._isCellValid(n)){i=n;break}return i},_getNextCell:function(e,t,n){var i,r,a=n||this._focusedCellPosition,s=this.isRowFocusType(),l=s||(0,u.inArray)(e,["next","previous"])>-1;if(this._focusedView&&a){var d=this._getNewPositionByCode(a,t,e);i=(0,o.default)(this._getCell(d));var c="previous"===e?this._isFirstValidCell(d):this._isLastValidCell(d);if(se(i)&&!this._isCellValid(i)&&this._isCellInRow(d,l)&&!c&&(i=s?this.getFirstValidCellInRow(i.parent(),d.columnIndex):this._getNextCell(e,"cell",d)),r=se(i)&&i.parent(),this._hasSkipRow(r)){var h=this._getRowIndex(r);if(this._isLastRow(h))return null;i=this._getNextCell(e,"row",{columnIndex:a.columnIndex,rowIndex:h})}return se(i)?i:null}return null},_startEditing:function(e,t){var n=this._focusedCellPosition,i=this.getVisibleRowIndex(),o=this.getVisibleColumnIndex(),r=this._dataController.items()[i],a=this._columnsController.getVisibleColumns()[o];this._isAllowEditing(r,a)&&(this._isRowEditMode()?this._editingController.editRow(i):n&&this._startEditCell(e,t))},_isAllowEditing:function(e,t){return this._editingController.allowUpdating({row:e})&&t&&t.allowEditing},_editFocusedCell:function(){var e=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(e,t)},_startEditCell:function(e,t){var n=this;this._fastEditingStarted=(0,d.isDefined)(t);var i=this._editFocusedCell();if(this._isFastEditingStarted())if(!0===i)this._editingCellHandler(e,t);else if(i&&i.done){var o=t!==G?t:"";i.done((function(){return n._editingCellHandler(e,o)}))}},_editingCellHandler:function(e,t){var n=this._getFocusedCell().find(".dx-texteditor-input").eq(0),i=(0,h.createEvent)(e,{type:"keydown",target:n.get(0)}),o=(0,h.createEvent)(e,{type:"keypress",target:n.get(0)}),r=(0,h.createEvent)(e,{type:"input",target:n.get(0)});if(a.default.trigger(n,i),!i.isDefaultPrevented()&&(a.default.trigger(n,o),!o.isDefaultPrevented())){var s=v.default.mozilla?25:0;setTimeout((function(){n.val(t);var e=n.closest(".".concat(U));a.default.off(e,"focusout"),a.default.one(e,"focusout",(function(){a.default.trigger(n,"change")})),a.default.trigger(n,r)}),s)}},_fireFocusChangingEvents:function(e,t,n,i){var r={},a=this._getCellPosition(t)||{};return this.isCellFocusType()&&(r=this._fireFocusedCellChanging(e,t,i),r.cancel||(a.columnIndex=r.newColumnIndex,a.rowIndex=r.newRowIndex,i=r.isHighlighted,t=(0,o.default)(this._getCell(a)))),!r.cancel&&n&&t&&(r=this._fireFocusedRowChanging(e,t.parent()),r.cancel||(a.rowIndex=r.newRowIndex,r.isHighlighted=i)),r.$newCellElement=(0,o.default)(this._getCell(a)),r.$newCellElement.length||(r.$newCellElement=t),r},_fireFocusedCellChanging:function(e,t,n){var i=this,r=i.option("focusedColumnIndex"),a=i.option("focusedRowIndex"),s=i._getCellPosition(t),l=s?s.columnIndex:-1,d=s?s.rowIndex:-1,u={cellElement:t,prevColumnIndex:r,prevRowIndex:a,newColumnIndex:l,newRowIndex:d,rows:i._dataController.getVisibleRows(),columns:i._columnsController.getVisibleColumns(),event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,i.executeAction("onFocusedCellChanging",u),u.newColumnIndex===l&&u.newRowIndex===d||(u.$newCellElement=(0,o.default)(this._getCell({columnIndex:u.newColumnIndex,rowIndex:u.newRowIndex}))),u.cancel&&(this._canceledCellPosition={rowIndex:d,columnIndex:l}),u},_fireFocusedCellChanged:function(e,t,n){var i=this,o=i._dataController,r=i.getView("rowsView").getCellIndex(e),a=this._getRowIndex(e&&e.parent()),s=Math.min(a-o.getRowIndexOffset(),o.items().length-1),l=i._editingController.isEditCell(s,r),d=o.items()[s];l||t===r&&n===a||i.executeAction("onFocusedCellChanged",{cellElement:e,columnIndex:r,rowIndex:a,row:d,column:i._columnsController.getVisibleColumns()[r]})},_fireFocusedRowChanging:function(e,t){var n=this._getRowIndex(t),i=this._dataController,o=this.option("focusedRowIndex"),r=i.loadingOperationTypes(),a={rowElement:t,prevRowIndex:o,newRowIndex:n,event:e,rows:i.getVisibleRows(),cancel:!1};return!i||i.isLoading()&&(r.reload||r.paging)?(a.cancel=!0,a):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",a),a.cancel||a.newRowIndex===n||(a.resetFocusedRow=a.newRowIndex<0,a.resetFocusedRow||this.setFocusedRowIndex(a.newRowIndex),a.rowIndexChanged=!0)),a)},_fireFocusedRowChanged:function(e){var t,n=this.option("focusedRowKey"),i=this.getController("focus"),o=null===i||void 0===i?void 0:i.getFocusedRowIndexByKey(n);if(this.option("focusedRowEnabled")){if(o>=0){var r=this._dataController;t=o>=0&&r.getVisibleRows()[o-r.getRowIndexOffset()]}this.executeAction("onFocusedRowChanged",{rowElement:e,rowIndex:o,row:t})}},_isEventInCurrentGrid:function(e){return l.default.isElementInCurrentGrid(this,(0,o.default)(e.target))},_isRowEditMode:function(){var e=this._editingController.getEditMode();return e===q||e===Y},_isCellEditMode:function(){var e=this._editingController.getEditMode();return e===J||e===X},_isFastEditingAllowed:function(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")},_getInteractiveElement:function(e,t){var n=e.find($).filter(":visible");return t?n.last():n.first()},_applyTabIndexToElement:function(e){var t=this.option("tabIndex")||0;e.attr("tabindex",(0,d.isDefined)(t)?t:0)},_getCell:function(e){if(this._focusedView&&e){var t=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],i=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),o=e.rowIndex>=0?e.rowIndex-t:-1,r=e.columnIndex>=0?e.columnIndex-i:-1;return this._focusedView.getCell({rowIndex:o,columnIndex:r})}},_getRowIndex:function(e){var t=this.getView("rowsView"),n=t.getRowIndex(e);return n>=0&&(n+=this._dataController.getRowIndexOffset()),n},_hasSkipRow:function(e){var t=e&&e.get(0);return t&&("none"===t.style.display||e.hasClass(this.addWidgetPrefix(I))||ne(e)&&!e.hasClass(this.addWidgetPrefix(T)))},_allowEditingOnEnterKey:function(){return"startEdit"===this.option("keyboardNavigation.enterKeyAction")},_isLegacyNavigation:function(){return this.option("useLegacyKeyboardNavigation")},_getDirectionCodeByKey:function(e){var t;switch(e){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t},_isVirtualScrolling:function(){var e=this.option("scrolling.mode");return"virtual"===e||"infinite"===e},_isVirtualRowRender:function(){return this._isVirtualScrolling()||"virtual"===this.option("scrolling.rowRenderingMode")},_isVirtualColumnRender:function(){return"virtual"===this.option("scrolling.columnRenderingMode")},_scrollBy:function(e,t,n,i){var o=this,r=this.getView("rowsView").getScrollable();if(o._focusedCellPosition){var a=function e(){r.off("scroll",e),setTimeout(o.restoreFocusableElement.bind(o,n,i))};r.on("scroll",a)}return r.scrollBy({left:e,top:t})},_isInsideEditForm:function(e){return(0,o.default)(e).closest("."+this.addWidgetPrefix(T)).length>0},_isMasterDetailCell:function(e){var t=(0,o.default)(e).closest("."+V),n=t.closest("."+this.getWidgetContainerClass()).parent();return t.length&&n.is(this.component.$element())},_processNextCellInMasterDetail:function(e){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)},_handleTabKeyOnMasterDetailCell:function(e,t){if(this._isMasterDetailCell(e)){this._updateFocusedCellPosition((0,o.default)(e),t);var n=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(n),!0}return!1},_getElementType:function(e){return(0,o.default)(e).is("tr")?"row":"cell"},_isFastEditingStarted:function(){return this._isFastEditingAllowed()&&this._fastEditingStarted},_getVisibleColumnCount:function(){return this._columnsController.getVisibleColumns(null,!0).length},_isCellInRow:function(e,t){var n=e.columnIndex,i=this._getVisibleColumnCount();return t?n>=0&&n<=i-1:n>0&&n<i-1},_getCellElementFromTarget:function(e){var t,n=this._getElementType(e),i=(0,o.default)(e);return t="cell"===n?i.closest(".".concat(S," > td")):i.children().not("."+B).first(),t},_getRowsViewElement:function(){var e=this.getView("rowsView");return e&&e.element()},isKeyboardEnabled:function(){return this.option("keyboardNavigation.enabled")},_processCanceledEditCellPosition:function(e,t){if(this._canceledCellPosition){var n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,n}}}),he={defaultOptions:function(){return{useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}},controllers:{keyboardNavigation:ce},extenders:{views:{rowsView:{_rowClick:function(e){var t=this.getController("editing").getEditRowIndex(),n=this.getController("keyboardNavigation");t===e.rowIndex&&n.setCellFocusType();var i=le()&&this.option("focusedRowEnabled");i&&this._triggerPointerDownEventHandler(e),this.callBase.apply(this,arguments)},_triggerPointerDownEventHandler:function(e){var t=e.event.originalEvent;if(t){var n=this.getController("keyboardNavigation"),i=(0,o.default)(t.target),r=this.getCellIndex(i),a=this.getController("columns").getVisibleColumns()[r],s=this.getController("data").items()[e.rowIndex];if(n._isAllowEditing(s,a)){var l=(0,h.createEvent)(t,{currentTarget:t.target});n._pointerEventHandler(l)}}},renderFocusState:function(){var e=this.getController("keyboardNavigation"),t=this.element();t&&!(0,c.focused)(t)&&t.attr("tabindex",null);var n=e.getVisibleRowIndex();(!(0,d.isDefined)(n)||n<0)&&(n=0);var i=this.getCellElements(n);e.isKeyboardEnabled()&&i.length&&this.updateFocusElementTabIndex(i)},updateFocusElementTabIndex:function(e){var t=this.getController("keyboardNavigation"),n=e.eq(0).parent();if(te(n))t._applyTabIndexToElement(n);else{var i=t.getColumnIndex();(!(0,d.isDefined)(i)||i<0)&&(i=0),this._updateFocusedCellTabIndex(e,i)}},_updateFocusedCellTabIndex:function(e,t){var n=this.getController("keyboardNavigation"),i=e?e.length:-1,r=function(e){var t=n._isMasterDetailCell(e),i=n._isCellValid(e);if(!t&&i&&re(e))return n._applyTabIndexToElement(e),n.setCellFocusType(),!0},a=e.filter("[aria-colindex='".concat(t+1,"']"));if(a.length)r(a);else{i<=t&&(t=i-1);for(var s=t;s<i;++s)if(r((0,o.default)(e[s])))break}},renderDelayedTemplates:function(e){this.callBase.apply(this,arguments),e&&e.repaintChangesOnly||this.renderFocusState()},_renderCore:function(e){this.callBase(e),e&&e.repaintChangesOnly||this.renderFocusState()},_editCellPrepared:function(e){var t=this._getEditorInstance(e),n=this.getController("keyboardNavigation"),i=n&&n._isFastEditingStarted();t&&i&&this._handleEditingNavigationMode(t),this.callBase.apply(this,arguments)},_handleEditingNavigationMode:function(e){["downArrow","upArrow"].forEach((function(t){var n=e._supportedKeys()[t];e.registerKeyHandler(t,(function(t){var i="true"===e._input().attr("aria-expanded");if(i)return n&&n.call(e,t)}))})),e.registerKeyHandler("leftArrow",g.noop),e.registerKeyHandler("rightArrow",g.noop);var t=e.NAME===z&&e.option("useMaskBehavior");t&&e.registerKeyHandler("enter",g.noop)},_getEditorInstance:function(e){var t=e.find(".dx-texteditor").eq(0);return l.default.getWidgetInstance(t)}}},controllers:{editing:{editCell:function(e,t){var n=this.getController("keyboardNavigation");if(n._processCanceledEditCellPosition(e,t))return!1;var i=this.callBase(e,t);return i&&n.setupFocusedView(),i},editRow:function(e){var t=this.getController("keyboardNavigation"),n=t.getVisibleColumnIndex(),i=this._columnsController.getVisibleColumns()[n];(i&&i.type||this.option("editing.mode")===Y)&&t._resetFocusedCell(),this.callBase(e)},addRow:function(e){return this.getController("keyboardNavigation").setupFocusedView(),this.callBase.apply(this,arguments)},getFocusedCellInRow:function(e){var t=this.getController("keyboardNavigation"),n=this.callBase(e);if(t.isKeyboardEnabled()&&t._focusedCellPosition.rowIndex===e){var i=t._getFocusedCell();se(i)&&!i.hasClass(L)&&(n=i)}return n},_processCanceledEditingCell:function(){var e=this;this.closeEditCell().done((function(){var t=e.getController("keyboardNavigation");t._updateFocus()}))},init:function(){this.callBase(),this._keyboardNavigationController=this.getController("keyboardNavigation")},closeEditCell:function(){var e=this.getController("keyboardNavigation");e._fastEditingStarted=!1;var t=this.callBase.apply(this,arguments);return e._updateFocus(),t},_delayedInputFocus:function(){this._keyboardNavigationController._isNeedScroll=!0,this.callBase.apply(this,arguments)},_isEditingStart:function(){var e=this.getController("keyboardNavigation"),t=this.callBase.apply(this,arguments);if(t&&!e._isNeedFocus){var n=e._getFocusedCell();e._focus(n,!0)}return t}},data:{_correctRowIndices:function(e){var t=this,n=t.getController("keyboardNavigation"),i=t.getController("editorFactory"),o=n._focusedCellPosition;if(t.callBase.apply(t,arguments),o&&o.rowIndex>=0){var r=e(o.rowIndex);r&&(o.rowIndex+=r,i.refocus())}}},adaptiveColumns:{_showHiddenCellsInView:function(e){var t=e.viewName,n=e.$cells,i=e.isCommandColumn;this.callBase.apply(this,arguments),t===ee&&!i&&n.each((function(e,t){var n=(0,o.default)(t);de(n)&&n.attr("tabindex",0)}))},_hideVisibleCellInView:function(e){var t=e.viewName,n=e.$cell,i=e.isCommandColumn;this.callBase.apply(this,arguments),t===ee&&!i&&de(n)&&n.removeAttr("tabindex")}}}}};t.default=he,e.exports=t.default},b587:function(e,t,n){"use strict";t.default=void 0;var i=y(n("14a3")),o=y(n("8de2")),r=n("1820"),a=n("5c27"),s=n("b62d"),l=y(n("b876")),d=y(n("d28b0")),u=y(n("1981")),c=y(n("2358")),h=y(n("f12e")),p=n("fbaa"),f=n("706b"),g=n("2809"),m=n("ce5d"),v=n("d4b2"),_=n("b49b");function y(e){return e&&e.__esModule?e:{default:e}}var C="columnHeadersView",w="rowsView",x="footerView",b=[C,w,x],T="dxDataGridAdaptivity",I="adaptiveHidden",S="detailAdaptive",k="dx-field-item-content",E="dx-item-modified",D="hidden-column",R="adaptive-more",O="dx-command-adaptive",M="dx-command-adaptive-hidden",P="dx-adaptive-detail-row",V="dx-adaptive-item-text",A="dx-master-detail-cell",F="dx-last-data-cell",B="adaptive",N="batch",L="row",H="form",W="popup",z="revert-tooltip",K="dx-group-cell",U="dx-group-row";function j(e,t){return e._columnsController.getColumnId(t)}function G(e){return e.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function $(e,t){var n,s=(0,i.default)(e),l=t.component.getController("adaptiveColumns");"data"===t.rowType?(n=(0,i.default)("<span>").addClass(l.addWidgetPrefix(R)),o.default.on(n,(0,r.addNamespace)(a.name,T),l.createAction((function(){l.toggleExpandAdaptiveDetailRow(t.key)}))),n.appendTo(s)):h.default.setEmptyText(s)}var q=u.default.ViewController.inherit({_isRowEditMode:function(){var e=this._getEditMode();return e===L},_isItemModified:function(e,t){var n=this._columnsController.getVisibleIndex(e.column.index),i=this._dataController.getRowIndexByKey(t.key),o=this._dataController.items()[i+1];return o&&o.modifiedValues&&(0,s.isDefined)(o.modifiedValues[n])},_renderFormViewTemplate:function(e,t,n){var i=this,r=e.column,l=i.createAction((function(){o.default.trigger(n,a.name)})),d=r.calculateCellValue(t.data),u=h.default.getDisplayValue(r,d,t.data,t.rowType),c=h.default.formatValue(u,r),p=this._editingController.isCellOrBatchEditMode(),g=i._rowsView;if(r.allowEditing&&i.getController("keyboardNavigation").isKeyboardEnabled()&&(n.attr("tabIndex",i.option("tabIndex")),p&&(o.default.off(n,"focus",l),o.default.on(n,"focus",l))),r.cellTemplate){var m=(0,v.extend)({},t,{value:d,displayValue:u,text:c,column:r}),_=!!n.closest((0,f.getWindow)().document).length;g.renderTemplate(n,r.cellTemplate,m,_).done((function(){g._cellPrepared(n,t)}))}else{var y=n.get(0);r.encodeHtml?y.textContent=c:y.innerHTML=c,n.addClass(V),(0,s.isDefined)(c)&&""!==c||n.html("&nbsp;"),i._isRowEditMode()||i._isItemModified(e,t)&&n.addClass(E),g._cellPrepared(n,t)}},_getTemplate:function(e,t){var n=this,o=e.column,r=this.getController("editing");return function(a,s){var l=(0,i.default)(s),d=n._columnsController.getVisibleIndex(o.visibleIndex),u=(0,v.extend)({},t),c=function(){var i=n._isItemEdited(e);u.value=t.row.values[d],i||o.showEditorAlways?r.renderFormEditTemplate(u,e,a.component,l,!i):(u.column=o,u.columnIndex=d,n._renderFormViewTemplate(e,u,l))};c(),u.watch&&u.watch((function(){return{isItemEdited:n._isItemEdited(e),value:t.row.values[d]}}),(function(){l.contents().remove(),l.removeClass(V),c()}))}},_isVisibleColumnsValid:function(e){var t=function(){for(var t=0,n=0;n<e.length;n++){var i=e[n];i.command&&t++}return t};return!(e<2)&&!(e.length-t()<=1)},_calculatePercentWidths:function(e,t){var n=this,i=0;return t.forEach((function(t,o){e[o]!==I&&(i+=n._getItemPercentWidth(t))})),i},_isPercentWidth:function(e){return(0,s.isString)(e)&&"%"===e.slice(-1)},_isColumnHidden:function(e){return this._hiddenColumns.filter((function(t){return t.index===e.index})).length>0},_getAverageColumnsWidth:function(e,t,n){var i=this,o=0,r=0;return t.forEach((function(a){if(!i._isColumnHidden(a)){var l=a.width;(0,s.isDefined)(l)&&!isNaN(parseFloat(l))?o+=i._isPercentWidth(l)?i._calculatePercentWidth({visibleIndex:a.visibleIndex,columnsCount:t.length,columnsCanFit:n,bestFitWidth:a.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):r++}})),(e-o)/r},_calculateColumnWidth:function(e,t,n,i){var o,r=j(this,e),a=this._columnsController.columnOption(r,"width"),s=this._columnsController.columnOption(r,"bestFitWidth"),l=n.length;if(a&&"auto"!==a){if(!this._isPercentWidth(a))return a;o=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:l,columnsCanFit:i,bestFitWidth:s,columnWidth:a,containerWidth:t})}else{var d=this.option("columnAutoWidth");o=d||e.command?s:this._getAverageColumnsWidth(t,n,i)}return o},_calculatePercentWidth:function(e){var t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,i=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return t?e.containerWidth*parseFloat(e.columnWidth)/100:i},_getNotTruncatedColumnWidth:function(e,t,n,i){var o=j(this,e),r=this._columnsController.columnOption(o,"width"),a=this._columnsController.columnOption(o,"bestFitWidth");if(r&&"auto"!==r&&!this._isPercentWidth(r))return parseFloat(r);var s=this._calculateColumnWidth(e,t,n,i);return s<a?null:s},_getItemPercentWidth:function(e){var t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t},_getCommandColumnsWidth:function(){var e=this,t=e._columnsController.getVisibleColumns(),n=0;return(0,m.each)(t,(function(t,i){(i.index<0||i.command)&&(n+=e._columnsController.columnOption(j(e,i),"bestFitWidth")||0)})),n},_isItemEdited:function(e){if(this.isFormEditMode())return!1;if(!this._isRowEditMode()){var t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,n)}var i=this.option("editing.editRowKey");return!!(0,g.equalByValue)(i,this._dataController.adaptiveExpandedKey())||void 0},_getFormItemsByHiddenColumns:function(e){var t=[];return(0,m.each)(e,(function(e,n){t.push({column:n,name:n.name,dataField:n.dataField,visibleIndex:n.visibleIndex})})),t},_getAdaptiveColumnVisibleIndex:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.command===B)return t}},_hideAdaptiveColumn:function(e,t){var n=this._getAdaptiveColumnVisibleIndex(t);(0,s.isDefined)(n)&&(e[n]=I,this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))},_showHiddenCellsInView:function(e){var t=e.$cells,n=e.isCommandColumn,i=n?M:this.addWidgetPrefix(D);t.removeClass(i)},_showHiddenColumns:function(){for(var e=0;e<b.length;e++){var t=this.getView(b[e]);if(t&&t.isVisible()&&t.element()){var n=t.name,i=t.element().find("."+M);this._showHiddenCellsInView({viewName:n,$cells:i,isCommandColumn:!0});var o=t.element().find("."+this.addWidgetPrefix(D));this._showHiddenCellsInView({viewName:n,$cells:o})}}},_isCellValid:function(e){return e&&e.length&&!e.hasClass(A)&&!e.hasClass(K)},_hideVisibleColumn:function(e){var t=e.isCommandColumn,n=e.visibleIndex,i=this;b.forEach((function(e){var o=i.getView(e);o&&i._hideVisibleColumnInView({view:o,isCommandColumn:t,visibleIndex:n})}))},_hideVisibleColumnInView:function(e){var t,n=e.view,i=e.isCommandColumn,o=e.visibleIndex,r=n.name,a=this._columnsController.getVisibleColumns()[o],s=this._editingController&&this._editingController.getEditFormRowIndex();if(n&&n.isVisible()&&a)for(var l=n.getRowsCount(),d=n._getRowElements(),u=0;u<l;u++){var c=u===s&&r===w&&"popup"!==this.option("editing.mode");if(!c){var h=r===C?this._columnsController.getVisibleIndex(a.index,u):o;if(h>=0){var p=d.eq(u);t=this._findCellElementInRow(p,h),this._isCellValid(t)&&this._hideVisibleCellInView({viewName:r,isCommandColumn:i,$cell:t})}}}},_findCellElementInRow:function(e,t){var n=e.children(),i=t,o=!1;if(e.hasClass(U)){var r=e.find(".".concat(K)),a=r.attr("colspan");if(r.length&&(0,s.isDefined)(a)){var l=parseInt(a),d=r.index()+l-1;t>d?i=t-l+1:o=!0}}var u=o?void 0:n.eq(i);return u},_hideVisibleCellInView:function(e){var t=e.$cell,n=e.isCommandColumn,i=n?M:this.addWidgetPrefix(D);t.addClass(i)},_getEditMode:function(){return this._editingController.getEditMode()},isFormEditMode:function(){var e=this._getEditMode();return e===H||e===W},hideRedundantColumns:function(e,t,n){var i=this;if(this._hiddenColumns=[],i._isVisibleColumnsValid(t)&&n.length){var o,r,a,s=0,l=i.component.$element(),d=l.width()-i._getCommandColumnsWidth(),u=function(){var e=this;return t.filter((function(t){return!t.command&&0===e._hiddenColumns.filter((function(e){return e.index===t.index})).length}))}.bind(this),c=u(),h=c.length;do{a=!1,s=0;var p=i._calculatePercentWidths(e,t),f=p<100&&0!==p;for(o=0;o<t.length;o++){var g=t[o],m=i._getNotTruncatedColumnWidth(g,d,c,f),v=j(i,g),_=i._columnsController.columnOption(v,"width"),y=i._columnsController.columnOption(v,"minWidth"),C=i._columnsController.columnOption(v,"bestFitWidth");if(e[o]!==I){if(!m&&!g.command&&!g.fixed){a=!0;break}_&&"auto"!==_||(m=Math.max(C||0,y||0)),(g.command!==B||r)&&(s+=m)}else r=!0}if(a=a||s>l.width(),a){var w=n.pop(),x=i._columnsController.getVisibleIndex(w.index);d+=i._calculateColumnWidth(w,d,c,f),i._hideVisibleColumn({visibleIndex:x}),e[x]=I,this._hiddenColumns.push(w),c=u()}}while(a&&c.length>1&&n.length);h===c.length&&i._hideAdaptiveColumn(e,t)}else i._hideAdaptiveColumn(e,t)},getItemContentByColumnIndex:function(e){for(var t,n=0;n<this._$itemContents.length;n++){t=this._$itemContents.eq(n);var i=t.data("dx-form-item");if(i&&i.column&&this._columnsController.getVisibleIndex(i.column.index)===e)return t}},toggleExpandAdaptiveDetailRow:function(e,t){this.isFormEditMode()&&this._editingController.isEditing()||this.getController("data").toggleExpandAdaptiveDetailRow(e,t)},createFormByHiddenColumns:function(e,t){var n=this,o=(0,i.default)(e),r={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:"dx-"+new d.default},a=(0,p.isMaterial)()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:r}),n._$itemContents=null,n._form=n._createComponent((0,i.default)("<div>").appendTo(o),c.default,(0,v.extend)(a,r,{customizeItem:function(e){var i=e.column||n._columnsController.columnOption(e.name||e.dataField);i&&(e.label=e.label||{},e.label.text=e.label.text||i.caption,e.column=i,e.template=n._getTemplate(e,t,n.updateForm.bind(n))),r.customizeItem&&r.customizeItem.call(this,e)},onContentReady:function(e){r.onContentReady&&r.onContentReady.call(this,e),n._$itemContents=o.find("."+k)}}))},hasAdaptiveDetailRowExpanded:function(){return(0,s.isDefined)(this._dataController.adaptiveExpandedKey())},updateForm:function(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&(0,s.isDefined)(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())},updateHidingQueue:function(e){var t,n,i=this,o=e.filter((function(e){return e.visible&&!e.type&&!e.fixed&&!((0,s.isDefined)(e.groupIndex)&&e.groupIndex>=0)}));if(i._hidingColumnsQueue=[],i.option("allowColumnResizing")&&"widget"===i.option("columnResizingMode"))return i._hidingColumnsQueue;for(n=0;n<o.length;n++)(0,s.isDefined)(o[n].hidingPriority)&&o[n].hidingPriority>=0&&(t=!0,i._hidingColumnsQueue[o[n].hidingPriority]=o[n]);if(t)i._hidingColumnsQueue.reverse();else if(i.option("columnHidingEnabled"))for(n=0;n<o.length;n++){var r=i._columnsController.getVisibleIndex(o[n].index);i._hidingColumnsQueue[r]=o[n]}return i._hidingColumnsQueue=i._hidingColumnsQueue.filter(Object),i._hidingColumnsQueue},getHiddenColumns:function(){return this._hiddenColumns},hasHiddenColumns:function(){return this._hiddenColumns.length>0},getHidingColumnsQueue:function(){return this._hidingColumnsQueue},init:function(){var e=this;e._columnsController=e.getController("columns"),e._dataController=e.getController("data"),e._rowsView=e.getView("rowsView"),e._columnsController.addCommandColumn({type:B,command:B,visible:!0,adaptiveHidden:!0,cssClass:O,alignment:"center",width:"auto",cellTemplate:$,fixedPosition:"right"}),e._columnsController.columnsChanged.add((function(){var t=!!e.updateHidingQueue(e._columnsController.getColumns()).length;e._columnsController.columnOption("command:adaptive","adaptiveHidden",!t,!0)})),e._editingController=e.getController("editing"),e._hidingColumnsQueue=[],e._hiddenColumns=[],e.createAction("onAdaptiveDetailRowPreparing"),e.callBase()},optionChanged:function(e){"columnHidingEnabled"===e.name&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),this.callBase(e)},publicMethods:function(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]},isAdaptiveDetailRowExpanded:function(e){return this._dataController.adaptiveExpandedKey()&&(0,g.equalByValue)(this._dataController.adaptiveExpandedKey(),e)},expandAdaptiveDetailRow:function(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)},collapseAdaptiveDetailRow:function(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}}),Y={defaultOptions:function(){return{columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}},controllers:{adaptiveColumns:q},extenders:{views:{rowsView:{_getCellTemplate:function(e){var t=this,n=e.column;return e.rowType===S&&"detail"===n.command?function(e,n){t._adaptiveColumnsController.createFormByHiddenColumns((0,i.default)(e),n)}:t.callBase(e)},_createRow:function(e){var t=this.callBase(e);return e&&e.rowType===S&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass(P),t},_renderCells:function(e,t){this.callBase(e,t);var n=this._adaptiveColumnsController.getHidingColumnsQueue().length,i=this._adaptiveColumnsController.getHiddenColumns().length;n&&!i&&G(e).last().addClass(F)},_getColumnIndexByElementCore:function(e){var t=e.closest("."+k);if(t.length&&t.closest(this.component.$element()).length){var n=t.length?t.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return this.callBase(e)},_cellPrepared:function(e,t){this.callBase.apply(this,arguments),t.row.rowType!==S&&t.column.visibleWidth===I&&e.addClass(this.addWidgetPrefix(D))},_getCellElement:function(e,t){var n=this._dataController.items()[e];return n&&n.rowType===S?this._adaptiveColumnsController.getItemContentByColumnIndex(t):this.callBase(e,t)},getContextMenuItems:function(e){if(e.row&&"detailAdaptive"===e.row.rowType){var t=this.component.getView("columnHeadersView"),n=(0,i.default)(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=n?n.column:e.column,t.getContextMenuItems&&t.getContextMenuItems(e)}return this.callBase&&this.callBase(e)},isClickableElement:function(e){var t=!!this.callBase&&this.callBase(e);return t||!!e.closest("."+O).length},init:function(){this.callBase(),this._adaptiveColumnsController=this.getController("adaptiveColumns")}}},controllers:{export:{_updateColumnWidth:function(e,t){this.callBase(e,e.visibleWidth===I?e.bestFitWidth:t)}},columnsResizer:{_pointCreated:function(e,t,n){var i=this.callBase(e,t,n),o=n[e.columnIndex]||{},r=this._getNextColumnIndex(e.columnIndex),a=n[r]||{},s=r!==e.columnIndex+1&&a.command,l=o.visibleWidth===I||s;return i||l},_getNextColumnIndex:function(e){var t=this._columnsController.getVisibleColumns(),n=this.callBase(e);while(t[n]&&t[n].visibleWidth===I)n++;return n}},draggingHeader:{_pointCreated:function(e,t,n,i){var o=this.callBase(e,t,n,i),r=t[e.columnIndex-1]||{},a=r.visibleWidth===I;return o||a}},editing:{_isRowEditMode:function(){return this.getEditMode()===L},_getFormEditItemTemplate:function(e,t){return this.getEditMode()!==L&&"detailAdaptive"===e.rowType?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):this.callBase(e,t)},_closeEditItem:function(e){var t=e.closest("."+k),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,i=t.length?t.first().data("dx-form-item"):null,o=i&&i.column&&this._columnsController.getVisibleIndex(i.column.index);this.isEditCell(n,o)||this.callBase(e)},_beforeUpdateItems:function(e,t){if(!this._adaptiveController.isFormEditMode()&&this._adaptiveController.hasHiddenColumns()){var n=this._dataController.items(),i=n[t],o=h.default.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveController.hasAdaptiveDetailRowExpanded(),o>=0&&e.push(o+1),e.push(t+1),this._dataController.adaptiveExpandedKey(i.key)}},_afterInsertRow:function(e){this.callBase(e),this._adaptiveController.hasHiddenColumns()&&(this._adaptiveController.toggleExpandAdaptiveDetailRow(e.key,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)},_collapseAdaptiveDetailRow:function(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)},_cancelEditAdaptiveDetailRow:function(){this._adaptiveController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()},_afterSaveEditData:function(){var e=this;this.callBase.apply(this,arguments);var t=new _.Deferred;return this._isRowEditMode()&&this._adaptiveController.hasHiddenColumns()?(0,_.when)(this.getController("validating").validate(!0)).done((function(n){n&&e._cancelEditAdaptiveDetailRow(),t.resolve()})):t.resolve(),t.promise()},_beforeCancelEditData:function(){this.callBase(),this._cancelEditAdaptiveDetailRow()},_getRowIndicesForCascadeUpdating:function(e){var t=this.callBase.apply(this,arguments);return this._adaptiveController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType===S?e.rowIndex-1:e.rowIndex+1),t},_beforeCloseEditCellInBatchMode:function(e){var t=this._dataController._adaptiveExpandedKey;if(t){var n=h.default.getIndexByKey(t,this._dataController.items());n>-1&&e.unshift(n)}},editRow:function(e){this._adaptiveController.isFormEditMode()&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},deleteRow:function(e){var t=this._dataController.getKeyByRowIndex(e);this.getEditMode()===N&&this._adaptiveController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveController.collapseAdaptiveDetailRow(),this.callBase(e)},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}},resizing:{_needBestFit:function(){return this.callBase()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length},_updateScrollableForIE:function(){var e=this;l.default.msie&&parseInt(l.default.version)<=11&&(this._updateScrollableTimeoutID=setTimeout((function(){e.getView("rowsView")._updateScrollable()})))},_correctColumnWidths:function(e,t){var n=this._adaptiveColumnsController,i=this.option("columnAutoWidth"),o=n.getHiddenColumns(),r=n.updateHidingQueue(this._columnsController.getColumns());n.hideRedundantColumns(e,t,r);var a=n.getHiddenColumns();return n.hasAdaptiveDetailRowExpanded()&&o.length!==a.length&&n.updateForm(a),!a.length&&n.collapseAdaptiveDetailRow(),i&&r.length&&!a.length&&this._updateScrollableForIE(),this.callBase.apply(this,arguments)},_toggleBestFitMode:function(e){e&&this._adaptiveColumnsController._showHiddenColumns(),this.callBase(e)},_needStretch:function(){var e=this._adaptiveColumnsController;return this.callBase.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()},init:function(){this._adaptiveColumnsController=this.getController("adaptiveColumns"),this.callBase()},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}},data:{_processItems:function(e,t){var n=this,i=t.changeType;if(e=n.callBase.apply(n,arguments),"loadingAll"===i||!(0,s.isDefined)(n._adaptiveExpandedKey))return e;var o=h.default.getIndexByKey(n._adaptiveExpandedKey,e);if(o>=0){var r=e[o];e.splice(o+1,0,{visible:!0,rowType:S,key:r.key,data:r.data,node:r.node,modifiedValues:r.modifiedValues,isNewRow:r.isNewRow,values:r.values})}else"refresh"===i&&(n._adaptiveExpandedKey=void 0);return e},_getRowIndicesForExpand:function(e){var t=this.callBase.apply(this,arguments);if(this.getController("adaptiveColumns").isAdaptiveDetailRowExpanded(e)){var n=t[t.length-1];t.push(n+1)}return t},adaptiveExpandedKey:function(e){if(!(0,s.isDefined)(e))return this._adaptiveExpandedKey;this._adaptiveExpandedKey=e},toggleExpandAdaptiveDetailRow:function(e,t){var n=this,i=h.default.getIndexByKey(n._adaptiveExpandedKey,n._items),o=h.default.getIndexByKey(e,n._items);i>=0&&i===o&&!t&&(e=void 0,o=-1),n._adaptiveExpandedKey=e,i>=0&&i++,o>=0&&o++;var r=n.getRowIndexDelta();n.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[i-r,o-r]})},init:function(){this.callBase(),this._adaptiveExpandedKey=void 0}},editorFactory:{_getFocusCellSelector:function(){return this.callBase()+", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content"},_getTooltipsSelector:function(){return this.callBase()+", .dx-field-item-content ."+this.addWidgetPrefix(z)}},columns:{_isColumnVisible:function(e){return this.callBase(e)&&!e.adaptiveHidden}},keyboardNavigation:{_isCellValid:function(e){return this.callBase.apply(this,arguments)&&!e.hasClass(this.addWidgetPrefix(D))},_processNextCellInMasterDetail:function(e){this.callBase(e);var t=this._editingController.isCellOrBatchEditMode();if(!this._isInsideEditForm(e)&&e&&t){var n=function t(){o.default.off(e,"focus",t),o.default.trigger(e,"dxclick")};o.default.on(e,"focus",n)}},_handleTabKeyOnMasterDetailCell:function(e,t){var n=this.callBase(e,t),i=this._getFocusedCell(),o=i&&i.parent();if(!n&&o&&o.length){var r=G(o),a="next"===t?r.last():r.first(),s=o.get(0).rowIndex,l=this._adaptiveController,d=this._dataController.getKeyByRowIndex("next"===t?s:s-1),u=i&&a&&i.get(0)===a.get(0);return l.isAdaptiveDetailRowExpanded(d)&&u}return n},init:function(){this.callBase(),this._adaptiveController=this.getController("adaptiveColumns")}}}}};t.default=Y,e.exports=t.default},b8d8:function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("16a3"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("editorFactory",o.default)},ba1a:function(e,t,n){"use strict";t.getGroupCriteria=V,t.setGroupValue=B,t.getGroupMenuItem=N,t.getGroupValue=H,t.getFilterOperations=K,t.getCaptionByOperation=U,t.getOperationFromAvailable=j,t.getCustomOperation=G,t.getAvailableOperations=$,t.getDefaultOperation=q,t.createCondition=Y,t.removeItem=X,t.createEmptyGroup=J,t.isEmptyGroup=Q,t.addItem=Z,t.getField=ee,t.isGroup=te,t.isCondition=ne,t.convertToInnerStructure=ae,t.getNormalizedFields=se,t.getFilterExpression=de,t.getNormalizedFilter=ue,t.getCurrentLookupValueText=ce,t.getCurrentValueText=ge,t.getItems=ye,t.getCaptionWithParents=xe,t.updateConditionByOperation=be,t.getOperationValue=Te,t.isValidCondition=Ie,t.getMergedOperations=Se,t.removeFieldConditionsFromFilter=Ee,t.syncFilters=Re,t.getMatchedConditions=Oe,t.filterHasField=Me,t.renderValueText=void 0;var i=v(n("14a3")),o=n("b49b"),r=v(n("6322")),a=n("b62d"),s=n("cb15"),l=v(n("0fc0")),d=v(n("0093")),u=v(n("0fce")),c=n("d4b2"),h=n("c591"),p=n("ee69"),f=v(n("8a64")),g=n("fb5d"),m=v(n("614f"));function v(e){return e&&e.__esModule?e:{default:e}}var _="string",y="icon-none",C="and",w="=",x="<>",b={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},T={date:"shortDate",datetime:"shortDateShortTime"},I=["=","<>","isblank","isnotblank"],S=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"],k="dx-filterbuilder",E=k+"-text",D=E+"-part",R=E+"-separator",O=R+"-empty";function M(e,t){var n=e.format||T[e.dataType];return u.default.format(t,n)}function P(e){return e&&e.length>1&&"!"===e[0]&&!ne(e)}function V(e){return P(e)?e[1]:e}function A(e,t){return P(e)?e[1]=t:e=t,e}function F(e,t){var n=function(e){return-1!==e.indexOf("!")},i=function(e){var t=e.slice(0);e.length=0,e.push("!",t)},o=function(e){var t=V(e);e.length=0,[].push.apply(e,t)};n(t)?P(e)||i(e):P(e)&&o(e)}function B(e,t){F(e,t);var n,i=V(e),o=function(e){return-1===e.indexOf("!")?e:e.substring(1)},r=function(e,t){for(n=0;n<e.length;n++)Array.isArray(e[n])||(e[n]=t)};return t=o(t),r(i,t),e}function N(e,t){var n=H(e);return t.filter((function(e){return e.value===n}))[0]}function L(e){if(ne(e))return C;for(var t="",n=0;n<e.length;n++){var i=e[n];if(!Array.isArray(i)){if(t&&t!==i)throw new r.default.errors.Error("E4019");"!"!==i&&(t=i)}}return t}function H(e){var t=V(e),n=L(t);return n||(n=C),t!==e&&(n="!"+n),n}function W(e){return e.lookup&&I||b[e.dataType||_]}function z(e){return Array.isArray(e)&&e.length}function K(e){var t=z(e.filterOperations)?e.filterOperations:W(e);return(0,c.extend)([],t)}function U(e,t){var n=m.default.getNameByFilterOperation(e);return t&&t[n]?t[n]:n}function j(e,t){for(var n=0;n<t.length;n++)if(t[n].value===e)return t[n];throw new l.default.Error("E1048",e)}function G(e,t){var n=e.filter((function(e){return e.name===t}));return n.length?n[0]:null}function $(e,t,n){var i=K(e),o=!!e.lookup;return n.forEach((function(t){if(!e.filterOperations&&-1===i.indexOf(t.name)){var n=t&&t.dataTypes,r=!!o&&!!t.notForLookup;!r&&n&&n.indexOf(e.dataType||_)>=0&&i.push(t.name)}})),i.map((function(e){var i=G(n,e);return i?{icon:i.icon||y,text:i.caption||(0,h.captionize)(i.name),value:i.name,isCustom:!0}:{icon:m.default.getIconByFilterOperation(e)||y,text:U(e,t),value:e}}))}function q(e){return e.defaultFilterOperation||K(e)[0]}function Y(e,t){var n=[e.dataField,"",""],i=q(e);return be(n,i,t),n}function X(e,t){var n=V(e),i=n.indexOf(t);return n.splice(i,1),1!==n.length&&n.splice(i,1),e}function J(e){return-1!==e.indexOf("not")?["!",[e.substring(3).toLowerCase()]]:[e]}function Q(e){var t=V(e);if(ne(t))return!1;var n=t.some((function(e){return ne(e)}));return!n}function Z(e,t){var n=V(t),i=H(n);return 1===n.length?n.unshift(e):n.push(e,i),t}function ee(e,t){for(var n=0;n<t.length;n++){if(t[n].name===e)return t[n];if(t[n].dataField.toLowerCase()===e.toLowerCase())return t[n]}var i=ye(t,!0).filter((function(t){return t.dataField.toLowerCase()===e.toLowerCase()}));if(i.length>0)return i[0];throw new l.default.Error("E1047",e)}function te(e){return!!Array.isArray(e)&&(e.length<2||Array.isArray(e[0])||Array.isArray(e[1]))}function ne(e){return!!Array.isArray(e)&&(e.length>1&&!Array.isArray(e[0])&&!Array.isArray(e[1]))}function ie(e,t){for(var n=L(e).toLowerCase()||C,i=[],o=0;o<e.length;o++)te(e[o])?(i.push(ae(e[o],t)),i.push(n)):ne(e[o])&&(i.push(re(e[o],t)),i.push(n));return 0===i.length&&i.push(n),i}function oe(e,t){var n=G(t,e[1]);return n&&n.name===e[1]}function re(e,t){return oe(e,t)||e.length<3&&(e[2]=e[1],e[1]=w),e}function ae(e,t){return e?(e=(0,c.extend)(!0,[],e),ne(e)?[re(e,t),C]:P(e)?["!",ne(e[1])?[re(e[1],t),C]:P(e[1])?[ae(e[1],t),C]:ie(e[1],t)]:ie(e,t)):[C]}function se(e){return e.reduce((function(e,t){if((0,a.isDefined)(t.dataField)){var n={};for(var i in t)t[i]&&S.indexOf(i)>-1&&(n[i]=t[i]);n.defaultCalculateFilterExpression=d.default.defaultCalculateFilterExpression,(0,a.isDefined)(n.dataType)||(n.dataType=_),(0,a.isDefined)(n.trueText)||(n.trueText=f.default.format("dxDataGrid-trueText")),(0,a.isDefined)(n.falseText)||(n.falseText=f.default.format("dxDataGrid-falseText")),e.push(n)}return e}),[])}function le(e,t,n,i){var o=ee(e[0],t),r=re(e,n),a=n.length&&G(n,r[1]);return a&&a.calculateFilterExpression?a.calculateFilterExpression.apply(a,[r[2],o,t]):o.createFilterExpression?o.createFilterExpression.apply(o,[r[2],r[1],i]):o.calculateFilterExpression?o.calculateFilterExpression.apply(o,[r[2],r[1],i]):o.defaultCalculateFilterExpression.apply(o,[r[2],r[1],i])}function de(e,t,n,i){if(!(0,a.isDefined)(e))return null;if(P(e)){var o=de(e[1],t,n,i);return["!",o]}var r=V(e);if(ne(r))return le(r,t,n,i)||null;for(var s,l=[],d=H(r),u=0;u<r.length;u++)te(r[u])?(s=de(r[u],t,n,i),s&&(u&&l.push(d),l.push(s))):ne(r[u])&&(s=le(r[u],t,n,i),s&&(l.length&&l.push(d),l.push(s)));return 1===l.length&&(l=l[0]),l.length?l:null}function ue(e){var t,n=V(e);if(0===n.length)return null;var i=[];for(t=0;t<n.length;t++)if(te(n[t])){var o=ue(n[t]);o?n[t]=o:i.push(n[t])}else ne(n[t])&&(Ie(n[t])||i.push(n[t]));for(t=0;t<i.length;t++)X(n,i[t]);return 1===n.length?null:(n.splice(n.length-1,1),1===n.length&&(e=A(e,n[0])),0===e.length?null:e)}function ce(e,t,n){if(""!==t){var i=e.lookup;if(i.items)n(i.calculateCellValue(t)||"");else{var o=(0,a.isFunction)(i.dataSource)?i.dataSource({}):i.dataSource,r=new g.DataSource(o);r.loadSingle(i.valueExpr,t).done((function(e){n(e?i.displayExpr?(0,s.compileGetter)(i.displayExpr)(e):e:"")})).fail((function(){n("")}))}}else n("")}function he(e,t,n,i){var o;return o=!0===t?e.trueText||f.default.format("dxDataGrid-trueText"):!1===t?e.falseText||f.default.format("dxDataGrid-falseText"):M(e,t),e.customizeText&&(o=e.customizeText.call(e,{value:t,valueText:o,target:i})),n&&n.customizeText&&(o=n.customizeText.call(n,{value:t,valueText:o,field:e,target:i})),o}function pe(e,t,n,i){return t.map((function(t){return he(e,t,n,i)}))}function fe(e){return""===e||null===e}function ge(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"filterBuilder";if(fe(t))return"";if(Array.isArray(t)){var r=new o.Deferred;return o.when.apply(this,pe(e,t,n,i)).done((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.some((function(e){return!fe(e)}))?t.map((function(e){return fe(e)?"?":e})):"";r.resolve(i)})),r}return he(e,t,n,i)}function me(e,t){return e.some((function(e){return e.dataField===t}))}function ve(e,t,n){var i=n.dataField;Ce(i)&&(n.parentId=we(i),me(t,n.parentId)||me(e,n.parentId)||ve(e,t,{id:n.parentId,dataType:"object",dataField:n.parentId,caption:_e(n.parentId,!0),filterOperations:["isblank","isnotblank"]})),t.push(n)}function _e(e,t){var n="";if(t)e=e.substring(e.lastIndexOf(".")+1);else if(Ce(e))return e.split(".").forEach((function(e,t,i){n+=(0,h.captionize)(e),t!==i.length-1&&(n+=".")})),n;return(0,h.captionize)(e)}function ye(e,t){for(var n=[],i=0;i<e.length;i++){var o=(0,c.extend)(!0,{caption:_e(e[i].dataField,t)},e[i]);o.id=o.name||o.dataField,t?ve(e,n,o):n.push(o)}return n}function Ce(e){return-1!==e.lastIndexOf(".")}function we(e){return e.substring(0,e.lastIndexOf("."))}function xe(e,t){if(Ce(e.dataField))for(var n=we(e.dataField),i=0;i<t.length;i++)if(t[i].dataField===n)return xe(t[i],t)+"."+e.caption;return e.caption}function be(e,t,n){var i=G(n,t);return i?(!1===i.hasValue?(e[1]=t,e.length=2):(e[1]=t,e[2]=""),e):("isblank"===t?(e[1]=w,e[2]=null):"isnotblank"===t?(e[1]=x,e[2]=null):(i=G(n,e[1]),(i||2===e.length||null===e[2])&&(e[2]=""),e[1]=t),e)}function Te(e){var t;return t=null===e[2]?e[1]===w?"isblank":"isnotblank":e[1],t}function Ie(e){return""!==e[2]}function Se(e,t,n){var i=(0,c.extend)(!0,[],e),o=-1;return i.some((function(e,t){if("between"===e.name)return o=t,!0})),-1!==o?i[o]=(0,c.extend)((0,p.getConfig)(t,n),i[o]):i.unshift((0,p.getConfig)(t,n)),i}function ke(e,t){return e[0]===t}function Ee(e,t){if(!e||0===e.length)return null;if(ne(e)){var n=ke(e,t);return n?null:e}return De(e,[t],!1)}function De(e,t,n){var i=[];return e.forEach((function(e){ne(e)?ke(e,t[0])?n?(i.push(t),n=!1):i.splice(i.length-1,1):i.push(e):(i.length||te(e))&&i.push(e)})),0===i.length?null:(n&&(i.push(C),i.push(t)),1===i.length?i[0]:i)}function Re(e,t){if(null===e||0===e.length)return t;if(ne(e))return ke(e,t[0])?t:[e,C,t];var n=H(e);return n!==C?[t,"and",e]:De(e,t,!0)}function Oe(e,t){if(null===e||0===e.length)return[];if(ne(e))return ke(e,t)?[e]:[];var n=H(e);if(n!==C)return[];var i=e.filter((function(e){return ne(e)&&ke(e,t)}));return i}function Me(e,t){return null!==e&&0!==e.length&&(ne(e)?e[0]===t:e.some((function(e){return(ne(e)||te(e))&&Me(e,t)})))}var Pe=function(e,t,n){if(Array.isArray(t)){var o=t.length-1;e.empty(),t.forEach((function(t,r){(0,i.default)("<span>").addClass(D).text(t).appendTo(e),r!==o&&(0,i.default)("<span>").addClass(R).text(n&&n.valueSeparator?n.valueSeparator:"|").addClass(O).appendTo(e)}))}else t?e.text(t):e.text(f.default.format("dxFilterBuilder-enterValueText"))};t.renderValueText=Pe},ba5b:function(e,t,n){"use strict";t.default=void 0;var i=f(n("14a3")),o=n("b62d"),r=f(n("1981")),a=f(n("f12e")),s=f(n("8de2")),l=f(n("8a64")),d=f(n("1efe")),u=n("ba1a"),c=n("b49b"),h=n("c591"),p=n("5963");function f(e){return e&&e.__esModule?e:{default:e}}var g="filter-panel",m=g+"-text",v=g+"-checkbox",_=g+"-clear-filter",y=g+"-left",C="filterPanel",w=r.default.View.inherit({isVisible:function(){return this.option("filterPanel.visible")&&this.getController("data").dataSource()},init:function(){var e=this;this.getController("data").dataSourceChanged.add((function(){return e.render()}))},_renderCore:function(){var e=this,t=e.element();t.empty().addClass(e.addWidgetPrefix(g));var n=(0,i.default)("<div>").addClass(e.addWidgetPrefix(y)).appendTo(t);e.option("filterValue")||e._filterValueBuffer?(n.append(e._getCheckElement()).append(e._getFilterElement()).append(e._getTextElement()),t.append(e._getRemoveButtonElement())):n.append(e._getFilterElement()).append(e._getTextElement())},_getCheckElement:function(){var e=this,t=(0,i.default)("<div>").addClass(this.addWidgetPrefix(v));return e._createComponent(t,d.default,{value:e.option("filterPanel.filterEnabled"),onValueChanged:function(t){e.option("filterPanel.filterEnabled",t.value)}}),t.attr("title",this.option("filterPanel.texts.filterEnabledHint")),t},_getFilterElement:function(){var e=this,t=(0,i.default)("<div>").addClass("dx-icon-filter");return s.default.on(t,"click",(function(){return e._showFilterBuilder()})),(0,p.registerKeyboardAction)("filterPanel",e,t,void 0,(function(){return e._showFilterBuilder()})),e._addTabIndexToElement(t),t},_getTextElement:function(){var e,t=this,n=(0,i.default)("<div>").addClass(t.addWidgetPrefix(m)),o=t.option("filterValue");return o?(0,c.when)(t.getFilterText(o,t.getController("filterSync").getCustomFilterOperations())).done((function(e){var i=t.option("filterPanel.customizeText");if(i){var r=i({component:t.component,filterValue:o,text:e});"string"===typeof r&&(e=r)}n.text(e)})):(e=t.option("filterPanel.texts.createFilter"),n.text(e)),s.default.on(n,"click",(function(){return t._showFilterBuilder()})),(0,p.registerKeyboardAction)("filterPanel",t,n,void 0,(function(){return t._showFilterBuilder()})),t._addTabIndexToElement(n),n},_showFilterBuilder:function(){this.option("filterBuilderPopup.visible",!0)},_getRemoveButtonElement:function(){var e=this,t=function(){return e.option("filterValue",null)},n=(0,i.default)("<div>").addClass(e.addWidgetPrefix(_)).text(e.option("filterPanel.texts.clearFilter"));return s.default.on(n,"click",t),(0,p.registerKeyboardAction)("filterPanel",this,n,void 0,t),e._addTabIndexToElement(n),n},_addTabIndexToElement:function(e){if(!this.option("useLegacyKeyboardNavigation")){var t=this.option("tabindex")||0;e.attr("tabindex",t)}},optionChanged:function(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},_getConditionText:function(e,t,n){var i="[".concat(e,"] ").concat(t);return(0,o.isDefined)(n)&&(i+=n),i},_getValueMaskedText:function(e){return Array.isArray(e)?"('".concat(e.join("', '"),"')"):" '".concat(e,"'")},_getValueText:function(e,t,n){var i=this,r=new c.Deferred,s=t&&t.customizeText;if((0,o.isDefined)(n)||s)if(!s&&e.lookup)(0,u.getCurrentLookupValueText)(e,n,(function(e){r.resolve(i._getValueMaskedText(e))}));else{var l=Array.isArray(n)?n:a.default.getDisplayValue(e,n);(0,c.when)((0,u.getCurrentValueText)(e,l,t,C)).done((function(e){r.resolve(i._getValueMaskedText(e))}))}else r.resolve("");return r.promise()},getConditionText:function(e,t){var n,i=this,o=e[1],r=new c.Deferred,a=(0,u.getCustomOperation)(t.customOperations,o),s=(0,u.getField)(e[0],t.columns),l=s.caption||"",d=e[2];return n=a?a.caption||(0,h.captionize)(a.name):null===d?(0,u.getCaptionByOperation)("="===o?"isblank":"isnotblank",t.filterOperationDescriptions):(0,u.getCaptionByOperation)(o,t.filterOperationDescriptions),this._getValueText(s,a,d).done((function(e){r.resolve(i._getConditionText(l,n,e))})),r},getGroupText:function(e,t,n){var i=this,o=new c.Deferred,r=[],a=(0,u.getGroupValue)(e);return e.forEach((function(e){(0,u.isCondition)(e)?r.push(i.getConditionText(e,t)):(0,u.isGroup)(e)&&r.push(i.getGroupText(e,t,!0))})),c.when.apply(this,r).done((function(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];if("!"===a[0]){var l=t.groupOperationDescriptions["not"+a.substring(1,2).toUpperCase()+a.substring(2)].split(" ");e="".concat(l[0]," ").concat(r[0])}else e=r.join(" ".concat(t.groupOperationDescriptions[a]," "));n&&(e="(".concat(e,")")),o.resolve(e)})),o},getFilterText:function(e,t){var n=this,i={customOperations:t,columns:n.getController("columns").getFilteringColumns(),filterOperationDescriptions:n.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:n.option("filterBuilder.groupOperationDescriptions")};return(0,u.isCondition)(e)?n.getConditionText(e,i):n.getGroupText(e,i)}}),x={defaultOptions:function(){return{filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:l.default.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:l.default.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:l.default.format("dxDataGrid-filterPanelFilterEnabledHint")}}}},views:{filterPanelView:w},extenders:{controllers:{data:{optionChanged:function(e){switch(e.name){case"filterPanel":this._applyFilter(),e.handled=!0;break;default:this.callBase(e)}}}}}};t.default=x,e.exports=t.default},bb2d:function(e,t,n){"use strict";t.default=void 0;var i=v(n("14a3")),o=v(n("8de2")),r=v(n("0561")),a=v(n("f12e")),s=n("b62d"),l=n("ce5d"),d=n("d4b2"),u=n("73335"),c=n("5c27"),h=v(n("8a64")),p=n("1820"),f=v(n("d0cb")),g=v(n("601d")),m=n("b49b");function v(e){return e&&e.__esModule?e:{default:e}}var _="dx-editor-cell",y="dx-row",C="dx-selection",w="dx-select-checkbox",x="dx-select-checkboxes-hidden",b="dx-command-select",T="dx-selection-disabled",I="dx-data-row",S="selection.showCheckBoxesMode",k="selection.mode",E=function(e,t){var n=e.getController("selection"),o=e.getView("rowsView"),r=(0,i.default)(t.target).closest("."+I),a=o.getRowIndex(r);a<0||("onLongTap"===e.option(S)?n.isSelectionWithCheckboxes()?n.stopSelectionWithCheckboxes():n.startSelectionWithCheckboxes():("onClick"===e.option(S)&&n.startSelectionWithCheckboxes(),"always"!==e.option(S)&&n.changeItemSelection(a,{control:!0})))},D=r.default.Controller.inherit(function(){var e=function(e,t){var n=0,i=e._dataController.store(),o=i&&i.key(),r=Array.isArray(o);if(!t.length)return!1;if(r&&Array.isArray(t[0])&&"and"===t[1]){for(var a=0;a<t.length;a++)if(Array.isArray(t[a])){if(t[a][0]!==o[n]||"="!==t[a][1])return!0;n++}return!1}return o!==t[0]},t=function(e,t){var n=t.component,o=n.getView("rowsView");n.option("renderAsync")&&!n.option("selection.deferred")&&(t.value=n.isRowSelected(t.row.key)),o.renderSelectCheckBoxContainer((0,i.default)(e),t)},n=function(e,t){var n=t.column,o=(0,i.default)(e),r=t.component.getView("columnHeadersView");o.addClass(_),r._renderSelectAllCheckBox(o,n),r._attachSelectAllCheckBoxClickEvent(o)};return{init:function(){this._dataController=this.getController("data"),this._selectionMode=this.option(k),this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_getSelectionConfig:function(){var e=this,t=e._dataController,n=e.option("selection")||{};return{selectedKeys:e.option("selectedRowKeys"),mode:e._selectionMode,deferred:n.deferred,maxFilterLengthInRequest:n.maxFilterLengthInRequest,selectionFilter:e.option("selectionFilter"),key:function(){return t&&t.key()},keyOf:function(e){return t&&t.keyOf(e)},dataFields:function(){return t.dataSource()&&t.dataSource().select()},load:function(e){return t.dataSource()&&t.dataSource().load(e)||(new m.Deferred).resolve([])},plainItems:function(){return t.items(!0)},isItemSelected:function(e){return e.selected},isSelectableItem:function(e){return e&&"data"===e.rowType&&!e.isNewRow},getItemData:function(e){return e&&(e.oldData||e.data||e)},filter:function(){return t.getCombinedFilter()},totalCount:function(){return t.totalCount()},onSelectionChanged:e._updateSelectedItems.bind(this)}},_updateSelectColumn:function(){var e=this.getController("columns"),i=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:i,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:b,width:"auto",cellTemplate:t,headerCellTemplate:n}),e.columnOption("command:select","visible",i)},_createSelection:function(){var e=this._getSelectionConfig();return new g.default(e)},_fireSelectionChanged:function(e){e&&this.executeAction("onSelectionChanged",e);var t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t)},_updateCheckboxesState:function(t){var n=t.isDeferredMode,i=t.selectionFilter,o=t.selectedItemKeys,r=t.removedItemKeys;"onClick"===this.option(S)&&((n?i&&e(this,i):o.length>1)?this.startSelectionWithCheckboxes():(n?i&&!i.length:0===o.length&&r.length)&&this.stopSelectionWithCheckboxes())},_updateSelectedItems:function(e){var t,n=this,i=n.option("selection.deferred"),o=n._selection.selectionFilter(),r=n._dataController,a=r.items();if(a){var s=n.isSelectionWithCheckboxes(),l=n.getChangedItemIndexes(a);n._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:o,isDeferredMode:i}),(l.length||s!==n.isSelectionWithCheckboxes())&&r.updateItems({changeType:"updateSelection",itemIndexes:l}),i?(n.option("selectionFilter",o),t={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(n._selectedItemsInternalChange=!0,n.option("selectedRowKeys",e.selectedItemKeys.slice(0)),n._selectedItemsInternalChange=!1,t={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),n._fireSelectionChanged(t)}},getChangedItemIndexes:function(e){for(var t=this,n=[],i=this.option("selection.deferred"),o=0,r=e.length;o<r;o++){var a=e[o],s=t.isRowSelected(i?a.data:a.key);t._selection.isDataItem(a)&&a.isSelected!==s&&n.push(o)}return n},callbackNames:function(){return["selectionChanged"]},optionChanged:function(e){var t=this;switch(t.callBase(e),e.name){case"selection":var n=t._selectionMode;t.init();var i=t._selectionMode,o=t.option("selectedRowKeys");n!==i&&("single"===i?o.length>1&&(o=[o[0]]):"multiple"!==i&&(o=[])),t.selectRows(o).always((function(){t._fireSelectionChanged()})),t.getController("columns").updateColumns(),e.handled=!0;break;case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":var r=e.value||[];!Array.isArray(r)||t._selectedItemsInternalChange||!t.component.getDataSource()&&r.length||t.selectRows(r),e.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(e){return this._selection.isItemSelected(e)},isSelectColumnVisible:function(){return"multiple"===this.option(k)&&("always"===this.option(S)||"onClick"===this.option(S)||this._isSelectionWithCheckboxes)},_isOnePageSelectAll:function(){return"page"===this.option("selection.selectAllMode")},isSelectAll:function(){return this._selection.getSelectAllState(this._isOnePageSelectAll())},selectAll:function(){return"onClick"===this.option(S)&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())},deselectAll:function(){return this._selection.deselectAll(this._isOnePageSelectAll())},clearSelection:function(){return this.selectedItemKeys([])},refresh:function(){var e=this.option("selectedRowKeys")||[];return!this.option("selection.deferred")&&e.length?this.selectedItemKeys(e):(new m.Deferred).resolve().promise()},selectedItemKeys:function(e,t,n,i){return this._selection.selectedItemKeys(e,t,n,i)},getSelectedRowKeys:function(){return this._selection.getSelectedItemKeys()},selectRows:function(e,t){return this.selectedItemKeys(e,t)},deselectRows:function(e){return this.selectedItemKeys(e,!0,!0)},selectRowsByIndexes:function(e){var t=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),(0,l.each)(e,(function(){var e=t[this];e&&"data"===e.rowType&&n.push(e.key)})),this.selectRows(n)},getSelectedRowsData:function(){return this._selection.getSelectedItems()},changeItemSelection:function(e,t){return t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0),this._selection.changeItemSelection(this._dataController.getRowIndexDelta()+e,t)},focusedItemIndex:function(e){var t=this;if(!(0,s.isDefined)(e))return t._selection._focusedItemIndex;t._selection._focusedItemIndex=e},isSelectionWithCheckboxes:function(){return"multiple"===this.option(k)&&("always"===this.option(S)||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){var e=this;return"multiple"===e.option(k)&&!e.isSelectionWithCheckboxes()&&(e._isSelectionWithCheckboxes=!0,e._updateSelectColumn(),!0)},stopSelectionWithCheckboxes:function(){var e=this;return!!e._isSelectionWithCheckboxes&&(e._isSelectionWithCheckboxes=!1,e._updateSelectColumn(),!0)}}}()),R={defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",maxFilterLengthInRequest:1500,deferred:!1},selectionFilter:[],selectedRowKeys:[]}},controllers:{selection:D},extenders:{controllers:{data:{init:function(){var e=this.getController("selection"),t=this.option("selection.deferred");this.callBase.apply(this,arguments),t&&e._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})},_loadDataSource:function(){var e=this;return e.callBase().done((function(){e.getController("selection").refresh()}))},_processDataItem:function(e,t){var n=this,i=n.getController("selection"),o=i.isSelectColumnVisible(),r=t.isDeferredSelection=void 0===t.isDeferredSelection?this.option("selection.deferred"):t.isDeferredSelection,a=this.callBase.apply(this,arguments);if(a.isSelected=i.isRowSelected(r?a.data:a.key),o&&a.values)for(var s=0;s<t.visibleColumns.length;s++)if("select"===t.visibleColumns[s].command){a.values[s]=a.isSelected;break}return a},refresh:function(e){var t=this,n=new m.Deferred;return this.callBase.apply(this,arguments).done((function(){!e||e.selection?t.getController("selection").refresh().done(n.resolve).fail(n.reject):n.resolve()})).fail(n.reject),n.promise()},_handleDataChanged:function(e){this.callBase.apply(this,arguments),e&&"refresh"!==e.changeType||this._repaintChangesOnly||this.getController("selection").focusedItemIndex(-1)},_applyChange:function(e){var t=this;if(!e||"updateSelection"!==e.changeType)return this.callBase.apply(this,arguments);e.items.forEach((function(e,n){var i=t._items[n];i&&(i.isSelected=e.isSelected,i.values=e.values)}))},_endUpdateCore:function(){var e=this._changes,t=e.length>1&&e.every((function(e){return"updateSelection"===e.changeType}));if(t){var n=e.map((function(e){return e.itemIndexes||[]})).reduce((function(e,t){return e.concat(t)}));this._changes=[{changeType:"updateSelection",itemIndexes:n}]}this.callBase.apply(this,arguments)},push:function(e){this.callBase.apply(this,arguments);var t=e.filter((function(e){return"remove"===e.type})).map((function(e){return e.key}));t.length&&this.getController("selection").deselectRows(t)}},contextMenu:{_contextMenuPrepared:function(e){var t=e.event;t.originalEvent&&"dxhold"!==t.originalEvent.type||e.items&&e.items.length>0||E(this,t)}}},views:{columnHeadersView:{init:function(){var e=this;e.callBase(),e.getController("selection").selectionChanged.add(e._updateSelectAllValue.bind(e))},_updateSelectAllValue:function(){var e=this,t=e.element(),n=t&&t.find("."+w);t&&n.length&&"multiple"===e.option("selection.mode")&&n.dxCheckBox("instance").option("value",e.getController("selection").isSelectAll())},_handleDataChanged:function(e){this.callBase(e),e&&"refresh"!==e.changeType||this._updateSelectAllValue()},_renderSelectAllCheckBox:function(e,t){var n=this,o=n.getController("selection"),r=(0,i.default)("<div>").appendTo(e).addClass(w);return n.setAria("label",h.default.format("dxDataGrid-ariaSelectAll"),e),n.getController("editorFactory").createEditor(r,(0,d.extend)({},t,{parentType:"headerRow",dataType:"boolean",value:o.isSelectAll(),editorOptions:{visible:n.option("selection.allowSelectAll")||!1!==o.isSelectAll()},tabIndex:n.option("useLegacyKeyboardNavigation")?-1:n.option("tabIndex")||0,setValue:function(e,t){var i=n.option("selection.allowSelectAll");t.component.option("visible",i||!1!==t.component.option("value")),t.event&&o.isSelectAll()!==e&&(t.value&&!i?t.component.option("value",!1):t.value?o.selectAll():o.deselectAll(),t.event.preventDefault())}})),r},_attachSelectAllCheckBoxClickEvent:function(e){o.default.on(e,c.name,this.createAction((function(e){var t=e.event;(0,i.default)(t.target).closest("."+w).length||o.default.trigger((0,i.default)(t.currentTarget).children("."+w),c.name),t.preventDefault()})))}},rowsView:{renderSelectCheckBoxContainer:function(e,t){"data"!==t.rowType||t.row.isNewRow?a.default.setEmptyText(e):(e.addClass(_),this._attachCheckBoxClickEvent(e),this.setAria("label",h.default.format("dxDataGrid-ariaSelectRow"),e),this._renderSelectCheckBox(e,t))},_renderSelectCheckBox:function(e,t){var n=(0,i.default)("<div>").addClass(w).appendTo(e);return this.getController("editorFactory").createEditor(n,(0,d.extend)({},t.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:t.value,setValue:function(e,t){var n;"keydown"===(null===t||void 0===t||null===(n=t.event)||void 0===n?void 0:n.type)&&o.default.trigger(t.element,c.name,t)},row:t.row})),n},_attachCheckBoxClickEvent:function(e){o.default.on(e,c.name,this.createAction((function(e){var t=this.getController("selection"),n=e.event,o=this.getRowIndex((0,i.default)(n.currentTarget).closest("."+y));o>=0&&(t.startSelectionWithCheckboxes(),t.changeItemSelection(o,{shift:n.shiftKey}),(0,i.default)(n.target).closest("."+w).length&&this.getController("data").updateItems({changeType:"updateSelection",itemIndexes:[o]}))})))},_update:function(e){var t=this,n=t.getTableElements();"updateSelection"===e.changeType?n.length>0&&((0,l.each)(n,(function(n,o){(0,l.each)(e.itemIndexes||[],(function(n,r){var a;if(e.items[r]&&(a=t._getRowElements((0,i.default)(o)).eq(r),a.length)){var s=e.items[r].isSelected;a.toggleClass(C,void 0!==s&&s).find("."+w).dxCheckBox("option","value",s),t.setAria("selected",s,a)}}))})),t._updateCheckboxesClass()):t.callBase(e)},_createTable:function(){var e=this,t=e.option("selection.mode"),n=e.callBase.apply(e,arguments);return"none"!==t&&("onLongTap"!==e.option(S)&&u.touch||o.default.on(n,(0,p.addNamespace)(f.default.name,"dxDataGridRowsView"),"."+I,e.createAction((function(t){E(e.component,t.event),t.event.stopPropagation()}))),o.default.on(n,"mousedown selectstart",e.createAction((function(e){var t=e.event;t.shiftKey&&t.preventDefault()})))),n},_createRow:function(e){var t=this.callBase(e);if(e){var n=!!e.isSelected;n&&t.addClass(C),this.setAria("selected",n,t)}return t},_rowClick:function(e){var t=this,n=e.event,o=(0,i.default)(n.target).closest("."+T).length;t.isClickableElement((0,i.default)(n.target))||(o||"multiple"===t.option(k)&&"always"===t.option(S)||t.getController("selection").changeItemSelection(e.rowIndex,{control:n.ctrlKey||n.metaKey,shift:n.shiftKey})&&(n.preventDefault(),e.handled=!0),t.callBase(e))},isClickableElement:function(e){var t=e.closest("."+b).length;return!!t},_renderCore:function(e){this.callBase(e),this._updateCheckboxesClass()},_updateCheckboxesClass:function(){var e=this.getTableElements(),t=this.getController("selection"),n=t.isSelectColumnVisible()&&!t.isSelectionWithCheckboxes();(0,l.each)(e,(function(e,t){(0,i.default)(t).toggleClass(x,n)}))}}}}};t.default=R,e.exports=t.default},c3b7:function(e,t,n){"use strict";t.default=void 0;var i=o(n("89e1"));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default;t.default=r,e.exports=t.default,e.exports.default=e.exports},c9a3:function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("6ac2"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("errorHandling",o.default)},cae8:function(e,t,n){"use strict";t.default=void 0;var i=m(n("14a3")),o=m(n("1981")),r=m(n("f12e")),a=m(n("5767")),s=m(n("2597")),l=m(n("0fc0")),d=n("2809"),u=n("ce5d"),c=n("b62d"),h=n("d4b2"),p=m(n("39d2")),f=n("b49b"),g=n("9be7");function m(e){return e&&e.__esModule?e:{default:e}}var v={defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}}},controllers:{data:o.default.Controller.inherit({}).include(p.default).inherit(function(){var e=function(e,t,n){var i=e._dataSource;return i?void 0!==n?i[t]()!==n?("pageSize"===t&&i.pageIndex(0),i[t](n),e._skipProcessingPagingChange=!0,e.option("paging."+t,n),e._skipProcessingPagingChange=!1,i["pageIndex"===t?"load":"reload"]().done(e.pageChanged.fire.bind(e.pageChanged))):(0,f.Deferred)().resolve().promise():i[t]():0},t={init:function(){var e=this,t=this;t._items=[],t._columnsController=t.getController("columns"),t._currentOperationTypes=null,t._dataChangedHandler=function(n){t._currentOperationTypes=e._dataSource.operationTypes(),t._handleDataChanged(n),t._currentOperationTypes=null},t._columnsChangedHandler=t._handleColumnsChanged.bind(t),t._loadingChangedHandler=t._handleLoadingChanged.bind(t),t._loadErrorHandler=t._handleLoadError.bind(t),t._customizeStoreLoadOptionsHandler=t._handleCustomizeStoreLoadOptions.bind(t),t._changingHandler=t._handleChanging.bind(t),t._columnsController.columnsChanged.add(t._columnsChangedHandler),t._isLoading=!1,t._isCustomLoading=!1,t._repaintChangesOnly=void 0,t._changes=[],t.createAction("onDataErrorOccurred"),t.dataErrorOccurred.add((function(e){return t.executeAction("onDataErrorOccurred",{error:e})})),t._refreshDataSource()},callbackNames:function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged"]},callbackFlags:function(e){if("dataErrorOccurred"===e)return{stopOnFalse:!0}},publicMethods:function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey","getDataSource","getVisibleRows","repaintRows"]},reset:function(){this._columnsController.reset(),this._items=[],this._refreshDataSource()},optionChanged:function(e){var t,n=this;function i(){e.handled=!0}if("dataSource"===e.name&&e.name===e.fullName&&(e.value===e.previousValue||n.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue))){if(e.value!==e.previousValue){var o=n.store();o&&(o._array=e.value)}return i(),void n.refresh(n.option("repaintChangesOnly"))}switch(e.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":i();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":i(),n.reset();break;case"paging":t=n.dataSource(),t&&n._setPagingOptions(t)&&t.load().done(n.pageChanged.fire.bind(n.pageChanged)),i();break;case"rtlEnabled":n.reset();break;case"columns":t=n.dataSource(),t&&t.isLoading()&&e.name===e.fullName&&(this._useSortingGroupingFromColumns=!0,t.load());break;default:n.callBase(e)}},isReady:function(){return!this._isLoading},getDataSource:function(){return this._dataSource&&this._dataSource._dataSource},getCombinedFilter:function(e){return this.combinedFilter(void 0,e)},combinedFilter:function(e,t){var n=this,i=n._dataSource,o=n._columnsController;if(i){void 0===e&&(e=i.filter());var a=n._calculateAdditionalFilter();a&&(o.isDataSourceApplied()||o.isAllDataTypesDefined())&&(e=r.default.combineFilters([a,e])),e=o.updateFilter(e,t||i.remoteOperations().filtering)}return e},waitReady:function(){return this._updateLockCount?(this._readyDeferred=new f.Deferred,this._readyDeferred):(0,f.when)()},_endUpdateCore:function(){var e=this._changes;if(e.length){this._changes=[];var t=e.every((function(e){return e.repaintChangesOnly}));this.updateItems(1===e.length?e[0]:{repaintChangesOnly:t})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)},_handleCustomizeStoreLoadOptions:function(e){var t=this._columnsController,n=this._dataSource,i=e.storeLoadOptions;e.isCustomLoading&&!i.isLoadingAll||(i.filter=this.combinedFilter(i.filter),t.isDataSourceApplied()||t.updateColumnDataTypes(n),this._columnsUpdating=!0,t.updateSortingGrouping(n,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,i.sort=t.getSortDataSourceParameters(),i.group=t.getGroupDataSourceParameters(),n.sort(i.sort),n.group(i.group),i.sort=t.getSortDataSourceParameters(!n.remoteOperations().sorting),e.group=t.getGroupDataSourceParameters(!n.remoteOperations().grouping))},_handleColumnsChanged:function(e){var t,n,i,o=this,a=e.changeTypes,s=e.optionNames,l=function e(){o._columnsController.columnsChanged.remove(e),o.updateItems()};if(a.sorting||a.grouping)o._dataSource&&!o._columnsUpdating&&(o._dataSource.group(o._columnsController.getGroupDataSourceParameters()),o._dataSource.sort(o._columnsController.getSortDataSourceParameters()),o.reload());else if(a.columns&&((s.filterValues||s.filterValue||s.selectedFilterOperation)&&(t=o._columnsController.columnOption(e.columnIndex,"filterValue"),n=o._columnsController.columnOption(e.columnIndex,"filterValues"),(Array.isArray(n)||void 0===e.columnIndex||(0,c.isDefined)(t)||!s.selectedFilterOperation||s.filterValue)&&(o._applyFilter(),i=!0)),o._needApplyFilter||r.default.checkChanges(s,["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"])||o._columnsController.columnsChanged.add(l),(0,c.isDefined)(s.visible))){var d=o._columnsController.columnOption(e.columnIndex);d&&((0,c.isDefined)(d.filterValue)||(0,c.isDefined)(d.filterValues))&&(o._applyFilter(),i=!0)}!i&&a.filtering&&o.reload()},_handleDataChanged:function(e){var t=this,n=t._dataSource,i=t._columnsController,o=!1;this._useSortingGroupingFromColumns=!1,n&&!t._isDataSourceApplying&&(t._isDataSourceApplying=!0,(0,f.when)(t._columnsController.applyDataSource(n)).done((function(){t._isLoading&&t._handleLoadingChanged(!1),o&&e&&e.isDelayed&&(e.isDelayed=!1),t._isDataSourceApplying=!1;var n=function(){var e=t._calculateAdditionalFilter();return e&&e.length},i=t._needApplyFilter;t._needApplyFilter=!1,i&&!t._isAllDataTypesDefined&&n()?(l.default.log("W1005",t.component.NAME),t._applyFilter()):t.updateItems(e,!0)})).fail((function(){t._isDataSourceApplying=!1})),t._isDataSourceApplying&&(o=!0,t._handleLoadingChanged(!0)),t._needApplyFilter=!t._columnsController.isDataSourceApplied(),t._isAllDataTypesDefined=i.isAllDataTypesDefined())},_handleLoadingChanged:function(e){this._isLoading=e,this._fireLoadingChanged()},_handleLoadError:function(e){this.dataErrorOccurred.fire(e)},fireError:function(){this.dataErrorOccurred.fire(l.default.Error.apply(l.default,arguments))},_setPagingOptions:function(e){var t=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),i=this.option("paging.enabled"),o=this.option("scrolling.mode"),r="infinite"===o,a="virtual"===o,s=i||a||r,l=!1;return e.requireTotalCount(!r),void 0!==i&&e.paginate()!==s&&(e.paginate(s),l=!0),void 0!==n&&e.pageSize()!==n&&(e.pageSize(n),l=!0),void 0!==t&&e.pageIndex()!==t&&(e.pageIndex(t),l=!0),l},_getSpecificDataSourceOption:function(){var e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e},_initDataSource:function(){var e=this,t=this.option("dataSource"),n=this._dataSource;e.callBase(),t=e._dataSource,e._useSortingGroupingFromColumns=!0,t?(e._setPagingOptions(t),e.setDataSource(t)):n&&e.updateItems()},_loadDataSource:function(){var e=this,t=e._dataSource,n=new f.Deferred;return(0,f.when)(this._columnsController.refresh(!0)).always((function(){t?t.load().done(n.resolve).fail(n.reject):n.resolve()})),n.promise()},_beforeProcessItems:function(e){return e.slice(0)},getRowIndexDelta:function(){return 0},_processItems:function(e,t){var n=this,i=n.getRowIndexDelta(),o=t.changeType,r=n._columnsController.getVisibleColumns(null,"loadingAll"===o),a=n._items,s="append"===o&&a.length>0?a[a.length-1]:null,l=(0,c.isDefined)(null===s||void 0===s?void 0:s.dataIndex)?s.dataIndex+1:0,d={visibleColumns:r,dataIndex:l},h=[];return(0,u.each)(e,(function(e,t){(0,c.isDefined)(t)&&(d.rowIndex=e-i,t=n._processItem(t,d),h.push(t))})),h},_processItem:function(e,t){return e=this._generateDataItem(e,t),e=this._processDataItem(e,t),e.dataIndex=t.dataIndex++,e},_generateDataItem:function(e){return{rowType:"data",data:e,key:this.keyOf(e)}},_processDataItem:function(e,t){return e.values=this.generateDataValues(e.data,t.visibleColumns),e},generateDataValues:function(e,t,n){for(var i,o=[],r=0;r<t.length;r++){var a=t[r];i=n?void 0:null,a.command||(a.calculateCellValue?i=a.calculateCellValue(e):a.dataField&&(i=e[a.dataField])),o.push(i)}return o},_applyChange:function(e){var t=this;"update"===e.changeType?t._applyChangeUpdate(e):t.items().length&&e.repaintChangesOnly&&"refresh"===e.changeType?t._applyChangesOnly(e):"refresh"===e.changeType&&t._applyChangeFull(e)},_applyChangeFull:function(e){this._items=e.items.slice(0)},_getRowIndices:function(e){var t=e.rowIndices.slice(0),n=this.getRowIndexDelta();t.sort((function(e,t){return e-t}));for(var i=0;i<t.length;i++){var o=t[i];e.allowInvisibleRowIndices&&(o+=n),o<0&&(t.splice(i,1),i--)}return t},_applyChangeUpdate:function(e){var t,n=this,i=e.items,o=n._getRowIndices(e),r=n.getRowIndexDelta(),a=n.option("repaintChangesOnly"),s=-1,l=0;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];var c=function(e,t,n){var i=e&&t&&(0,d.equalByValue)(e.key,t.key);return i&&n&&(i=e.rowType===t.rowType&&("detail"!==t.rowType||e.isEditing===t.isEditing)),i};(0,u.each)(o,(function(o,d){var u;if(d+=l+r,s!==d){s=d;var h=n._items[d],p=n._items[d+1],f=i[d],g=i[d+1],m=c(h,p)||c(f,g);if(f&&(f.rowIndex=d,e.items.push(f)),h&&f&&c(h,f,m))t="update",n._items[d]=f,h.visible!==f.visible?e.items.splice(-1,1,{visible:f.visible}):a&&!e.isFullUpdate&&(u=n._partialUpdateRow(h,f,d-r));else if(f&&!h||g&&c(h,g,m))t="insert",n._items.splice(d,0,f),l++;else if(h&&!f||p&&c(f,p,m))t="remove",n._items.splice(d,1),l--,s=-1;else{if(!f)return;t="update",n._items[d]=f}e.rowIndices.push(d-r),e.changeTypes.push(t),e.columnIndices.push(u)}}))},_isCellChanged:function(e,t,n,i,o){if(JSON.stringify(e.values[i])!==JSON.stringify(t.values[i]))return!0;function r(e,t){return!!e.modifiedValues&&void 0!==e.modifiedValues[t]}return r(e,i)!==r(t,i)},_getChangedColumnIndices:function(e,t,n,i){if(e.rowType===t.rowType&&"group"!==t.rowType&&"groupFooter"!==t.rowType){var o=[];if("detail"!==t.rowType)for(var r=0;r<e.values.length;r++)this._isCellChanged(e,t,n,r,i)&&o.push(r);return o}},_partialUpdateRow:function(e,t,n,i){var o=this._getChangedColumnIndices(e,t,n,i);return o&&(e.cells&&e.cells.forEach((function(e,n){var i=o.indexOf(n)>=0;!i&&e&&e.update&&e.update(t)})),t.update=e.update,t.watch=e.watch,t.cells=e.cells,i&&(t.oldValues=e.values),e.update&&e.update(t)),o},_isItemEquals:function(e,t){if(JSON.stringify(e.values)!==JSON.stringify(t.values))return!1;var n=["modified","isNewRow","removed","isEditing"];if(n.some((function(n){return e[n]!==t[n]})))return!1;if("group"===e.rowType||"groupFooter"===e.rowType){var i,o,r,a,s=e.isExpanded===t.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(t.summaryCells),d=(null===(i=e.data)||void 0===i?void 0:i.isContinuation)===(null===(o=t.data)||void 0===o?void 0:o.isContinuation)&&(null===(r=e.data)||void 0===r?void 0:r.isContinuationOnNextPage)===(null===(a=t.data)||void 0===a?void 0:a.isContinuationOnNextPage);if(!s||!l||!d)return!1}return!0},_applyChangesOnly:function(e){var t=this,n=[],i=[],o=[],r=[],a={};function s(e){if(e)return e.rowType+","+JSON.stringify(e.key)}var l=function(e,n){return!!t._isItemEquals(e,n)&&(e.cells&&(e.update&&e.update(n),e.cells.forEach((function(e){e&&e.update&&e.update(n)}))),!0)},d=this._items.slice();e.items.forEach((function(e,t){var n=s(e);a[n]=t,e.rowIndex=t}));var u=(0,g.findChanges)(d,e.items,s,l);u?(u.forEach((function(e){switch(e.type){case"update":var a=e.index,s=e.data,l=e.oldItem,d=t._partialUpdateRow(l,s,a,!0);n.push(a),o.push("update"),r.push(s),t._items[a]=s,i.push(d);break;case"insert":n.push(e.index),o.push("insert"),r.push(e.data),i.push(void 0),t._items.splice(e.index,0,e.data);break;case"remove":n.push(e.index),o.push("remove"),t._items.splice(e.index,1),r.push(e.oldItem),i.push(void 0)}})),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=n,e.columnIndices=i,e.changeTypes=o,e.items=r,d.length&&(e.isLiveUpdate=!0),this._correctRowIndices((function(e){var t=d[e],n=s(t),i=a[n];return i>=0?i-e:0}))):this._applyChangeFull(e)},_correctRowIndices:d.noop,_updateItemsCore:function(e){var t,n=this,i=n._dataSource,o=e.changeType||"refresh";if(e.changeType=o,i){t=e.items||i.items(),t=n._beforeProcessItems(t),t=n._processItems(t,e),e.items=t;var r=n._items.length===t.length&&n._items;n._applyChange(e);var a=n.getRowIndexDelta();(0,u.each)(n._items,(function(e,t){t.rowIndex=e-a,r&&(t.cells=r[e].cells||[])}))}else n._items=[]},_handleChanging:function(e){var t=this,n=t.getVisibleRows(),i=t.dataSource();i&&e.changes.forEach((function(e){if("insert"===e.type&&e.index>=0){for(var t=0,i=0;i<e.index;i++){var o=n[i];!o||"data"!==o.rowType&&"group"!==o.rowType||t++}e.index=t}}))},updateItems:function(e,t){e=e||{};var n=this;if(void 0!==n._repaintChangesOnly)e.repaintChangesOnly=n._repaintChangesOnly;else if(e.changes)e.repaintChangesOnly=n.option("repaintChangesOnly");else if(t){var i=n.dataSource().operationTypes();e.repaintChangesOnly=i&&!i.grouping&&!i.filtering&&n.option("repaintChangesOnly"),e.isDataChanged=!0,i&&(i.reload||i.paging||i.groupExpanding)&&(e.needUpdateDimensions=!0)}n._updateLockCount?n._changes.push(e):(n._updateItemsCore(e),e.cancel||n._fireChanged(e))},loadingOperationTypes:function(){var e=this.dataSource();return e&&e.loadingOperationTypes()||{}},_fireChanged:function(e){var t=this;this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),(0,d.deferRender)((function(){t.changed.fire(e)}))},isLoading:function(){return this._isLoading||this._isCustomLoading},_fireLoadingChanged:function(){this.loadingChanged.fire(this.isLoading(),this._loadingText)},_calculateAdditionalFilter:function(){return null},_applyFilter:function(){var e=this,t=e._dataSource;if(t)return t.pageIndex(0),e.reload().done(e.pageChanged.fire.bind(e.pageChanged))},filter:function(e){var t=this._dataSource,n=t&&t.filter();if(0===arguments.length)return n;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,r.default.equalFilterParameters(n,e)||(t&&t.filter(e),this._applyFilter())},clearFilter:function(e){var t=this,n=t._columnsController,i=function(e){for(var t=n.columnCount(),i=0;i<t;i++)n.columnOption(i,e,void 0)};if(t.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":t.filter(null);break;case"search":t.searchByText("");break;case"header":i("filterValues");break;case"row":i("filterValue")}else t.filter(null),t.searchByText(""),i("filterValue"),i("bufferedFilterValue"),i("filterValues");t.component.endUpdate()},_fireDataSourceChanged:function(){var e=this,t=function t(){e.changed.remove(t),e.dataSourceChanged.fire()};e.changed.add(t)},_getDataSourceAdapter:d.noop,_createDataSourceAdapterCore:function(e,t){var n=this._getDataSourceAdapter(),i=n.create(this.component);return i.init(e,t),i},isLocalStore:function(e){return e=e||this.store(),e instanceof a.default},isCustomStore:function(e){return e=e||this.store(),e instanceof s.default},_createDataSourceAdapter:function(e){var t=this.option("remoteOperations"),n=e.store(),i={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return t&&t.groupPaging&&(t=(0,h.extend)({},i,t)),"auto"===t&&(t=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),!0===t&&(t=i),this._createDataSourceAdapterCore(e,t)},setDataSource:function(e){var t=this,n=t._dataSource;!e&&n&&(n.cancelAll(),n.changed.remove(t._dataChangedHandler),n.loadingChanged.remove(t._loadingChangedHandler),n.loadError.remove(t._loadErrorHandler),n.customizeStoreLoadOptions.remove(t._customizeStoreLoadOptionsHandler),n.changing.remove(t._changingHandler),n.dispose(t._isSharedDataSource)),e&&(e=t._createDataSourceAdapter(e)),t._dataSource=e,e&&(t._fireDataSourceChanged(),t._isLoading=!e.isLoaded(),t._needApplyFilter=!0,t._isAllDataTypesDefined=t._columnsController.isAllDataTypesDefined(),e.changed.add(t._dataChangedHandler),e.loadingChanged.add(t._loadingChangedHandler),e.loadError.add(t._loadErrorHandler),e.customizeStoreLoadOptions.add(t._customizeStoreLoadOptionsHandler),e.changing.add(t._changingHandler))},items:function(){return this._items},isEmpty:function(){return!this.items().length},pageCount:function(){return this._dataSource?this._dataSource.pageCount():1},dataSource:function(){return this._dataSource},store:function(){var e=this._dataSource;return e&&e.store()},loadAll:function(e){var t=this,n=new f.Deferred,i=t._dataSource;if(i)if(e){var o={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:t.getCombinedFilter(),group:i.group(),sort:i.sort()}};i._handleDataLoaded(o),(0,f.when)(o.data).done((function(e){e=t._beforeProcessItems(e),n.resolve(t._processItems(e,{changeType:"loadingAll"}),o.extra&&o.extra.summary)})).fail(n.reject)}else if(i.isLoading())n.reject();else{var r=(0,h.extend)({},i.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});i.load(r).done((function(e,i){e=t._beforeProcessItems(e),e=t._processItems(e,{changeType:"loadingAll"}),n.resolve(e,i&&i.summary)})).fail(n.reject)}else n.resolve([]);return n},getKeyByRowIndex:function(e){var t=this.items()[e];if(t)return t.key},getRowIndexByKey:function(e){return r.default.getIndexByKey(e,this.items())},keyOf:function(e){var t=this.store();if(t)return t.keyOf(e)},byKey:function(e){var t,n=this.store(),i=this.getRowIndexByKey(e);if(n)return i>=0&&(t=(new f.Deferred).resolve(this.items()[i].data)),t||n.byKey(e)},key:function(){var e=this.store();if(e)return e.key()},getRowIndexOffset:function(){return 0},getDataByKeys:function(e){var t=this,n=new f.Deferred,o=[],r=[];return(0,u.each)(e,(function(e,n){o.push(t.byKey(n).done((function(t){r[e]=t})))})),f.when.apply(i.default,o).always((function(){n.resolve(r)})),n},pageIndex:function(t){return e(this,"pageIndex",t)},pageSize:function(t){return e(this,"pageSize",t)},beginCustomLoading:function(e){this._isCustomLoading=!0,this._loadingText=e||"",this._fireLoadingChanged()},endCustomLoading:function(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()},refresh:function(e){!0===e?e={reload:!0,changesOnly:!0}:e||(e={lookup:!0,selection:!0,reload:!0});var t=this,n=t.getDataSource(),i=e.changesOnly,o=new f.Deferred,r=function(){t._repaintChangesOnly=!!i};return(0,f.when)(!e.lookup||t._columnsController.refresh()).always((function(){e.load||e.reload?(n&&n.on("customizeLoadResult",r),(0,f.when)(t.reload(e.reload,i)).always((function(){n&&n.off("customizeLoadResult",r),t._repaintChangesOnly=void 0})).done(o.resolve).fail(o.reject)):(t.updateItems({repaintChangesOnly:e.changesOnly}),o.resolve())})),o.promise()},getVisibleRows:function(){return this.items()},_disposeDataSource:function(){this.setDataSource(null)},dispose:function(){this._disposeDataSource(),this.callBase.apply(this,arguments)},repaintRows:function(e,t){e=Array.isArray(e)?e:[e],(e.length>1||(0,c.isDefined)(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!t})},skipProcessingPagingChange:function(e){return this._skipProcessingPagingChange&&("paging.pageIndex"===e||"paging.pageSize"===e)},getUserState:function(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}},getCachedStoreData:function(){return this._dataSource&&this._dataSource.getCachedStoreData()}};return r.default.proxyMethod(t,"load"),r.default.proxyMethod(t,"reload"),r.default.proxyMethod(t,"push"),r.default.proxyMethod(t,"itemsCount",0),r.default.proxyMethod(t,"totalItemsCount",0),r.default.proxyMethod(t,"hasKnownLastPage",!0),r.default.proxyMethod(t,"isLoaded",!0),r.default.proxyMethod(t,"totalCount",0),t}())}};t.default=v,e.exports=t.default},cb46:function(e,t,n){"use strict";t.default=void 0;var i=c(n("14a3")),o=c(n("8de2")),r=n("5c27"),a=n("b62d"),s=n("d4b2"),l=c(n("1de5")),d=c(n("8a64")),u=n("1820");function c(e){return e&&e.__esModule?e:{default:e}}var h="dxDataGridColumnHeadersView",p=(0,s.extend)({},l.default,{_createRow:function(e){var t=this,n=this.callBase(e);return"header"===e.rowType&&o.default.on(n,(0,u.addNamespace)(r.name,h),"td",this.createAction((function(e){t._processHeaderAction(e.event,n)}))),n},_processHeaderAction:function(e,t){if((0,i.default)(e.currentTarget).parent().get(0)===t.get(0)){var n=this,o=null,r=(0,i.default)(e.currentTarget),s=r.parent().index(),l=-1;[].slice.call(n.getCellElements(s)).some((function(e,t){if(e===r.get(0))return l=t,!0}));var d=n._columnsController.getVisibleColumns(s),u=d[l],c=n.getController("editing"),h=n.option("editing.mode"),p=c&&c.isEditing()&&("batch"===h||"cell"===h);!p&&n._isSortableElement((0,i.default)(e.target))&&(!u||(0,a.isDefined)(u.groupIndex)||u.command||(e.shiftKey?o="shift":e.ctrlKey&&(o="ctrl"),setTimeout((function(){n._columnsController.changeSortOrder(u.index,o)}))))}},_renderCellContent:function(e,t){var n=this,i=t.column;i.command||"header"!==t.rowType||n._applyColumnState({name:"sort",rootElement:e,column:i,showColumnLines:n.option("showColumnLines")}),n.callBase(e,t)},_columnOptionChanged:function(e){var t=e.changeTypes;1===t.length&&t.sorting?this._updateIndicators("sort"):this.callBase(e)},optionChanged:function(e){var t=this;switch(e.name){case"sorting":t._invalidate(),e.handled=!0;break;default:t.callBase(e)}}}),f=(0,s.extend)({},l.default,{_createGroupPanelItem:function(e,t){var n=this,i=n.callBase.apply(n,arguments);return o.default.on(i,(0,u.addNamespace)(r.name,"dxDataGridHeaderPanel"),n.createAction((function(){n._processGroupItemAction(t.index)}))),n._applyColumnState({name:"sort",rootElement:i,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:"desc"===t.sortOrder?"desc":"asc"},showColumnLines:!0}),i},_processGroupItemAction:function(e){var t=this;setTimeout((function(){return t.getController("columns").changeSortOrder(e)}))},optionChanged:function(e){var t=this;switch(e.name){case"sorting":t._invalidate(),e.handled=!0;break;default:t.callBase(e)}}}),g={defaultOptions:function(){return{sorting:{mode:"single",ascendingText:d.default.format("dxDataGrid-sortingAscendingText"),descendingText:d.default.format("dxDataGrid-sortingDescendingText"),clearText:d.default.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}},extenders:{views:{columnHeadersView:p,headerPanel:f}}};t.default=g,e.exports=t.default},d12c:function(e,t,n){"use strict";t.default=void 0;var i=o(n("0fd3b"));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default;t.default=r,e.exports=t.default,e.exports.default=e.exports},d12e:function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.GanttDialog=void 0;var o=s(n("205e")),r=s(n("2358"));n("c625");var a=s(n("8a64"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function u(e){var t=p();return function(){var n,i=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var _=function(){function e(t,n){g(this,e),this._popupInstance=t._createComponent(n,o.default),this.infoMap={TaskEdit:C,Resources:w,Confirmation:x,ConstraintViolation:b}}return v(e,[{key:"_apply",value:function(){var e=this._dialogInfo.getResult();this._callback(e),this.hide()}},{key:"show",value:function(e,t,n,i,o){this._callback=n,this._afterClosing=i,this.infoMap[e]&&(this._dialogInfo=new this.infoMap[e](t,this._apply.bind(this),this.hide.bind(this),o),this._popupInstance.option({showTitle:!!this._dialogInfo.getTitle(),title:this._dialogInfo.getTitle(),toolbarItems:this._dialogInfo.getToolbarItems(),maxWidth:this._dialogInfo.getMaxWidth(),height:this._dialogInfo.getHeight(),contentTemplate:this._dialogInfo.getContentTemplate()}),this._popupInstance.show())}},{key:"hide",value:function(){this._popupInstance.hide(),this._afterClosing&&this._afterClosing()}}]),e}();t.GanttDialog=_;var y=function(){function e(t,n,i,o){g(this,e),this._parameters=t,this._applyAction=n,this._hideAction=i,this._editingOptions=o}return v(e,[{key:"_getFormItems",value:function(){return{}}},{key:"_getFormCssClass",value:function(){return""}},{key:"_getFormData",value:function(){return this._parameters}},{key:"_updateParameters",value:function(){}},{key:"_getOkToolbarItem",value:function(){return this._getToolbarItem("OK",this._applyAction)}},{key:"_getCancelToolbarItem",value:function(){return this._getToolbarItem("Cancel",this._hideAction)}},{key:"_getYesToolbarItem",value:function(){return this._getToolbarItem("Yes",this._applyAction)}},{key:"_getNoToolbarItem",value:function(){return this._getToolbarItem("No",this._hideAction)}},{key:"_getToolbarItem",value:function(e,t){return{widget:"dxButton",toolbar:"bottom",options:{text:a.default.format(e),onClick:t}}}},{key:"getTitle",value:function(){return""}},{key:"getToolbarItems",value:function(){return this._editingOptions.enabled?[this._getOkToolbarItem(),this._getCancelToolbarItem()]:[this._getCancelToolbarItem()]}},{key:"getMaxWidth",value:function(){return 400}},{key:"getHeight",value:function(){return"auto"}},{key:"getContentTemplate",value:function(){var e=this;return function(t){return e._form=new r.default(t,{formData:e._getFormData(),items:e._getFormItems(),elementAttr:{class:e._getFormCssClass()}}),t}}},{key:"getResult",value:function(){var e=this._form&&this._form.option("formData");return this._updateParameters(e),this._parameters}}]),e}(),C=function(e){l(n,e);var t=u(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"getTitle",value:function(){return a.default.format("dxGantt-dialogTaskDetailsTitle")}},{key:"_getFormItems",value:function(){var e=this,t=!this._editingOptions.enabled||!this._editingOptions.allowTaskUpdating,n=t||!this._parameters.enableRangeEdit;return[{dataField:"title",editorType:"dxTextBox",label:{text:a.default.format("dxGantt-dialogTitle")},editorOptions:{readOnly:t||this._isReadOnlyField("title")},visible:!this._isHiddenField("title")},{dataField:"start",editorType:"dxDateBox",label:{text:a.default.format("dxGantt-dialogStartTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:n||this._isReadOnlyField("start")},visible:!this._isHiddenField("start")},{dataField:"end",editorType:"dxDateBox",label:{text:a.default.format("dxGantt-dialogEndTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:n||this._isReadOnlyField("end")},visible:!this._isHiddenField("end")},{dataField:"progress",editorType:"dxNumberBox",label:{text:a.default.format("dxGantt-dialogProgressTitle")},editorOptions:{showSpinButtons:!0,min:0,max:1,format:"#0%",step:.01,readOnly:n||this._isReadOnlyField("progress")},visible:!this._isHiddenField("progress")},{dataField:"assigned.items",editorType:"dxTagBox",label:{text:a.default.format("dxGantt-dialogResourcesTitle")},editorOptions:{readOnly:t||!this._editingOptions.allowTaskResourceUpdating,dataSource:this._parameters.resources.items,displayExpr:"text",buttons:[{name:"editResources",location:"after",options:{disabled:!this._editingOptions.allowResourceAdding&&!this._editingOptions.allowResourceDeleting,text:"...",hint:a.default.format("dxGantt-dialogEditResourceListHint"),onClick:function(){var t=function(){e._parameters.showTaskEditDialogCommand.execute()};e._parameters.showResourcesDialogCommand.execute(t)}}}]}}]}},{key:"_isReadOnlyField",value:function(e){return this._parameters.readOnlyFields.indexOf(e)>-1}},{key:"_isHiddenField",value:function(e){return this._parameters.hiddenFields.indexOf(e)>-1}},{key:"_getFormData",value:function(){var e={};for(var t in this._parameters)e[t]="progress"===t?this._parameters[t]/100:this._parameters[t];return e}},{key:"_updateParameters",value:function(e){this._parameters.title=e.title,this._parameters.start=e.start,this._parameters.end=e.end,this._parameters.progress=100*e.progress,this._parameters.assigned=e.assigned}}]),n}(y),w=function(e){l(n,e);var t=u(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"getTitle",value:function(){return a.default.format("dxGantt-dialogResourceManagerTitle")}},{key:"_getFormItems",value:function(){var e=this;return[{label:{visible:!1},dataField:"resources.items",editorType:"dxList",editorOptions:{allowItemDeleting:this._editingOptions.enabled&&this._editingOptions.allowResourceDeleting,itemDeleteMode:"static",selectionMode:"none",items:this._parameters.resources.items,height:250,noDataText:a.default.format("dxGantt-dialogEditNoResources"),onInitialized:function(t){e.list=t.component},onItemDeleted:function(t){e._parameters.resources.remove(t.itemData)}}},{label:{visible:!1},editorType:"dxTextBox",editorOptions:{readOnly:!this._editingOptions.enabled||!this._editingOptions.allowResourceAdding,onInitialized:function(t){e.textBox=t.component},onInput:function(e){var t=e.component.getButton("addResource"),n=e.component.option("text");t.option("disabled",0===n.length)},buttons:[{name:"addResource",location:"after",options:{text:a.default.format("dxGantt-dialogButtonAdd"),disabled:!0,onClick:function(t){var n=e._parameters.resources.createItem();n.text=e.textBox.option("text"),e._parameters.resources.add(n),e.list.option("items",e._parameters.resources.items),e.list.scrollToItem(n),e.textBox.reset(),t.component.option("disabled",!0)}}}]}}]}}]),n}(y),x=function(e){l(n,e);var t=u(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"getContentTemplate",value:function(){var e=this;return function(t){return e._getConfirmMessage()}}},{key:"_getConfirmMessage",value:function(){switch(this._parameters.type){case 0:return a.default.format("dxGantt-dialogTaskDeleteConfirmation");case 1:return a.default.format("dxGantt-dialogDependencyDeleteConfirmation");case 2:return a.default.format("dxGantt-dialogResourcesDeleteConfirmation",this._parameters.message);default:return""}}},{key:"getToolbarItems",value:function(){return[this._getYesToolbarItem(),this._getNoToolbarItem()]}}]),n}(y),b=function(e){l(n,e);var t=u(n);function n(){return g(this,n),t.apply(this,arguments)}return v(n,[{key:"_getFormItems",value:function(){var e=[];return e.push({text:a.default.format("dxGantt-dialogCancelOperationMessage"),value:0}),e.push({text:a.default.format("dxGantt-dialogDeleteDependencyMessage"),value:1}),this._parameters.validationError.critical||e.push({text:a.default.format("dxGantt-dialogMoveTaskAndKeepDependencyMessage"),value:2}),[{template:this._parameters.validationError.critical?a.default.format("dxGantt-dialogConstraintCriticalViolationMessage"):a.default.format("dxGantt-dialogConstraintViolationMessage")},{cssClass:"dx-cv-dialog-row",dataField:"option",label:{visible:!1},editorType:"dxRadioGroup",editorOptions:{items:e,valueExpr:"value",value:0}}]}},{key:"_getFormCssClass",value:function(){return"dx-cv-dialog"}},{key:"_updateParameters",value:function(e){this._parameters.option=e.option}}]),n}(y)},d582:function(e,t,n){"use strict";t.default=void 0;var i=m(n("14a3")),o=n("2809"),r=m(n("1981")),a=n("1d99"),s=m(n("8a64")),l=n("fbaa"),d=m(n("5cf5")),u=m(n("db7c")),c=m(n("2dd1")),h=m(n("205e")),p=n("b62d"),f=n("d4b2"),g=n("ce5d");function m(e){return e&&e.__esModule?e:{default:e}}var v="column-chooser",_="column-chooser-button",y="notouch-action",C="column-chooser-list",w="column-chooser-plain",x="column-chooser-mode-drag",b="column-chooser-mode-select",T="column-chooser",I="dx-column-chooser-item",S=".dx-treeview-node",k=".dx-checkbox",E=300,D=function(e,t){var n=[],i="select"===e.option("columnChooser.mode");return t.length&&(0,g.each)(t,(function(e,t){var o={text:t.caption,cssClass:t.cssClass,allowHiding:t.allowHiding,expanded:!0,id:t.index,disabled:!1,disableCheckBox:!1===t.allowHiding,parentId:(0,p.isDefined)(t.ownerBand)?t.ownerBand:null};i&&(o.selected=t.visible),n.push(o)})),n},R=r.default.ViewController.inherit({renderShowColumnChooserButton:function(e){var t,n=this,o=n.addWidgetPrefix(_),r=n.option("columnChooser.enabled"),a=e.find("."+o);r?a.length?a.show():(t=(0,i.default)("<div>").addClass(o).appendTo(e),n._createComponent(t,d.default,{icon:T,onClick:function(){n.getView("columnChooserView").showColumnChooser()},hint:n.option("columnChooser.title"),integrationOptions:{}})):a.hide()},getPosition:function(){var e=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:e&&e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}}),O=a.ColumnsView.inherit({_resizeCore:o.noop,_isWinDevice:function(){return!!c.default.real().win},_updateList:function(e){var t,n=this._popupContainer.$content(),i="select"===this.option("columnChooser.mode"),o=this._columnChooserList,r=this._columnsController.getChooserColumns(i);if(i&&o&&e&&"selection"===e.changeType){t=D(this,r);for(var a=0;a<t.length;a++){var s=t[a].selected,l=t[a].id;l===e.columnIndex&&(s?o.selectItem(l,s):o.unselectItem(l,s))}}else i&&o&&"full"!==e||(this._popupContainer._wrapper().toggleClass(this.addWidgetPrefix(x),!i).toggleClass(this.addWidgetPrefix(b),i),t=D(this,r),this._renderTreeView(n,t))},_initializePopupContainer:function(){var e=this,t=e.element().addClass(e.addWidgetPrefix(v)),n=e.option("columnChooser"),o=(0,l.current)(),r=(0,l.isGeneric)(o),a=(0,l.isMaterial)(o),s={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,resizeEnabled:!0,toolbarItems:[{text:n.title,toolbar:"top",location:r||a?"before":"center"}],position:e.getController("columnChooser").getPosition(),width:n.width,height:n.height,rtlEnabled:e.option("rtlEnabled"),onHidden:function(){e._isWinDevice()&&(0,i.default)("body").removeClass(e.addWidgetPrefix(y))},container:n.container};r||a?(0,f.extend)(s,{showCloseButton:!0}):s.toolbarItems[s.toolbarItems.length]={shortcut:"cancel"},(0,p.isDefined)(this._popupContainer)?this._popupContainer.option(s):(e._popupContainer=e._createComponent(t,h.default,s),e._popupContainer.on("optionChanged",(function(t){"visible"===t.name&&e.renderCompleted.fire()})))},_renderCore:function(e){this._popupContainer&&this._updateList(e)},_renderTreeView:function(e,t){var n=this,r=this.option("columnChooser"),a="select"===r.mode,s={items:t,dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:r.allowSearch,searchTimeout:r.searchTimeout,onItemRendered:function(e){if(e.itemData.disableCheckBox){var t,n=(0,i.default)(e.itemElement).closest(S);if(n.length&&(t=n.find(k),t.length)){var o=t.data("dxCheckBox");o&&o.option("disabled",!0)}}}},l=e.find(".dx-scrollable").data("dxScrollable"),d=l&&l.scrollTop();a&&!this._columnsController.isBandColumnsUsed()&&e.addClass(this.addWidgetPrefix(w)),s.onContentReady=function(e){(0,o.deferUpdate)((function(){if(d){var t=(0,i.default)(e.element).find(".dx-scrollable").data("dxScrollable");t&&t.scrollTo({y:d})}n.renderCompleted.fire()}))},this._isWinDevice()&&(s.useNativeScrolling=!1),(0,f.extend)(s,a?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList?(s.searchEnabled||(s.searchValue=""),this._columnChooserList.option(s)):(this._columnChooserList=this._createComponent(e,u.default,s),e.addClass(this.addWidgetPrefix(C)))},_prepareDragModeConfig:function(){var e=this.option("columnChooser");return{noDataText:e.emptyPanelText,activeStateEnabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,itemTemplate:function(e,t,n){(0,i.default)(n).text(e.text).parent().addClass(e.cssClass).addClass(I)}}},_prepareSelectModeConfig:function(){var e=this,t=function(t){var n=e._columnsController.getVisibleColumns().filter((function(e){return!e.command})),i=1===n.length&&!t.itemData.selected;i?t.component.selectItem(t.itemElement):setTimeout((function(){e._columnsController.columnOption(t.itemData.id,"visible",t.itemData.selected)}),E)};return{selectNodesRecursive:!1,showCheckBoxesMode:"normal",onItemSelectionChanged:t}},_columnOptionChanged:function(e){var t=e.changeTypes,n=e.optionNames,i="select"===this.option("columnChooser.mode");if(this.callBase(e),i){var o=n.visible&&1===n.length&&void 0!==e.columnIndex,r=n.showInColumnChooser||n.caption||n.visible||t.columns&&n.all;o?this.render(null,{changeType:"selection",columnIndex:e.columnIndex}):r&&this.render(null,"full")}},optionChanged:function(e){switch(e.name){case"columnChooser":this._initializePopupContainer(),this.render(null,"full");break;default:this.callBase(e)}},getColumnElements:function(){var e,t=[],n="select"===this.option("columnChooser.mode"),o=this._columnsController.getChooserColumns(n),r=this._popupContainer&&this._popupContainer.$content(),a=r&&r.find(".dx-treeview-node");return a&&o.forEach((function(n){e=a.filter("[data-item-id = '"+n.index+"']");var i=e.length?e.children("."+I).get(0):null;t.push(i)})),(0,i.default)(t)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(e,t){var n=e&&e.allowHiding&&("columnChooser"!==t||!e.visible&&this._columnsController.isParentColumnVisible(e.index));return this.isColumnChooserVisible()&&n},getBoundingRect:function(){var e=this,t=e._popupContainer&&e._popupContainer._container();if(t&&t.is(":visible")){var n=t.offset();return{left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight()}}return null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show(),this._isWinDevice()&&(0,i.default)("body").addClass(this.addWidgetPrefix(y))},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var e=this._popupContainer;return e&&e.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}}),M={defaultOptions:function(){return{columnChooser:{enabled:!1,allowSearch:!1,searchTimeout:500,mode:"dragAndDrop",width:250,height:260,title:s.default.format("dxDataGrid-columnChooserTitle"),emptyPanelText:s.default.format("dxDataGrid-columnChooserEmptyText"),container:void 0}}},controllers:{columnChooser:R},views:{columnChooserView:O},extenders:{views:{headerPanel:{_getToolbarItems:function(){var e=this.callBase();return this._appendColumnChooserItem(e)},_appendColumnChooserItem:function(e){var t=this,n=t.option("columnChooser.enabled");if(n){var o=function(){t.component.getView("columnChooserView").showColumnChooser()},r=function(e){(0,i.default)(e.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix(_)))},a=t.option("columnChooser.title"),s={widget:"dxButton",options:{icon:T,onClick:o,hint:a,text:a,onInitialized:r},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(s)}return e},optionChanged:function(e){switch(e.name){case"columnChooser":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}},isVisible:function(){var e=this,t=e.option("columnChooser.enabled");return e.callBase()||t}}},controllers:{columns:{allowMoveColumn:function(e,t,n,i){var o=this.option("columnChooser.mode"),r="select"===o&&"columnChooser"===i;return!r&&this.callBase(e,t,n,i)}}}}};t.default=M,e.exports=t.default},d817:function(e,t,n){"use strict";t.default=void 0;var i=f(n("14a3")),o=n("706b"),r=n("2809"),a=n("2a4b"),s=f(n("f12e")),l=n("ce5d"),d=n("b49b"),u=n("6103"),c=f(n("5d60")),h=f(n("b876")),p=n("5e04");function f(e){return e&&e.__esModule?e:{default:e}}var g="table",m="bottom-load-panel",v="table-content",_="group-space",y="content",C="dx-row",w="dx-freespace-row",x="dx-column-lines",b="dx-virtual-row",T="infinite",I="virtual",S="standard",k=25e4,E=300,D=function(e){return e.option("scrolling.mode")===I},R=function(e){return e.option("scrolling.mode")===T},O=function(e){var t=e.option("scrolling.rowRenderingMode");return t===I||t!==S&&void 0},M=function(e,t,n,i){for(var o=0;o<t+1;o++){var r=e[n?e.length-1-o:o];r&&!i(r,o===t,n)&&t++}return t},P=function(){var e=function(e){var t=e._virtualScrollController.beginPageIndex(-1);D(e)&&(t<0||e.viewportSize()>=0&&e.getViewportItemIndex()>=0&&(t*e.pageSize()>e.getViewportItemIndex()||t*e.pageSize()+e.itemsCount()<e.getViewportItemIndex()+e.viewportSize())&&e._dataSource.isLoading()?e._isLoading||(e._isLoading=!0,e.loadingChanged.fire(!0)):e._isLoading&&(e._isLoading=!1,e.loadingChanged.fire(!1)))},t={init:function(t){var n=this;n.callBase.apply(n,arguments),n._items=[],n._isLoaded=!0,n._virtualScrollController=new a.VirtualScrollController(n.component,{pageSize:function(){return n.pageSize()},totalItemsCount:function(){return n.totalItemsCount()},hasKnownLastPage:function(){return n.hasKnownLastPage()},pageIndex:function(e){return t.pageIndex(e)},isLoading:function(){return t.isLoading()&&!n.isCustomLoading()},pageCount:function(){return n.pageCount()},load:function(){return t.load()},updateLoading:function(){e(n)},itemsCount:function(){return n.itemsCount(!0)},items:function(){return t.items()},viewportItems:function(e){return e&&(n._items=e),n._items},onChanged:function(e){n.changed.fire(e)},changingDuration:function(e){return n.isLoading()?E:n._renderTime||0}})},_handleLoadingChanged:function(e){D(this)&&!this._isLoadingAll||(this._isLoading=e,this.callBase.apply(this,arguments)),this._startLoadTime=e?new Date:void 0},_handleLoadError:function(){var e=this;e._isLoading=!1,e.loadingChanged.fire(!1),e.callBase.apply(e,arguments)},_handleDataChanged:function(e){var t=this.callBase.bind(this);this._virtualScrollController.handleDataChanged(t,e)},_customizeRemoteOperations:function(e,t){var n=this;!n.option("legacyRendering")&&D(n)&&!t.reload&&t.skip&&n._renderTime<n.option("scrolling.renderingThreshold")&&(e.delay=void 0),n.callBase.apply(n,arguments)},items:function(){return this._items},itemsCount:function(e){return e?this.callBase():this._virtualScrollController.itemsCount()},load:function(e){return e?this.callBase(e):this._virtualScrollController.load()},isLoading:function(){return this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},resetPagesCache:function(e){e||this._virtualScrollController.reset(!0),this.callBase.apply(this,arguments)},_changeRowExpandCore:function(){var t=this.callBase.apply(this,arguments);return this.resetPagesCache(),e(this),t},reload:function(){this._dataSource.pageIndex(this.pageIndex());var e=this._virtualScrollController;if(e){var t=new d.Deferred;return this.callBase.apply(this,arguments).done((function(n){var i=e._delayDeferred;i?i.done(t.resolve).fail(t.reject):t.resolve(n)})).fail(t.reject),t}return this.callBase.apply(this,arguments)},refresh:function(t,n){var i=this,o=t.storeLoadOptions,r=i._dataSource;return n.reload?(i._virtualScrollController.reset(),r.items().length=0,i._isLoaded=!1,e(i),i._isLoaded=!0,R(i)?(i.pageIndex(0),r.pageIndex(0),o.pageIndex=0,t.pageIndex=0,o.skip=0):(r.pageIndex(i.pageIndex()),r.paginate()&&(t.pageIndex=i.pageIndex(),o.skip=i.pageIndex()*i.pageSize()))):R(i)&&o.skip&&i._skipCorrection<0&&(o.skip+=i._skipCorrection),i.callBase.apply(i,arguments)},dispose:function(){this._virtualScrollController.dispose(),this.callBase.apply(this,arguments)}};return["virtualItemsCount","getContentOffset","getVirtualContentSize","setContentSize","setViewportPosition","getViewportItemIndex","setViewportItemIndex","getItemIndexByPosition","viewportSize","viewportItemSize","getItemSize","getItemSizes","pageIndex","beginPageIndex","endPageIndex","loadIfNeed"].forEach((function(e){t[e]=function(){var t=this._virtualScrollController;return t[e].apply(t,arguments)}})),t}(),V=function(){var e=function(e,t){var n=function(e){return(0,i.default)(e).parent("."+t).get(0)},o=e.toArray().map(n).filter((function(e){return e}));o.length&&(e=(0,i.default)(o));for(var r=t===w?e.length-1:e.length,a=0;a<r;a++)e.eq(a).remove()};return{init:function(){var e,t=this,n=this.getController("data");this.callBase(),n.pageChanged.add((function(){t.scrollToPage(n.pageIndex())})),null===(e=n.stateLoaded)||void 0===e||e.add((function(){t._scrollToCurrentPageOnResize()})),this._scrollToCurrentPageOnResize()},_scrollToCurrentPageOnResize:function(){var e=this,t=this.getController("data");if(!this.option("legacyRendering")&&t.pageIndex()>0){var n=function n(){e.resizeCompleted.remove(n),e.scrollToPage(t.pageIndex())};this.resizeCompleted.add(n)}},scrollToPage:function(e){var t,n=this,i=n._dataController,o=i?i.pageSize():0;if(D(n)||R(n)){var r=i.getItemSize(),a=i.getItemSizes(),s=e*o;for(var l in t=s*r,a)l<s&&(t+=a[l]-r)}else t=0;n.scrollTo({y:t,x:n._scrollLeft})},renderDelayedTemplates:function(e){this._updateContentPosition(!0),this.callBase.apply(this,arguments)},_renderCore:function(e){var t=this,n=new Date;t.callBase.apply(t,arguments);var i=t._dataController._dataSource;if(i&&e){var o=e.items?e.items.length:20,r=t._dataController.viewportSize()||20;O(t)?i._renderTime=(new Date-n)*r/o:i._renderTime=new Date-n}},_getRowElements:function(e){var t=this.callBase(e);return t&&t.not("."+b)},_renderContent:function(e,t){var n=this,i=n._dataController.virtualItemsCount();return i&&n.option("legacyRendering")?((0,o.hasWindow)()&&t.addClass(n.addWidgetPrefix(v)),e.children().length?e.children().first().replaceWith(t):e.append(t),1===e.children("table").length&&(e.append(n._createTable()),n._contentHeight=0),e):n.callBase.apply(n,arguments)},_removeRowsElements:function(e,t,n){var o=this._getRowElements(e).toArray();o="append"===n?o.slice(0,t):o.slice(-t);var r=this.getController("errorHandling");o.map((function(e){var t=(0,i.default)(e);r&&r.removeErrorRow(t.next()),t.remove()}))},_restoreErrorRow:function(e){var t=this.getController("editing");t&&t.hasChanges()&&this._getRowElements(e).each((function(e,n){var o=(0,i.default)(n).data("options");if(o){var r=t.getChangeByKey(o.key);r&&t._showErrorRow(r)}}))},_updateContent:function(t,n){var i,o=this,r=o._findContentElement(),a=n&&n.changeType;if("append"===a||"prepend"===a){var s=r.children().first(),l=o._getBodies(t);o.option("legacyRendering")||1!==l.length?l["append"===a?"appendTo":"prependTo"](s):o._getBodies(s)["append"===a?"append":"prepend"](l.children()),t.remove(),i=o._getFreeSpaceRowElements(s),e(i,w),n.removeCount&&o._removeRowsElements(s,n.removeCount,a),o._restoreErrorRow(s)}else o.callBase.apply(o,arguments);o._updateBottomLoading()},_addVirtualRow:function(e,t,n,i){if(i){var o=this._createEmptyRow(b,t,i);o=this._wrapRowIfNeed(e,o),this._appendEmptyRow(e,o,n)}},_updateContentPosition:function(t){var n=this,o=n._dataController,a=n._rowHeight||20;if(o.viewportItemSize(a),n.option("legacyRendering")||!D(n)&&!O(n))(0,r.deferUpdate)((function(){n._updateContentPositionCore()}));else{if(!t){var s=n._getRowElements(n._tableElement).toArray().map((function(e){return(0,p.getBoundingRect)(e).height}));o.setContentSize(s)}var l=o.getContentOffset("begin"),d=o.getContentOffset("end"),u=n.getTableElements(),c=u.children("tbody").children("."+b);e(c,b),u.each((function(e){var t=e>0;n._isFixedTableRendering=t,n._addVirtualRow((0,i.default)(this),t,"top",l),n._addVirtualRow((0,i.default)(this),t,"bottom",d),n._isFixedTableRendering=!1}))}},_updateContentPositionCore:function(){var e,t,n,i=this,o=i._rowHeight||20,a=i._dataController.virtualItemsCount();if(a){var s=i._findContentElement();t=s.children(),n=t.eq(0);var l=t.eq(1);i._contentTableHeight=n[0].offsetHeight,i._dataController.viewportItemSize(o),i._dataController.setContentSize(i._contentTableHeight),e=i._dataController.getVirtualContentSize();var d=i._dataController.getContentOffset();(0,r.deferRender)((function(){(0,u.move)(n,{left:0,top:d});var t=i._contentHeight!==e||0===e||!i._isTableLinesDisplaysCorrect(l)||!i._isColumnElementsEqual(n.find("col"),l.find("col"));t&&(i._contentHeight=e,i._renderVirtualTableContent(l,e))}))}},_isTableLinesDisplaysCorrect:function(e){var t=e.find("."+x).length>0;return t===this.option("showColumnLines")},_isColumnElementsEqual:function(e,t){var n=e.length===t.length;return n&&(0,l.each)(e,(function(e,i){if(i.style.width!==t[e].style.width)return n=!1,n})),n},_renderVirtualTableContent:function(e,t){for(var n=this,i=n._columnsController.getVisibleColumns(),o=n._createColGroup(i).prop("outerHTML"),r="",a=n.option("showColumnLines")?x:"",s=function(e){return"<tr style='height:"+e+"px;' class='"+w+" "+C+" "+a+"' >"+r+"</tr>"},l=0;l<i.length;l++){var d=n._getCellClasses(i[l]),u=d.length?" class='"+d.join(" ")+"'":"";r+="<td"+u+"/>"}while(t>k)o+=s(k),t-=k;o+=s(t),e.addClass(n.addWidgetPrefix(g)),e.html(o)},_getCellClasses:function(e){var t=[],n=e.cssClass,i="expand"===e.command;return n&&t.push(n),i&&t.push(this.addWidgetPrefix(_)),t},_findBottomLoadPanel:function(e){var t=e||this.element(),n=t&&t.find("."+this.addWidgetPrefix(m));if(n&&n.length)return n},_updateBottomLoading:function(){var e=this,t=e.option("scrolling.mode"),n=t===I,o=t===T,r=!e._dataController.hasKnownLastPage()&&e._dataController.isLoaded()&&(n||o),a=e._findContentElement(),s=e._findBottomLoadPanel(a);r?s||(0,i.default)("<div>").addClass(e.addWidgetPrefix(m)).append(e._createComponent((0,i.default)("<div>"),c.default).$element()).appendTo(a):s&&s.remove()},_handleScroll:function(e){var t=this;t._hasHeight&&t._rowHeight&&t._dataController.setViewportPosition(e.scrollOffset.top),t.callBase.apply(t,arguments)},_needUpdateRowHeight:function(e){var t=this;return t.callBase.apply(t,arguments)||e>0&&t.option("scrolling.mode")===T&&t.option("scrolling.rowRenderingMode")!==I},_updateRowHeight:function(){var e=this;if(e.callBase.apply(e,arguments),e._rowHeight){e._updateContentPosition();var t=e._hasHeight?e.element().outerHeight():(0,i.default)((0,o.getWindow)()).outerHeight();e._dataController.viewportSize(Math.ceil(t/e._rowHeight))}},updateFreeSpaceRowHeight:function(){var e=this.callBase.apply(this,arguments);return e&&this._updateContentPosition(),e},setLoading:function(e,t){var n=this,i=n.callBase,o=n._dataController,r=o.pageIndex()>0&&o.isLoaded()&&!!n._findBottomLoadPanel();r&&(e=!1),i.call(n,e,t)},_resizeCore:function(){var e=this,t=e.element();e.callBase(),e.component.$element()&&!e._windowScroll&&t.closest((0,o.getWindow)().document).length&&(e._windowScroll=(0,a.subscribeToExternalScrollers)(t,(function(t){!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(t)}),e.component.$element()),e.on("disposing",(function(){e._windowScroll.dispose()}))),e.loadIfNeed()},loadIfNeed:function(){var e=this._dataController;e&&e.loadIfNeed&&e.loadIfNeed()},setColumnWidths:function(e){var t,n=this.getScrollable();this.callBase.apply(this,arguments),"virtual"===this.option("scrolling.mode")&&(t=n?n.$content():this.element(),this.callBase(e,t.children("."+this.addWidgetPrefix(y)).children(":not(."+this.addWidgetPrefix(v)+")")))},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),A={defaultOptions:function(){return{scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1}}},extenders:{dataSourceAdapter:P,controllers:{data:function(){var e={_refreshDataSource:function(){var e=this.callBase.apply(this,arguments)||(new d.Deferred).resolve().promise();return e.done(this.initVirtualRows.bind(this)),e},getRowPageSize:function(){var e=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<e?t:e},_applyFilter:function(){return this.setViewportPosition(0),this.callBase.apply(this,arguments)},reload:function(){var e=this,t=e._rowsScrollController||e._dataSource,n=t&&t.getItemIndexByPosition(),o=this.callBase.apply(this,arguments);return o&&o.done((function(){if(D(e)||O(e)){var t=e.getRowIndexOffset(),o=Math.floor(n)-t,r=e.component,a=r.getScrollable&&r.getScrollable(),s=e.dataSource().operationTypes().sorting;if(a&&!e.option("legacyRendering")&&!s){var l=r.getRowElement(o),d=l&&l[0]&&(0,i.default)(l[0]),u=d&&d.position().top,c=h.default.mozilla||h.default.msie?1:0;u>c&&(u=Math.round(u+d.outerHeight()*(n%1)),a.scrollTo({y:u}))}}}))},initVirtualRows:function(){var e=this,t=O(e);if("virtual"!==e.option("scrolling.mode")&&!0!==t||!1===t||e.option("legacyRendering")||!e.option("scrolling.rowPageSize"))return e._visibleItems=null,void(e._rowsScrollController=null);e._rowPageIndex=Math.ceil(e.pageIndex()*e.pageSize()/e.getRowPageSize()),e._visibleItems=[];var n=function(t){return"data"===t.rowType&&!t.isNewRow||"group"===t.rowType&&e._dataSource.isGroupItemCountable(t.data)};e._rowsScrollController=new a.VirtualScrollController(e.component,{pageSize:function(){return e.getRowPageSize()},totalItemsCount:function(){return D(e)?e.totalItemsCount():e._items.filter(n).length},hasKnownLastPage:function(){return!0},pageIndex:function(t){return void 0!==t&&(e._rowPageIndex=t),e._rowPageIndex},isLoading:function(){return e.isLoading()},pageCount:function(){var e=Math.ceil(this.totalItemsCount()/this.pageSize());return e||1},load:function(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!e._rowsScrollController._dataSource.items().length&&this.totalItemsCount()||e._rowsScrollController.handleDataChanged((function(t){t=t||{},t.changeType=t.changeType||"refresh",t.items=t.items||e._visibleItems,e._visibleItems.forEach((function(e,t){e.rowIndex=t})),e._fireChanged(t)}))},updateLoading:function(){},itemsCount:function(){return e._rowsScrollController._dataSource.items().filter(n).length},correctCount:function(e,t,i){return M(e,t,i,(function(e,t,i){return e.isNewRow?t&&!i:t&&i?!e.isNewRow:n(e)}))},items:function(t){var i=e.dataSource(),o=i&&i.virtualItemsCount(),r=o?o.begin:0,a=e.getRowPageSize(),s=e._rowPageIndex*a-r,l=a,d=e._items;return s<0?[]:(s&&(s=this.correctCount(d,s),d=d.slice(s)),l&&(l=this.correctCount(d,l),d=d.slice(0,l)),t?d.filter(n):d)},viewportItems:function(t){return t&&(e._visibleItems=t),e._visibleItems},onChanged:function(){},changingDuration:function(t){var n=e.dataSource();return n.isLoading()?E:(null===n||void 0===n?void 0:n._renderTime)||0}},!0),e._rowsScrollController.positionChanged.add((function(){var t;null===(t=e._dataSource)||void 0===t||t.setViewportItemIndex(e._rowsScrollController.getViewportItemIndex())})),e.isLoaded()&&e._rowsScrollController.load()},_updateItemsCore:function(e){var t=this,n=this.getRowIndexDelta();this.callBase.apply(this,arguments);var i=this._rowsScrollController;if(i){var o=this._visibleItems,r="refresh"===e.changeType||e.isLiveUpdate;if("append"===e.changeType&&e.items&&!e.items.length)return;r||"append"===e.changeType||"prepend"===e.changeType?(e.cancel=!0,r&&i.reset(!0),i.load()):("update"===e.changeType?e.rowIndices.forEach((function(t,n){var i=e.changeTypes[n],r=e.items[n];"update"===i?o[t]=r:"insert"===i?o.splice(t,0,r):"remove"===i&&o.splice(t,1)})):(o.forEach((function(e,i){o[i]=t._items[i+n]||o[i]})),e.items=o),o.forEach((function(e,t){e.rowIndex=t})))}},_applyChange:function(e){var t=this,n=e.items,i=e.changeType,o=e.removeCount;if(o){var r="prepend"===i;o=M(t._items,o,r,(function(e,n){return"data"===e.rowType&&!e.isNewRow||"group"===e.rowType&&(t._dataSource.isGroupItemCountable(e.data)||n)})),e.removeCount=o}switch(i){case"prepend":t._items.unshift.apply(t._items,n),o&&t._items.splice(-o);break;case"append":t._items.push.apply(t._items,n),o&&t._items.splice(0,o);break;default:t.callBase(e)}},items:function(e){return e?this._items:this._visibleItems||this._items},getRowIndexDelta:function(){var e=this._visibleItems,t=0;return e&&e[0]&&(t=this._items.indexOf(e[0])),t<0?0:t},getRowIndexOffset:function(e){var t=0,n=this.dataSource(),i=this._rowsScrollController;return i&&!e?t=i.beginPageIndex()*i._dataSource.pageSize():"virtual"===this.option("scrolling.mode")&&n&&(t=n.beginPageIndex()*n.pageSize()),t},viewportSize:function(){var e=this._rowsScrollController;e&&e.viewportSize.apply(e,arguments);var t=this._dataSource;return t&&t.viewportSize.apply(t,arguments)},viewportItemSize:function(){var e=this._rowsScrollController;e&&e.viewportItemSize.apply(e,arguments);var t=this._dataSource;return t&&t.viewportItemSize.apply(t,arguments)},setViewportPosition:function(){var e=this._rowsScrollController,t=this._dataSource;e?e.setViewportPosition.apply(e,arguments):null===t||void 0===t||t.setViewportPosition.apply(t,arguments)},setContentSize:function(e){var t=this._rowsScrollController;t&&t.setContentSize(e);var n=this._dataSource;return n&&n.setContentSize(e)},loadIfNeed:function(){var e=this._rowsScrollController;e&&e.loadIfNeed();var t=this._dataSource;return t&&t.loadIfNeed()},getItemSize:function(){var e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSize.apply(t,arguments)},getItemSizes:function(){var e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);var t=this._dataSource;return t&&t.getItemSizes.apply(t,arguments)},getContentOffset:function(){var e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);var t=this._dataSource;return t&&t.getContentOffset.apply(t,arguments)},refresh:function(e){var t=this._dataSource;return t&&e&&e.load&&R(this)&&t.resetCurrentTotalCount(),this.callBase.apply(this,arguments)},dispose:function(){var e=this._rowsScrollController;e&&e.dispose(),this.callBase.apply(this,arguments)}};return s.default.proxyMethod(e,"virtualItemsCount"),s.default.proxyMethod(e,"getVirtualContentSize"),s.default.proxyMethod(e,"setViewportItemIndex"),e}(),resizing:{resize:function(){var e,t=this,n=t.callBase;if(t.option("legacyRendering")||!D(t)&&!O(t))e=n.apply(t);else{clearTimeout(t._resizeTimeout);var i=new Date-t._lastTime,o=t.option("scrolling.updateTimeout");t._lastTime&&i<o?(e=new d.Deferred,t._resizeTimeout=setTimeout((function(){n.apply(t).done(e.resolve).fail(e.reject),t._lastTime=new Date}),o),t._lastTime=new Date):(e=n.apply(t),t._dataController.isLoaded()&&(t._lastTime=new Date))}return e},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._resizeTimeout)}}},views:{rowsView:V}}};t.default=A,e.exports=t.default},d913:function(e,t,n){"use strict";t.default=void 0;var i=c(n("14a3")),o=c(n("1981")),r=n("d4b2"),a=c(n("77e91")),s=c(n("8a64")),l=c(n("367c")),d=c(n("205e")),u=n("62df");function c(e){return e&&e.__esModule?e:{default:e}}var h=o.default.View.inherit({_renderCore:function(){this._updatePopupOptions()},_updatePopupOptions:function(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()},_disposePopup:function(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)},_initPopup:function(){var e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),d.default,(0,r.extend)({title:s.default.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:function(t){return e._getPopupContentTemplate(t)},onOptionChanged:function(t){"visible"===t.name&&e.option("filterBuilderPopup.visible",t.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden:function(t){(0,u.restoreFocus)(e),e._disposePopup()}}))},_getPopupContentTemplate:function(e){var t=(0,i.default)(e),n=(0,i.default)("<div>").appendTo((0,i.default)(e));this._filterBuilder=this._createComponent(n,a.default,(0,r.extend)({value:this.option("filterValue"),fields:this.getController("columns").getFilteringColumns()},this.option("filterBuilder"),{customOperations:this.getController("filterSync").getCustomFilterOperations()})),this._createComponent(t,l.default,{direction:"both"})},_getPopupToolbarItems:function(){var e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:s.default.format("OK"),onClick:function(t){var n=e._filterBuilder.option("value");e.option("filterValue",n),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:s.default.format("Cancel"),onClick:function(t){e._filterBuilderPopup.hide()}}}]},optionChanged:function(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:this.callBase(e)}}}),p={defaultOptions:function(){return{filterBuilder:{groupOperationDescriptions:{and:s.default.format("dxFilterBuilder-and"),or:s.default.format("dxFilterBuilder-or"),notAnd:s.default.format("dxFilterBuilder-notAnd"),notOr:s.default.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:s.default.format("dxFilterBuilder-filterOperationBetween"),equal:s.default.format("dxFilterBuilder-filterOperationEquals"),notEqual:s.default.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:s.default.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:s.default.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:s.default.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:s.default.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:s.default.format("dxFilterBuilder-filterOperationStartsWith"),contains:s.default.format("dxFilterBuilder-filterOperationContains"),notContains:s.default.format("dxFilterBuilder-filterOperationNotContains"),endsWith:s.default.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:s.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:s.default.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}},views:{filterBuilderView:h}};t.default=p,e.exports=t.default},db7c:function(e,t,n){"use strict";t.default=void 0;var i=o(n("25cc"));function o(e){return e&&e.__esModule?e:{default:e}}var r=i.default;t.default=r,e.exports=t.default,e.exports.default=e.exports},dbb2:function(e,t,n){"use strict";t.default=void 0;var i=n("b62d"),o=u(n("1981")),r=n("ba1a"),a=u(n("0fc0")),s=u(n("f12e")),l=u(n("0093")),d=n("e890");function u(e){return e&&e.__esModule?e:{default:e}}var c=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"],h="include",p="exclude";function f(e){return e.dataField||e.name}function g(e){e.forEach((function(e){var t=f(e);if(!(0,i.isDefined)(t)&&e.allowFiltering)throw new a.default.Error("E1049",e.caption)}))}var m=o.default.Controller.inherit(function(){var e=function(){return{filterType:h,filterValues:void 0}},t=function(e){return!l.default.getGroupInterval(e)&&!(e.headerFilter&&e.headerFilter.dataSource)},n=function(n,i){if(!n)return e();var o,r=n[1],a=n[2],s=Array.isArray(a);if(!s&&!t(i))return e();switch(r){case"anyof":case"=":o=h;break;case"noneof":case"<>":o=p;break;default:return e()}return{filterType:o,filterValues:s?a:[a]}},o=function(e){var t=e.filterValue;if((0,i.isDefined)(t)){var n=e.selectedFilterOperation||e.defaultFilterOperation||(0,r.getDefaultOperation)(e),o=[f(e),n,e.filterValue];return o}return null},a=function(e){var n,i,o=e.filterValues;return o?(t(e)&&1===e.filterValues.length&&!Array.isArray(o[0])?(n=e.filterType===p?"<>":"=",i=o[0]):(n=e.filterType===p?"noneof":"anyof",i=o),[f(e),n,i]):null},s=function(e,t,i){var o=n(i,t);e.columnOption(f(t),o)},u=function(e,t,n){var o,r=n&&n[1],a=t.filterOperations||t.defaultFilterOperations;(!a||a.indexOf(r)>=0||r===t.defaultFilterOperation)&&c.indexOf(r)>=0?(r!==t.defaultFilterOperation||(0,i.isDefined)(t.selectedFilterOperation)||(r=t.selectedFilterOperation),o={filterValue:n[2],selectedFilterOperation:r}):o={filterValue:void 0,selectedFilterOperation:void 0},e.columnOption(f(t),o)};return{syncFilterValue:function(){var e=this,t=e.getController("columns"),n=t.getFilteringColumns();this._skipSyncColumnOptions=!0,n.forEach((function(n){var o=(0,r.getMatchedConditions)(e.option("filterValue"),f(n));if(1===o.length){var a=o[0];s(t,n,a),u(t,n,a)}else(0,i.isDefined)(n.filterValues)&&s(t,n),(0,i.isDefined)(n.filterValue)&&u(t,n)})),this._skipSyncColumnOptions=!1},_initSync:function(){var e=this.getController("columns").getColumns(),t=this.getController("data"),n=t.pageIndex();if(g(e),!this.option("filterValue")){var i=this.getController("columns").getFilteringColumns(),o=this.getFilterValueFromColumns(i);this.option("filterValue",o)}this.syncFilterValue(),t.pageIndex(n)},init:function(){var e=this,t=this.getController("data");t.isFilterSyncActive()&&(this.getController("columns").isAllDataTypesDefined()?this._initSync():t.dataSourceChanged.add((function(){return e._initSync()})))},_getSyncFilterRow:function(e,t){var n=o(t);return(0,i.isDefined)(n)?(0,r.syncFilters)(e,n):(0,r.removeFieldConditionsFromFilter)(e,f(t))},_getSyncHeaderFilter:function(e,t){var n=a(t);return n?(0,r.syncFilters)(e,n):(0,r.removeFieldConditionsFromFilter)(e,f(t))},getFilterValueFromColumns:function(e){if(!this.getController("data").isFilterSyncActive())return null;var t=["and"];return e&&e.forEach((function(e){var n=a(e),i=o(e);n&&(0,r.addItem)(n,t),i&&(0,r.addItem)(i,t)})),(0,r.getNormalizedFilter)(t)},syncFilterRow:function(e,t){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),e))},syncHeaderFilter:function(e){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),e))},getCustomFilterOperations:function(){var e=this.option("filterBuilder.customOperations")||[];return[(0,d.anyOf)(this.component),(0,d.noneOf)(this.component)].concat(e)},publicMethods:function(){return["getCustomFilterOperations"]}}}()),v={isFilterSyncActive:function(){var e=this.option("filterSyncEnabled");return"auto"===e?this.option("filterPanel.visible"):e},skipCalculateColumnFilters:function(){return(0,i.isDefined)(this.option("filterValue"))&&this.isFilterSyncActive()},_calculateAdditionalFilter:function(){var e=this;if(!1===e.option("filterPanel.filterEnabled"))return e.callBase();var t=[e.callBase()],n=e.getController("columns").getFilteringColumns(),i=e.option("filterValue");if(e.isFilterSyncActive()){var o=e.getController("headerFilter").getCurrentColumn();o&&i&&(i=(0,r.removeFieldConditionsFromFilter)(i,f(o)))}var a=e.getController("filterSync").getCustomFilterOperations(),l=(0,r.getFilterExpression)(i,n,a,"filterBuilder");return l&&t.push(l),s.default.combineFilters(t)},_parseColumnPropertyName:function(e){var t=e.match(/.*\.(.*)/);return t[1]},clearFilter:function(e){this.component.beginUpdate(),arguments.length>0?("filterValue"===e&&this.option("filterValue",null),this.callBase(e)):(this.option("filterValue",null),this.callBase()),this.component.endUpdate()},optionChanged:function(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this.getController("filterSync").syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){var t=this.getController("columns").getColumnByPath(e.fullName),n=this.getController("filterSync");if(t&&!n._skipSyncColumnOptions){var i=this._parseColumnPropertyName(e.fullName);n._skipSyncColumnOptions=!0,"filterType"===i?p!==e.value&&p!==e.previousValue||n.syncHeaderFilter(t):"filterValues"===i?n.syncHeaderFilter(t):["filterValue","selectedFilterOperation"].indexOf(i)>-1&&n.syncFilterRow(t,t.filterValue),n._skipSyncColumnOptions=!1}}this.callBase(e);break;default:this.callBase(e)}}},_={_isHeaderFilterEmpty:function(e){return this.getController("data").isFilterSyncActive()?!(0,r.filterHasField)(this.option("filterValue"),f(e)):this.callBase(e)},_needUpdateFilterIndicators:function(){return!this.getController("data").isFilterSyncActive()},optionChanged:function(e){"filterValue"===e.name?this._updateHeaderFilterIndicators():this.callBase(e)}},y={defaultOptions:function(){return{filterValue:null,filterSyncEnabled:"auto"}},controllers:{filterSync:m},extenders:{controllers:{data:v},views:{columnHeadersView:_}}};t.default=y,e.exports=t.default},df12:function(e,t,n){"use strict";t.default=void 0;var i=C(n("14a3")),o=C(n("8de2")),r=C(n("e6aa")),a=n("4ecb"),s=C(n("0fa5")),l=n("2809"),d=n("ce5d"),u=n("b62d"),c=n("d4b2"),h=n("5c27"),p=C(n("4f86")),f=C(n("8a64")),g=C(n("cc156")),m=C(n("3c1d")),v=C(n("71aa")),_=n("1820"),y=n("62df");function C(e){return e&&e.__esModule?e:{default:e}}var w=4,x="dx-pager",b="dx-page",T="."+b,I="dx-pages",S="dx-light-mode",k="dx-light-pages",E="dx-page-index",D="dx-pages-count",R="dx-selection",O="dx-separator",M="dx-page-sizes",P="dx-page-size",V="."+P,A="dx-navigate-button",F="dx-prev-button",B="dx-next-button",N="dx-info",L="dx-info-text",H="dx-button-disable",W=r.default.inherit({ctor:function(e,t){var n=this;n.index=t,n._$page=(0,i.default)("<div>").text(e).addClass(b)},value:function(e){var t=this;if(!(0,u.isDefined)(e)){var n=t._$page.text();return(0,u.isNumeric)(n)?parseInt(n):n}t._$page.text(e)},element:function(){return this._$page},select:function(e){this._$page.toggleClass(R,e)},render:function(e,t){t?this._$page.prependTo(e):this._$page.appendTo(e)}}),z=g.default.inherit({_getDefaultOptions:function(){return(0,c.extend)(this.callBase(),{visible:!0,pagesNavigatorVisible:"auto",pageIndex:1,maxPagesCount:10,pageCount:10,totalCount:0,pageSize:5,showPageSizes:!0,pageSizes:[5,10],hasKnownLastPage:!0,showNavigationButtons:!1,showInfo:!1,infoText:f.default.getFormatter("dxPager-infoText"),pagesCountText:f.default.getFormatter("dxPager-pagesCountText"),rtlEnabled:!1,lightModeEnabled:!1,pageIndexChanged:l.noop,pageSizeChanged:l.noop})},_toggleVisibility:function(e){var t=this.$element();t&&t.css("display",e?"":"none")},_getPages:function(e,t){var n,i,o=[],r=!this.option("hasKnownLastPage");if(t>0||r)if(t<=this.option("maxPagesCount")){for(i=1;i<=t;i++)o.push(new W(i,i-1));r&&o.push(new W(">",i-1))}else{for(o.push(new W(1,0)),n=e?e.value()-e.index:1,i=1;i<=w;i++)o.push(new W(n+i,i));o.push(new W(t,w+1)),r&&o.push(new W(">",w+1))}return o},_getPageByValue:function(e){var t,n,i=this;for(n=0;n<i._pages.length;n++)if(t=i._pages[n],t.value()===e)return t},_processSelectedPage:function(e,t,n){var i,o=this,r=!1;o._pages&&((0,d.each)(o._pages,(function(e,n){t===n.value()&&(r=!0)})),r||(o.selectedPage=null)),(0,u.isDefined)(o.selectedPage)?t===n&&n>e&&o.selectedPage.index!==w+1&&(o.selectedPage.index=w+1):t>w&&t<n&&(i=n-w<t?w-(n-t)+1:2,o.selectedPage=new W(t,i))},_selectPageByValue:function(e){var t,n,i,o=this,r=o._getPageByValue(e),a=o._pages,s=a.length;if((0,u.isDefined)(r)){var l=o._pages[r.index-1];if(n=o._pages[r.index+1],n&&">"===n.value()&&(i=n,n=void 0,s--,a.pop()),o.selectedPage&&o.selectedPage.select(!1),r.select(!0),o.selectedPage=r,n&&n.value()-e>1)if(0!==r.index)for(l.value(e+1),o._pages.splice(r.index,1),o._pages.splice(r.index-1,0,r),o._pages[r.index].index=r.index,r.index=r.index-1,t=r.index-1;t>0;t--)o._pages[t].value(o._pages[t+1].value()-1);else for(t=0;t<s-1;t++)o._pages[t].value(t+1);if(l&&e-l.value()>1)if(r.index!==s-1)for(n.value(e-1),o._pages.splice(r.index,1),o._pages.splice(r.index+1,0,r),o._pages[r.index].index=r.index,r.index=r.index+1,t=r.index+1;t<s-1;t++)o._pages[t].value(o._pages[t-1].value()+1);else for(t=1;t<=s-2;t++)o._pages[s-1-t].value(o._pages[s-1].value()-t);i&&a.push(i)}},_updatePagesTabIndices:function(){var e=this,t=this.selectedPage._$page,n=function n(){var r=(0,i.default)(e.element()).find("[role=button]:not(.dx-button-disable)");(0,d.each)(r,(function(e,t){return(0,i.default)(t).attr("tabindex",0)})),o.default.off(t,"focus",n)};o.default.on(t,"focus",n)},_nextPage:function(e){var t=this.option("pageIndex"),n=this.option("pageCount");(0,u.isDefined)(t)&&(t="next"===e?++t:--t,t>0&&t<=n&&this.option("pageIndex",t))},_wrapClickAction:function(e){var t=this;return function(n){if("dxpointerup"===n.type)t._pointerUpHappened=!0;else if(t._pointerUpHappened)return void(t._pointerUpHappened=!1);e({event:n})}},_renderPages:function(e){var t,n,r=this,a=e.length,s=r._createAction((function(e){var t=e.event,n=(0,i.default)(t.target).text(),o=">"===n?r.option("pageCount")+1:Number(n);r.option("pageIndex",o)}));a>1&&(r._pageClickHandler=this._wrapClickAction(s),o.default.on(r._$pagesChooser,(0,_.addNamespace)([p.default.up,h.name],r.Name+"Pages"),T,r._pageClickHandler),(0,y.registerKeyboardAction)("pager",r,r._$pagesChooser,T,s));for(var l=0;l<a;l++)n=e[l],n.render(r._$pagesChooser,r.option("rtlEnabled")),r.setAria({role:"button",label:"Page "+n.value()},n.element()),(0,y.setTabIndex)(r,n.element()),e[l+1]&&e[l+1].value()-n.value()>1&&(t=(0,i.default)("<div>").text(". . .").addClass(O),r.option("rtlEnabled")?t.prependTo(r._$pagesChooser):t.appendTo(r._$pagesChooser))},_calculateLightPagesWidth:function(e,t){return Number(e.css("minWidth").replace("px",""))+10*t.toString().length},_renderLightPages:function(){var e=this,t=this.option("pageCount"),n=this.option("pageIndex"),r=e._createAction((function(){e.option("pageIndex",t)})),a=this.option("pagesCountText"),s=(0,i.default)("<div>").addClass(k).appendTo(this._$pagesChooser),l=(0,i.default)("<div>").addClass(E).appendTo(s);e._pageIndexEditor=e._createComponent(l,v.default,{value:n,min:1,max:t,width:e._calculateLightPagesWidth(l,t),onValueChanged:function(t){null!==t.value&&e.option("pageIndex",t.value)}}),(0,i.default)("<span>").text(a).addClass(L+" "+N).appendTo(s);var d=(0,i.default)("<span>").addClass(D).text(t);o.default.on(d,(0,_.addNamespace)(h.name,e.Name+"PagesCount"),(function(e){r({event:e})})),(0,y.registerKeyboardAction)("pager",e,d,void 0,r),d.appendTo(s),e.setAria({role:"button",label:"Navigates to the last page"},d)},_renderPagesChooser:function(){var e=this,t=e.option("lightModeEnabled"),n=e.option("pagesNavigatorVisible"),o=e.$element();e._$pagesChooser&&e._$pagesChooser.remove(),n&&(e._pages&&0===e._pages.length?e.selectedPage=null:(e._$pagesChooser=(0,i.default)("<div>").addClass(I).appendTo(o),"auto"===n&&e._$pagesChooser.css("visibility",1===e.option("pageCount")?"hidden":""),t||e._renderInfo(),e._renderNavigateButton("prev"),t?e._renderLightPages():e._renderPages(e._pages),e._renderNavigateButton("next"),e._updatePagesChooserWidth()))},_renderPageSizes:function(){var e,t,n,r=this,a=r.option("pageSizes"),s=a&&a.length,l=r.option("pageSize"),d=r._createAction((function(e){var n=e.event;t=parseInt((0,i.default)(n.target).text()),r.option("pageSize",t)}));for(o.default.on(r._$pagesSizeChooser,(0,_.addNamespace)(h.name,r.Name+"PageSize"),V,(function(e){d({event:e})})),(0,y.registerKeyboardAction)("pager",r,r._$pagesSizeChooser,V,d),e=0;e<s;e++)n=(0,i.default)("<div>").text(a[e]).addClass(P),r.setAria({role:"button",label:"Display "+a[e]+" items on page"},n),(0,y.setTabIndex)(r,n),l===a[e]&&n.addClass(R),r._$pagesSizeChooser.append(n)},_calculateLightPageSizesWidth:function(e){return Number(this._$pagesSizeChooser.css("minWidth").replace("px",""))+10*Math.max.apply(Math,e).toString().length},_renderLightPageSizes:function(){var e=this,t=e.option("pageSizes"),n=(0,i.default)("<div>").appendTo(e._$pagesSizeChooser);e._pageSizeEditor=e._createComponent(n,m.default,{dataSource:t,value:e.option("pageSize"),onSelectionChanged:function(t){e.option("pageSize",t.selectedItem)},width:e._calculateLightPageSizesWidth(t)})},_renderPagesSizeChooser:function(){var e=this,t=e.option("pageSizes"),n=e.option("showPageSizes"),o=t&&t.length,r=e.$element();e._$pagesSizeChooser&&e._$pagesSizeChooser.remove(),n&&o&&(e._$pagesSizeChooser=(0,i.default)("<div>").addClass(M).appendTo(r),e.option("lightModeEnabled")?e._renderLightPageSizes():e._renderPageSizes(),e._pagesSizeChooserWidth=e._$pagesSizeChooser.width())},_renderInfo:function(){var e=this.option("infoText");this.option("showInfo")&&(0,u.isDefined)(e)&&(this._$info=(0,i.default)("<div>").css("display",this._isInfoHide?"none":"").addClass(N).text((0,a.format)(e,this.selectedPage&&this.selectedPage.value(),this.option("pageCount"),this.option("totalCount"))).appendTo(this._$pagesChooser),this._isInfoHide||(this._infoWidth=this._$info.outerWidth(!0)))},_renderNavigateButton:function(e){var t,n=this,r=n._createAction((function(){n._nextPage(e)}));(n.option("showNavigationButtons")||n.option("lightModeEnabled"))&&(t=(0,i.default)("<div>").addClass(A),o.default.on(t,(0,_.addNamespace)([p.default.up,h.name],n.Name+"Pages"),n._wrapClickAction(r)),(0,y.registerKeyboardAction)("pager",n,t,void 0,r),n.setAria({role:"button",label:"prev"===e?"Previous page":" Next page"},t),(0,y.setTabIndex)(n,t),n.option("rtlEnabled")?(t.addClass("prev"===e?B:F),t.prependTo(this._$pagesChooser)):(t.addClass("prev"===e?F:B),t.appendTo(this._$pagesChooser)))},_renderContentImpl:function(){this.$element().toggleClass(S,this.option("lightModeEnabled")),this._toggleVisibility(this.option("visible")),this._updatePageSizes(!0),this._updatePages(!0),(0,y.restoreFocus)(this)},_initMarkup:function(){var e=this.$element();e.addClass(x);var t=(0,i.default)("<div>").addClass(b);this._$pagesChooser=(0,i.default)("<div>").addClass(I).append(t).appendTo(e)},_render:function(){this.option().lightModeEnabled=!1,this.callBase(),this._updateLightMode()},_updatePageSizes:function(e){var t=this.option("lightModeEnabled"),n=this.option("pageSize"),i=this.option("pageSizes");t&&this._pageSizeEditor&&this._pageSizeEditor.option({value:n,dataSource:i,width:this._calculateLightPageSizesWidth(i)}),t&&!e||this._renderPagesSizeChooser()},_updatePages:function(e){var t=this.option("pageCount"),n=this.option("pageIndex"),i=this.option("lightModeEnabled");i?this._pageIndexEditor&&this._pageIndexEditor.option({value:n,width:this._calculateLightPagesWidth(this._pageIndexEditor.$element(),t)}):(this._processSelectedPage(this.option("maxPagesCount"),n,t),this._pages=this._getPages(this.selectedPage,t),this._selectPageByValue(n)),i&&!e||this._renderPagesChooser(),this._updateButtonsState(n)},_isPageIndexInvalid:function(e,t){var n="next"===e,i=this.option("rtlEnabled");return i&&n||!i&&!n?t<=1:t>=this.option("pageCount")},_updateButtonsState:function(e){var t=this.$element().find("."+B),n=this.$element().find("."+F);t.toggleClass(H,this._isPageIndexInvalid("next",e)),n.toggleClass(H,this._isPageIndexInvalid("prev",e))},_optionChanged:function(e){switch(e.name){case"visible":this._toggleVisibility(e.value);break;case"pageIndex":var t=this.option("pageIndexChanged");t&&t(e.value),this._updatePages();break;case"maxPagesCount":case"pageCount":case"totalCount":case"hasKnownLastPage":case"pagesNavigatorVisible":case"showNavigationButtons":this._updatePages();break;case"pageSize":var n=this.option("pageSizeChanged");n&&n(e.value),this._updatePageSizes();break;case"pageSizes":this._updatePageSizes();break;case"lightModeEnabled":this._renderContentImpl(),!e.value&&this._updateLightMode();break;default:this._invalidate()}},_clean:function(){this._$pagesChooser&&(o.default.off(this._$pagesChooser,(0,_.addNamespace)([p.default.up,h.name],this.Name+"Pages"),T,this._pageClickHandler),(0,y.registerKeyboardAction)("pager",this,this._$pagesChooser,T,this._pageKeyDownHandler)),this.callBase()},_getMinPagerWidth:function(){var e=(0,u.isDefined)(this._pagesChooserWidth)?this._pagesChooserWidth:0,t=(0,u.isDefined)(this._pagesSizeChooserWidth)?this._pagesSizeChooserWidth:0;return e+t},_updatePagesChooserWidth:(0,l.deferUpdater)((function(){var e=this._pages&&this._pages.length>0?this._pages[this._pages.length-1]._$page.width():0;this._pagesChooserWidth=this._$pagesChooser.width()+e})),_updateLightMode:(0,l.deferUpdater)((function(){var e=this,t=this.$element().width(),n=(0,u.isDefined)(this._infoWidth)?this._infoWidth:0;(0,l.deferRender)((function(){e._isInfoHide&&t>e._getMinPagerWidth()+n&&(e._$info.show(),e._updatePagesChooserWidth(),e._isInfoHide=!1),!e._isInfoHide&&t>e._getMinPagerWidth()-n&&t<e._getMinPagerWidth()&&(e._$info.hide(),e._updatePagesChooserWidth(),e._isInfoHide=!0),(0,l.deferUpdate)((function(){(0,l.deferRender)((function(){e.option("lightModeEnabled")&&t>e._previousWidth?e.option("lightModeEnabled",!1):t<e._getMinPagerWidth()&&e.option("lightModeEnabled",!0),e._previousWidth=t}))}))}))})),_dimensionChanged:function(){this._updateLightMode()},getHeight:function(){return this.option("visible")?this.$element().outerHeight():0}}),K=z;t.default=K,(0,s.default)("dxPager",z),e.exports=t.default},e890:function(e,t,n){"use strict";t.anyOf=c,t.noneOf=h;var i=d(n("14a3")),o=d(n("8a64")),r=n("d4b2"),a=n("fb5d"),s=n("b49b"),l=n("ba1a");function d(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=function(e,t,n){var i=[],o=e.length-1;return e&&e.forEach((function(e,r){if((0,l.isCondition)(e)||(0,l.isGroup)(e)){var a=(0,l.getFilterExpression)(e,n,[],"headerFilter");i.push(a)}else i.push((0,l.getFilterExpression)([t.dataField,"=",e],n,[],"headerFilter"));r!==o&&i.push("or")})),1===i.length&&(i=i[0]),i},n=function(e,t){return t?t+"/"+e:e},o=function e(t,i){var o=[];return t.forEach((function(t){if(t.items){var r=e(t.items,n(t.text,i));o=o.concat(r)}t.selected&&o.push(n(t.text,i))})),o},d=e&&e.getController("headerFilter"),u=function(t){var n=t.value,i=e.columnOption(t.field.dataField),l=i&&i.headerFilter,u=i&&i.lookup;if(l&&l.dataSource||u&&u.dataSource){i=(0,r.extend)({},i,{filterType:"include",filterValues:[n]});var c=d.getDataSource(i);c.paginate=!1;var h=new a.DataSource(c),p=new s.Deferred,f=h.store().key();return f&&h.filter([f,"=",t.value]),h.load().done((function(e){p.resolve(o(e)[0])})),p}var g=d.getHeaderItemText(n,i,0,e.option("headerFilter"));return g};return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:t,editorTemplate:function(t,n){var o=(0,i.default)("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(n),a=(0,r.extend)(!0,{},e.columnOption(t.field.dataField));(0,l.renderValueText)(o,t.text&&t.text.split("|"));var s=function(e){t.setValue(e)};return a.filterType="include",a.filterValues=t.value?t.value.slice():[],d.showHeaderFilterMenuBase({columnElement:o,column:a,apply:function(){s(this.filterValues),d.hideHeaderFilterMenu(),t.closeEditor()},onHidden:function(){t.closeEditor()},isFilterBuilder:!0}),n},customizeText:u}}function c(e){return(0,r.extend)(u(e),{name:"anyof",icon:"selectall",caption:o.default.format("dxFilterBuilder-filterOperationAnyOf")})}function h(e){var t=u(e);return(0,r.extend)({},t,{calculateFilterExpression:function(e,n,i){var o=t.calculateFilterExpression(e,n,i);return o&&0!==o.length?"!"===o[0]?o:["!",o]:null},name:"noneof",icon:"unselectall",caption:o.default.format("dxFilterBuilder-filterOperationNoneOf")})}},ea68:function(e,t,n){"use strict";t.default=void 0;var i=f(n("14a3")),o=f(n("8de2")),r=n("b767"),a=f(n("8a64")),s=f(n("f12e")),l=n("b62d"),d=n("d4b2"),u=n("ce5d"),c=f(n("b876")),h=n("5e04"),p=n("6103");function f(e){return e&&e.__esModule?e:{default:e}}var g="content",m="content-fixed",v="dx-master-detail-cell",_="dx-first-cell",y="dx-last-cell",C="dx-state-hover",w="dx-col-fixed",x="dx-fixed-columns",b="dx-pointer-events-none",T="transparent",I="dx-group-row",S=function(e){var t=-1;return(0,u.each)(e,(function(e,n){if(n.command===T)return t=e,!1})),t},k=function(e,t,n){var i=0;if(e&&t&&n)for(var o=0;o<e.length;o++)e[o].command===T?i+=e[o].colspan:(t[i]<n[o]&&(t[i]=n[o]),i++);return t},E={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(e){return this.callBase(e).toggleClass(w,!(!this._isFixedTableRendering||!(e.fixed||e.command&&e.command!==T)))},_correctColumnIndicesForFixedColumns:function(e,t){var n=S(e),i=e[n].colspan,o=t&&t.columnIndices;o&&(t.columnIndices=o.map((function(e){if(e)return e.map((function(e){return e<n?e:e>=n+i?e-i+1:-1})).filter((function(e){return e>=0}))})))},_renderTable:function(e){var t,n=this,i=n.getFixedColumns();n._isFixedColumns=!!i.length;var o=n.callBase(e);if(n._isFixedColumns){n._isFixedTableRendering=!0;var r=e&&e.change,a=r&&r.columnIndices;n._correctColumnIndicesForFixedColumns(i,r),t=n._createTable(i),n._renderRows(t,(0,d.extend)({},e,{columns:i})),n._updateContent(t,r),a&&(r.columnIndices=a),n._isFixedTableRendering=!1}else n._fixedTableElement&&n._fixedTableElement.parent().remove(),n._fixedTableElement=null;return o},_renderRow:function(e,t){var n,i=t.row.cells;if(this.callBase.apply(this,arguments),this._isFixedTableRendering&&i&&i.length){n=0;var o=t.row.cells||[];i=i.slice(),t.row.cells=i;for(var r=0;r<o.length;r++)o[r].column&&o[r].column.command===T?n=(o[r].column.colspan||1)-1:i[r+n]=o[r]}},_createCell:function(e){var t,n,i,o=this,r=e.column,a=r&&r.command,l=e.rowType,d=o.callBase.apply(o,arguments);(o._isFixedTableRendering||"filter"===l)&&(t=o.getFixedColumns(),i=S(t),n=t[i-1]),o._isFixedTableRendering?a===T&&(d.addClass(b).toggleClass(_,0===i||n&&"expand"===n.command).toggleClass(y,t.length&&i===t.length-1),"freeSpace"!==l&&s.default.setEmptyText(d)):"filter"===l&&d.toggleClass(_,e.columnIndex===i);var u=o.option("rowAlternationEnabled")&&e.isAltRow;return c.default.mozilla&&e.column.fixed&&"group"!==e.rowType&&!u&&d.addClass(w),d},_wrapTableInScrollContainer:function(){var e=this.callBase.apply(this,arguments);return this._isFixedTableRendering&&e.addClass(this.addWidgetPrefix(m)),e},_renderCellContent:function(e,t){var n,i=this,o=t.column,r=i._isFixedTableRendering,a="group"===t.rowType&&(0,l.isDefined)(o.groupIndex);if(r&&a&&!o.command&&!o.groupCellTemplate&&e.css("pointerEvents","none"),!r&&i._isFixedColumns){if(n=o.fixed||o.command&&!1!==o.fixed,a&&(n=!1,t.row.summaryCells&&t.row.summaryCells.length)){var s=i._columnsController.getVisibleColumns(),d=i._getAlignByColumnCellCount?i._getAlignByColumnCellCount(o.colspan,{columns:s,row:t.row,isFixed:!0}):0;if(d>0){var u=S(i._columnsController.getFixedColumns());n=s.length-d<u}}if(n){if(i.option("legacyRendering")||o.command&&"buttons"!==o.type||"group"===t.rowType)return void e.html("&nbsp;").addClass(o.cssClass);e.addClass("dx-hidden-cell")}}o.command!==T&&i.callBase(e,t)},_getCellElementsCore:function(e){var t=this,n=t.callBase(e),i=n.parent().hasClass(I),o="columnHeadersView"===t.name?e:void 0;if(t._fixedTableElement&&n){var r=t.getFixedColumns(o),a=t._getRowElements(t._fixedTableElement).eq(e).children("td");(0,u.each)(a,(function(e,s){if(i)n[e]&&"hidden"!==s.style.visibility&&(n[e]=s);else{var l=r[e];if(l)if(l.command===T)a.eq(e).hasClass(v)&&(n[e]=s||n[e]);else{var d=t._columnsController.getVisibleIndex(l.index,o);n[d]=s||n[d]}}}))}return n},getColumnWidths:function(){var e,t=this,n=t.callBase(),i=t.getFixedColumns();return t._fixedTableElement&&n.length&&(e=t.callBase(t._fixedTableElement)),k(i,n,e)},_getTableElement:function(){var e=this._isFixedTableRendering?this._fixedTableElement:this.callBase();return e},_setTableElement:function(e){this._isFixedTableRendering?this._fixedTableElement=e.addClass(b):this.callBase(e)},getColumns:function(e,t){return t=t||this._getTableElement(),this._isFixedTableRendering||t&&t.closest("table").parent("."+this.addWidgetPrefix(m)).length?this.getFixedColumns(e):this.callBase(e,t)},getRowIndex:function(e){var t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):this.callBase(e)},getTableElements:function(){var e=this.callBase.apply(this,arguments);return this._fixedTableElement&&(e=(0,i.default)([e.get(0),this._fixedTableElement.get(0)])),e},getFixedColumns:function(e){return this._columnsController.getFixedColumns(e)},getFixedColumnsOffset:function(){var e,t={left:0,right:0};if(this._fixedTableElement){e=this.getTransparentColumnElement();var n=e.position();t={left:n.left,right:this.element().outerWidth(!0)-(e.outerWidth(!0)+n.left)}}return t},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find("."+b).first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(e){var t,n=this._columnsController.getVisibleColumns(),i=e.widths,o=i&&i.length&&(0,l.isDefined)(n[0].visibleWidth),r=e.optionNames,a=r&&r.width,s=!1;if(this.callBase.apply(this,arguments),this._fixedTableElement){if(this.option("legacyRendering"))s=i&&i.length&&!this.isScrollbarVisible(!0);else{var u=i&&i.some((function(e){return"auto"===e}));s=u&&(!o||!this.isScrollbarVisible(!0))}s&&(t=n),this.callBase((0,d.extend)({},e,{$tableElement:this._fixedTableElement,columns:t,fixed:!0}))}(o||a&&this.option("wordWrapEnabled"))&&this.synchronizeRows()},_createColGroup:function(e){if(!this.option("legacyRendering")&&this._isFixedTableRendering&&!this.option("columnAutoWidth")){var t=this._columnsController.getVisibleColumns(),n=t.filter((function(e){return!e.width})).length;n&&(e=t)}return this.callBase(e)},_getClientHeight:function(e){var t=e.getBoundingClientRect&&(0,h.getBoundingRect)(e);return t&&t.height?t.height:e.clientHeight},synchronizeRows:function(){var e,t,n,i,o=this,r=[],a=[];if(o._isFixedColumns&&o._tableElement&&o._fixedTableElement){var s=o._getClientHeight(o._tableElement.get(0)),l=o._getClientHeight(o._fixedTableElement.get(0));if(t=o._getRowElements(o._tableElement),n=o._getRowElements(o._fixedTableElement),i=o._findContentElement(),s!==l){for(i&&i.css("height",s),t.css("height",""),n.css("height",""),e=0;e<t.length;e++)r.push(o._getClientHeight(t.get(e))),a.push(o._getClientHeight(n.get(e)));for(e=0;e<t.length;e++){var d=r[e],u=a[e];d>u?n.eq(e).css("height",d):d<u&&t.eq(e).css("height",u)}i&&i.css("height","")}}},setScrollerSpacing:function(e){var t=this.option("rtlEnabled");this.callBase(e),this.element().children("."+this.addWidgetPrefix(m)).css({paddingLeft:t?e:"",paddingRight:t?"":e})}},D=(0,d.extend)({},E,{_getRowVisibleColumns:function(e){return this._isFixedTableRendering?this.getFixedColumns(e):this.callBase(e)},getContextMenuItems:function(e){var t=this,n=e.column,i=t.option("columnFixing"),o=t.callBase(e);if(e.row&&"header"===e.row.rowType&&n&&n.allowFixing){var r=function(e){switch(e.itemData.value){case"none":t._columnsController.columnOption(n.index,"fixed",!1);break;case"left":t._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"left"});break;case"right":t._columnsController.columnOption(n.index,{fixed:!0,fixedPosition:"right"})}};o=o||[],o.push({text:i.texts.fix,beginGroup:!0,items:[{text:i.texts.leftPosition,value:"left",disabled:n.fixed&&(!n.fixedPosition||"left"===n.fixedPosition),onItemClick:r},{text:i.texts.rightPosition,value:"right",disabled:n.fixed&&"right"===n.fixedPosition,onItemClick:r}]},{text:i.texts.unfix,value:"none",disabled:!n.fixed,onItemClick:r})}return o},getFixedColumnElements:function(e){var t=this;if((0,l.isDefined)(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();var n=t.getColumnElements(),i=t.getTransparentColumnElement();if(n&&i&&i.length){var o=S(t.getFixedColumns());n.splice(o,i.get(0).colSpan,i.get(0))}return n},getColumnWidths:function(){var e,t=this,n=t.callBase(),i=t.getFixedColumnElements(),o=t.getFixedColumns();return t._fixedTableElement&&(e=i&&i.length?t._getWidths(i):t.callBase(t._fixedTableElement)),k(o,n,e)}}),R=(0,d.extend)({},E,{_detachHoverEvents:function(){this._fixedTableElement&&o.default.off(this._fixedTableElement,"mouseover mouseout",".dx-data-row"),this._tableElement&&o.default.off(this._tableElement,"mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var e=this,t=function(t){o.default.on(t,"mouseover mouseout",".dx-data-row",e.createAction((function(t){var n=t.event,o=e.getRowIndex((0,i.default)(n.target).closest(".dx-row")),r="mouseover"===n.type;o>=0&&(e._tableElement&&e._getRowElements(e._tableElement).eq(o).toggleClass(C,r),e._fixedTableElement&&e._getRowElements(e._fixedTableElement).eq(o).toggleClass(C,r))})))};e._fixedTableElement&&e._tableElement&&(t(e._fixedTableElement),t(e._tableElement))},_findContentElement:function(){var e,t,n=this,a=n.addWidgetPrefix(g),s=n.element(),l=c.default.mozilla?60:0;if(s&&n._isFixedTableRendering){e=s.children("."+a);var d=n.getScrollable();return!e.length&&d&&(e=(0,i.default)("<div>").addClass(a),o.default.on(e,"scroll",(function(e){clearTimeout(n._fixedScrollTimeout),n._fixedScrollTimeout=setTimeout((function(){t=(0,i.default)(e.target).scrollTop(),d.scrollTo({y:t})}),l)})),o.default.on(e,r.name,(function(e){var o=(0,i.default)(e.target).closest(".dx-scrollable");if(d&&d.$element().is(o)&&(t=d.scrollTop(),d.scrollTo({y:t-e.delta}),d.scrollTop()>0&&d.scrollTop()+d.clientHeight()<d.scrollHeight()+n.getScrollbarWidth()))return!1})),e.appendTo(s)),e}return n.callBase()},_updateScrollable:function(){this.callBase();var e=this.getScrollable(),t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)},_renderContent:function(e,t){return this._isFixedTableRendering?e.empty().addClass(this.addWidgetPrefix(g)+" "+this.addWidgetPrefix(m)).append(t):this.callBase(e,t)},_getGroupCellOptions:function(e){return this._isFixedTableRendering?this.callBase((0,d.extend)({},e,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e)},_renderGroupedCells:function(e,t){return this.callBase(e,(0,d.extend)({},t,{columns:this._columnsController.getVisibleColumns()}))},_renderGroupSummaryCells:function(e,t){this._isFixedTableRendering?this.callBase(e,(0,d.extend)({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(e,t)},_hasAlignByColumnSummaryItems:function(e,t){var n=this.callBase.apply(this,arguments),i=t.columns[e];return t.isFixed?i.fixed&&(n||"right"===i.fixedPosition):n&&!i.fixed},_renderGroupSummaryCellsCore:function(e,t,n,i){var o;if(this._isFixedTableRendering){t.isFixed=!0,o=this._getAlignByColumnCellCount(n,t),t.isFixed=!1;var r=t.columns.length-o;t=(0,d.extend)({},t,{columns:this.getFixedColumns()});var a=S(t.columns);r<a?(o-=t.columns[a].colspan-1||0,n-=t.columns[a].colspan-1||0):i>0&&e.css("visibility","hidden"),i=o}this.callBase(e,t,n,i)},_getSummaryCellIndex:function(e,t){if(this._isFixedTableRendering){var n=S(t);return e>n&&(e+=t[n].colspan-1),e}return this.callBase.apply(this,arguments)},_renderCore:function(e){this._detachHoverEvents(),this.callBase(e);var t=this._isFixedColumns;this.element().toggleClass(x,t),this.option("hoverStateEnabled")&&t&&this._attachHoverEvents()},setRowsOpacity:function(e,t){this.callBase(e,t);var n=this._getRowElements(this._fixedTableElement);this._setRowsOpacityCore(n,this.getFixedColumns(),e,t)},optionChanged:function(e){var t=this;t.callBase(e),"hoverStateEnabled"===e.name&&t._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(e){var t=this._fixedTableElement,n=0;if(t&&e.is("td")&&e.closest(t).length){var i=this.getFixedColumns();return(0,u.each)(i,(function(t,i){if(t===e[0].cellIndex)return!1;i.colspan?n+=i.colspan:n++})),n}return this.callBase.apply(this,arguments)},_updateFixedTablePosition:function(e,t){if(this._fixedTableElement&&this._tableElement){var n,i=this.getController("editorFactory");this._fixedTableElement.parent().scrollTop(e),t&&i&&(n=i.focus(),n&&i.focus(n))}},setScrollerSpacing:function(e,t){var n=this,i={marginBottom:0},o=n.element().children("."+this.addWidgetPrefix(m));if(o.length&&n._fixedTableElement){o.css(i),n._fixedTableElement.css(i),i[n.option("rtlEnabled")?"marginLeft":"marginRight"]=e,i.marginBottom=t;var r=n._scrollable&&n._scrollable.option("useNative");(r?o:n._fixedTableElement).css(i)}},_getElasticScrollTop:function(e){var t=0,n=this.getScrollbarWidth(!0);if(e.scrollOffset.top<0)t=-e.scrollOffset.top;else if(e.reachedBottom){var i=this._findContentElement(),o=e.component._container(),r=Math.max(i.height()+n-o.height(),0);t=r-e.scrollOffset.top}return t},_applyElasticScrolling:function(e){if(this._fixedTableElement){var t=this._getElasticScrollTop(e);0!==Math.ceil(t)?(0,p.move)(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}},_handleScroll:function(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),this.callBase(e)},_updateContentPosition:function(e){this.callBase.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)},_afterRowPrepared:function(e){this._isFixedTableRendering||this.callBase(e)},_scrollToElement:function(e){this.callBase(e,this.getFixedColumnsOffset())},dispose:function(){this.callBase.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}}),O=E,M={defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:a.default.format("dxDataGrid-columnFixingFix"),unfix:a.default.format("dxDataGrid-columnFixingUnfix"),leftPosition:a.default.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:a.default.format("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:D,rowsView:R,footerView:O},controllers:function(){var e=function(e,t,n){var i=S(t),o=e.length-t.length;return(0,u.each)(n,(function(e,t){t.index>i&&(t.columnIndex+=o,t.index+=o)})),n};return{draggingHeader:{_generatePointsByColumns:function(t){var n=t.columns,i=t.targetDraggingPanel;if(i&&"headers"===i.getName()&&i.isFixedColumns()&&t.sourceColumn.fixed){t.rowIndex||(t.columnElements=i.getFixedColumnElements(0)),t.columns=i.getFixedColumns(t.rowIndex);var o=this.callBase(t);return e(n,t.columns,o),o}return this.callBase(t)},_pointCreated:function(e,t,n,i){var o=this.callBase.apply(this,arguments),r=this._columnHeadersView.getTransparentColumnElement();if(!o&&"headers"===n&&r&&r.length){var a=(0,h.getBoundingRect)(r.get(0));return i&&i.fixed?"right"===i.fixedPosition?e.x<a.right:e.x>a.left:e.x<a.left||e.x>a.right}return o}},columnsResizer:{_generatePointsByColumns:function(){var t=this,n=t._columnsController,i=n&&t._columnsController.getVisibleColumns(),o=n&&t._columnsController.getFixedColumns(),r=t._columnHeadersView.getFixedColumnElements(),a=[];t.callBase(),r&&r.length>0&&(a=s.default.getPointsByColumns(r,(function(e){return t._pointCreated(e,r.length,o)})),t._pointsByFixedColumns=e(i,o,a))},_pointCreated:function(e,t,n){var i="widget"===this.option("columnResizingMode");if(e.index>0&&e.index<t){var o=n[e.columnIndex-1]||{},r=n[e.columnIndex]||{};if(o.fixed||r.fixed)return e.columnIndex-=1,!((o.allowResizing||o.command===T)&&(i||r.allowResizing||r.command===T))}return this.callBase.apply(this,arguments)},_getTargetPoint:function(e,t,n){var i=this._columnHeadersView.getTransparentColumnElement();if(i&&i.length){var o=(0,h.getBoundingRect)(i.get(0));if(t<=o.left||t>=o.right)return this.callBase(this._pointsByFixedColumns,t,n)}return this.callBase(e,t,n)}}}}()}};t.default=M,e.exports=t.default},eb7b:function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("ba5b"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("filterPanel",o.default)},ece9:function(e,t,n){"use strict";t.default=void 0;var i=m(n("14a3")),o=m(n("8de2")),r=n("b62d"),a=n("d4b2"),s=n("1820"),l=n("ce5d"),d=m(n("1981")),u=m(n("f12e")),c=m(n("8a64")),h=m(n("2dc8")),p=m(n("b874")),f=m(n("ab8d")),g=n("62df");function m(e){return e&&e.__esModule?e:{default:e}}var v={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},_={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},y=700,C=1,w="filter-row",x="filter-range-overlay",b="filter-range-start",T="filter-range-end",I="dx-menu",S="dx-editor-with-menu",k="dx-editor-container",E="dx-editor-cell",D="dx-filter-menu",R="dx-apply-button",O="dx-highlight-outline",M="dx-focused",P="dx-cell-focus-disabled",V="dx-filter-range-content",A="dx-filter-modified",F="input:not([type='hidden'])",B=["date","datetime","number"];function N(e){return"onClick"===e.option("filterRow.applyFilter")}var L=function(){var e=function(e){var t=e&&e.children(),n=t&&t.data("dxComponents"),i=n&&n.length&&t.data(n[0]);if(i instanceof h.default)return i},t=function(e,t){var i="",o="",a=n(e,t),s=u.default.getFormatOptionsByColumn(t,"filterRow");return Array.isArray(a)?(i=u.default.formatValue(a[0],s),o=u.default.formatValue(a[1],s),""!==o&&(i+=" - "+o)):(0,r.isDefined)(a)&&(i=u.default.formatValue(a,s)),i};function n(e,t){if(t)return N(e)&&void 0!==t.bufferedFilterValue?t.bufferedFilterValue:t.filterValue}var d=function(e,t){if(t)return N(e)&&void 0!==t.bufferedSelectedFilterOperation?t.bufferedSelectedFilterOperation:t.selectedFilterOperation},m=function(e,t){return!(t&&B.indexOf(t.dataType)>=0&&Array.isArray(e))&&void 0!==e},R=function(e,t,i){var o=e._columnsController.columnOption(t),r=n(e,o),a=i.closest("."+e.addWidgetPrefix(x)).length,s=i.hasClass(e.addWidgetPrefix(b));return r&&Array.isArray(r)&&"between"===d(e,o)?s?r[0]:r[1]:!a&&m(r,o)?r:null},O=function(e,t,i,o){if("between"===d(e,i)){var r=n(e,i);return o.hasClass(e.addWidgetPrefix(b))?[t,Array.isArray(r)?r[1]:void 0]:[Array.isArray(r)?r[0]:r,t]}return t},A=function(e,t){var n=""===t.value?null:t.value,i=t.container,o=e._columnsController.columnOption(t.column.index),a=R(e,o.index,i);((0,r.isDefined)(a)||(0,r.isDefined)(n))&&(e._applyFilterViewController.setHighLight(i,a!==n),e._columnsController.columnOption(o.index,N(e)?"bufferedFilterValue":"filterValue",O(e,n,o,i),t.notFireEvent))};return{_updateEditorValue:function(t,n){var i=this,o=e(n);o&&o.option("value",R(i,t.index,n))},_columnOptionChanged:function(e){var n,o,r,a,s=this,l=e.optionNames;if(u.default.checkChanges(l,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation"])&&void 0!==e.columnIndex){var c=s._columnsController.getVisibleIndex(e.columnIndex),h=s._columnsController.columnOption(e.columnIndex);if(n=s._getCellElement(s.element().find("."+s.addWidgetPrefix(w)).index(),c)||(0,i.default)(),o=n.find("."+k).first(),l.filterValue||l.bufferedFilterValue){s._updateEditorValue(h,o);var p=n.find("."+s.addWidgetPrefix(x)).data("dxOverlay");p&&(r=p.$content().find("."+k),s._updateEditorValue(h,r.first()),s._updateEditorValue(h,r.last())),p&&p.option("visible")||s._updateFilterRangeContent(n,t(s,h))}(l.selectedFilterOperation||l.bufferedSelectedFilterOperation)&&c>=0&&h&&(a=n.find("."+I),a.length&&(s._updateFilterOperationChooser(a,h,o),"between"===d(s,h)?s._renderFilterRangeContent(n,h):o.find("."+V).length&&(s._renderEditor(o,s._getEditorOptions(o,h)),s._hideFilterRange())))}else s.callBase(e)},_renderCore:function(){this._filterRangeOverlayInstance=null,this.callBase.apply(this,arguments)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangeOverlayInstance&&this._filterRangeOverlayInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangeOverlay:function(e,n){var r=this,a={},l=e.find(".dx-editor-container"),u=(0,i.default)("<div>").addClass(r.addWidgetPrefix(x)).appendTo(e);return r._createComponent(u,p.default,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,closeOnTargetScroll:!1,closeOnOutsideClick:!0,animation:!1,position:{my:"top",at:"top",of:l.length&&l||e,offset:"0 -1"},contentTemplate:function(t){var l,d=(0,i.default)("<div>").addClass(k+" "+r.addWidgetPrefix(b)).appendTo(t);return n=r._columnsController.columnOption(n.index),l=r._getEditorOptions(d,n),l.sharedData=a,r._renderEditor(d,l),o.default.on(d.find(F),"keydown",(function(t){var n=e.find("[tabindex]").not(t.target).first();"tab"===(0,s.normalizeKeyName)(t)&&t.shiftKey&&(t.preventDefault(),r._hideFilterRange(),n.length||(n=e.prev().find("[tabindex]").last()),o.default.trigger(n,"focus"))})),d=(0,i.default)("<div>").addClass(k+" "+r.addWidgetPrefix(T)).appendTo(t),l=r._getEditorOptions(d,n),l.sharedData=a,r._renderEditor(d,l),o.default.on(d.find(F),"keydown",(function(t){"tab"!==(0,s.normalizeKeyName)(t)||t.shiftKey||(t.preventDefault(),r._hideFilterRange(),o.default.trigger(e.next().find("[tabindex]").first(),"focus"))})),(0,i.default)(t).addClass(r.getWidgetContainerClass())},onShown:function(e){var t=e.component.$content().find("."+k).first();o.default.trigger(t.find(F),"focus")},onHidden:function(){n=r._columnsController.columnOption(n.index),e.find("."+I).parent().addClass(S),"between"===d(r,n)&&(r._updateFilterRangeContent(e,t(r,n)),r.component.updateDimensions())}})},_updateFilterRangeOverlay:function(e){var t=this._filterRangeOverlayInstance;t&&t.option(e)},_showFilterRange:function(e,t){var n=this,i=e.children("."+n.addWidgetPrefix(x)),o=i.length&&i.data("dxOverlay");!o&&t&&(o=n._initFilterRangeOverlay(e,t)),o.option("visible")||(n._filterRangeOverlayInstance&&n._filterRangeOverlayInstance.hide(),n._filterRangeOverlayInstance=o,n._updateFilterRangeOverlay({width:e.outerWidth(!0)+C}),n._filterRangeOverlayInstance&&n._filterRangeOverlayInstance.show())},_hideFilterRange:function(){var e=this._filterRangeOverlayInstance;e&&e.hide()},getFilterRangeOverlayInstance:function(){return this._filterRangeOverlayInstance},_createRow:function(e){var t=this,n=this.callBase(e);return"filter"===e.rowType&&(n.addClass(this.addWidgetPrefix(w)),this.option("useLegacyKeyboardNavigation")||o.default.on(n,"keydown",(function(e){return(0,g.selectView)("filterRow",t,e)}))),n},_getRows:function(){var e=this.callBase();return this.isFilterRowVisible()&&e.push({rowType:"filter"}),e},_renderFilterCell:function(e,t){var n=this,o=t.column,r=(0,i.default)(e);n.component.option("showColumnHeaders")&&n.setAria("describedby",o.headerId,r),n.setAria("label",c.default.format("dxDataGrid-ariaFilterCell"),r),r.addClass(E);var a=(0,i.default)("<div>").appendTo(r),s=(0,i.default)("<div>").addClass(k).appendTo(a);if("between"===d(n,o))n._renderFilterRangeContent(r,o);else{var l=n._getEditorOptions(s,o);n._renderEditor(s,l)}var u=o.alignment;u&&"center"!==u&&r.find(F).first().css("textAlign",o.alignment),o.filterOperations&&o.filterOperations.length&&n._renderFilterOperationChooser(a,o,s)},_renderCellContent:function(e,t){var n=this,i=t.column;if("filter"===t.rowType)if(i.command)e.html("&nbsp;");else if(i.allowFiltering)return void n.renderTemplate(e,n._renderFilterCell.bind(n),t).done((function(){n._updateCell(e,t)}));n.callBase(e,t)},_getEditorOptions:function(e,t){var n=this,i={editorOptions:{inputAttr:n._getFilterInputAccessibilityAttributes(t)}},o=(0,a.extend)(i,t,{value:R(n,t.index,e),parentType:"filterRow",showAllText:n.option("filterRow.showAllText"),updateValueTimeout:"onClick"===n.option("filterRow.applyFilter")?0:y,width:null,setValue:function(i,o){A(n,{column:t,value:i,container:e,notFireEvent:o})}});return"between"===d(n,t)&&(e.hasClass(n.addWidgetPrefix(b))?o.placeholder=n.option("filterRow.betweenStartText"):o.placeholder=n.option("filterRow.betweenEndText")),o},_getFilterInputAccessibilityAttributes:function(e){var t=c.default.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":t,"aria-describedby":e.headerId}:{"aria-label":t}},_renderEditor:function(e,t){return e.empty(),this.getController("editorFactory").createEditor((0,i.default)("<div>").appendTo(e),t)},_renderFilterRangeContent:function(e,n){var r=this,a=e.find("."+k).first();a.empty();var s=(0,i.default)("<div>").addClass(V).attr("tabindex",this.option("tabIndex"));o.default.on(s,"focusin",(function(){r._showFilterRange(e,n)})),s.appendTo(a),r._updateFilterRangeContent(e,t(r,n))},_updateFilterRangeContent:function(e,t){var n=e.find("."+V);n.length&&(""===t?n.html("&nbsp;"):n.text(t))},_updateFilterOperationChooser:function(t,n,i){var r,a=this,s=function(){var e=f.default.getInstance(t);e&&e.option("focusedElement",null),r&&a._focusEditor(i)};a._createComponent(t,f.default,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:a.getWidgetContainerClass()+" "+P+" "+D,showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:!n.filterOperations||!n.filterOperations.length,icon:v[d(a,n)||"default"],selectable:!1,items:a._getFilterOperationMenuItems(n)}],onItemClick:function(t){var o=t.itemData.name,r=d(a,n),s=!1,l=N(a),u={};if(!(t.itemData.items||o&&o===r)){if(o?(u[l?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=o,"between"!==o&&"between"!==r||(s="between"===o,u[l?"bufferedFilterValue":"filterValue"]=null)):(u[l?"bufferedFilterValue":"filterValue"]=null,u[l?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=n.defaultSelectedFilterOperation||null),a._columnsController.columnOption(n.index,u),a._applyFilterViewController.setHighLight(i,!0),!o){var c=e(i);c&&"dxDateBox"===c.NAME&&!c.option("isValid")&&(c.reset(),c.option("isValid",!0))}s?a._showFilterRange(i.closest("."+E),n):a._focusEditor(i)}},onSubmenuShown:function(){r=a._isEditorFocused(i),a.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){o.default.trigger(t,"blur"),s()},onContentReady:function(e){o.default.on(t,"blur",(function(){var t=e.component;t._hideSubmenu(t._visibleSubmenu),s()}))},rtlEnabled:a.option("rtlEnabled")})},_isEditorFocused:function(e){return e.hasClass(M)||e.parents("."+M).length},_focusEditor:function(e){this.getController("editorFactory").focus(e),o.default.trigger(e.find(F),"focus")},_renderFilterOperationChooser:function(e,t,n){var o,r=this;r.option("filterRow.showOperationChooser")&&(e.addClass(S),o=(0,i.default)("<div>").prependTo(e),r._updateFilterOperationChooser(o,t,n))},_getFilterOperationMenuItems:function(e){var t=this,n=[{}],i=t.option("filterRow"),o=i&&i.operationDescriptions||{};if(e.filterOperations&&e.filterOperations.length){var a=e.filterOperations.filter((function(e){return(0,r.isDefined)(_[e])}));n=(0,l.map)(a,(function(n){var i=_[n];return{name:n,selected:(d(t,e)||e.defaultFilterOperation)===n,text:o[i],icon:v[n]}})),n.push({name:null,text:i&&i.resetOperationText,icon:v.default})}return n},optionChanged:function(e){var t=this;switch(e.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;default:t.callBase(e)}}}}(),H={skipCalculateColumnFilters:function(){return!1},_calculateAdditionalFilter:function(){if(this.skipCalculateColumnFilters())return this.callBase();var e=[this.callBase()],t=this._columnsController.getVisibleColumns(null,!0);return(0,l.each)(t,(function(){if(this.allowFiltering&&this.calculateFilterExpression&&(0,r.isDefined)(this.filterValue)){var t=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(t)}})),u.default.combineFilters(e)}},W=d.default.ViewController.inherit({_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(e,t){N(this)&&(e&&e.toggleClass(O,t)&&e.closest("."+E).toggleClass(A,t),this._getHeaderPanel().enableApplyButton(t))},applyFilter:function(){var e=this.getController("columns"),t=e.getColumns();e.beginUpdate();for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.bufferedFilterValue&&(e.columnOption(n,"filterValue",i.bufferedFilterValue),i.bufferedFilterValue=void 0),void 0!==i.bufferedSelectedFilterOperation&&(e.columnOption(n,"selectedFilterOperation",i.bufferedSelectedFilterOperation),i.bufferedSelectedFilterOperation=void 0)}e.endUpdate(),this.removeHighLights()},removeHighLights:function(){if(N(this)){var e=this.getView("columnHeadersView").element();e.find("."+this.addWidgetPrefix(w)+" ."+O).removeClass(O),e.find("."+this.addWidgetPrefix(w)+" ."+A).removeClass(A),this._getHeaderPanel().enableApplyButton(!1)}}}),z={defaultOptions:function(){return{filterRow:{visible:!1,showOperationChooser:!0,showAllText:c.default.format("dxDataGrid-filterRowShowAllText"),resetOperationText:c.default.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:c.default.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:c.default.format("dxDataGrid-filterRowOperationEquals"),notEqual:c.default.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:c.default.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:c.default.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:c.default.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:c.default.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:c.default.format("dxDataGrid-filterRowOperationStartsWith"),contains:c.default.format("dxDataGrid-filterRowOperationContains"),notContains:c.default.format("dxDataGrid-filterRowOperationNotContains"),endsWith:c.default.format("dxDataGrid-filterRowOperationEndsWith"),between:c.default.format("dxDataGrid-filterRowOperationBetween"),isBlank:c.default.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:c.default.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:c.default.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:c.default.format("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:W},extenders:{controllers:{data:H,columnsResizer:{_startResizing:function(){var e=this;if(e.callBase.apply(e,arguments),e.isResizing()){var t=e._columnHeadersView.getFilterRangeOverlayInstance();if(t){var n=t.$element().closest("td").index();n!==e._targetPoint.columnIndex&&n!==e._targetPoint.columnIndex+1||t.$content().hide()}}},_endResizing:function(){var e,t=this;if(t.isResizing()){var n=t._columnHeadersView.getFilterRangeOverlayInstance();n&&(e=n.$element().closest("td"),t._columnHeadersView._updateFilterRangeOverlay({width:e.outerWidth(!0)+C}),n.$content().show())}t.callBase.apply(t,arguments)}}},views:{columnHeadersView:L,headerPanel:{_getToolbarItems:function(){var e=this.callBase(),t=this._prepareFilterItem(e);return t.concat(e)},_prepareFilterItem:function(){var e=this,t=[];if(e._isShowApplyFilterButton()){var n=e.option("filterRow.applyFilterText"),o=e._columnsController.getColumns(),r=!o.filter((function(e){return void 0!==e.bufferedFilterValue})).length,a=function(t){(0,i.default)(t.element).addClass(e._getToolbarButtonClass(R))},s=function(){e._applyFilterViewController.applyFilter()},l={widget:"dxButton",options:{icon:"apply-filter",disabled:r,onClick:s,hint:n,text:n,onInitialized:a},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};t.push(l)}return t},_isShowApplyFilterButton:function(){var e=this.option("filterRow");return e&&e.visible&&"onClick"===e.applyFilter},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(e){this.setToolbarItemDisabled("applyFilterButton",!e)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(e){"filterRow"===e.name?(this._invalidate(),e.handled=!0):this.callBase(e)}}}}};t.default=z,e.exports=t.default},ee69:function(e,t,n){"use strict";t.getConfig=h;var i=r(n("14a3")),o=n("d4b2");function r(e){return e&&e.__esModule?e:{default:e}}var a="dx-filterbuilder-range",s=a+"-start",l=a+"-end",d=a+"-separator",u="–";function c(e,t){var n=(0,i.default)("<div>").addClass(s),r=(0,i.default)("<div>").addClass(l),c=e.value||[],h=function(e){return e&&e.length>0?e[0]:null},p=function(e){return e&&2===e.length?e[1]:null};t.append(n),t.append((0,i.default)("<span>").addClass(d).text(u)),t.append(r),t.addClass(a),this._editorFactory.createEditor.call(this,n,(0,o.extend)({},e.field,e,{value:h(c),parentType:"filterBuilder",setValue:function(t){c=[t,p(c)],e.setValue(c)}})),this._editorFactory.createEditor.call(this,r,(0,o.extend)({},e.field,e,{value:p(c),parentType:"filterBuilder",setValue:function(t){c=[h(c),t],e.setValue(c)}}))}function h(e,t){return{name:"between",caption:e,icon:"range",valueSeparator:u,dataTypes:["number","date","datetime"],editorTemplate:c.bind(t),notForLookup:!0}}},f12e:function(e,t,n){"use strict";t.default=void 0;var i=_(n("14a3")),o=n("b62d"),r=n("b49b"),a=_(n("0093")),s=n("4ecb"),l=n("ce5d"),d=n("d4b2"),u=n("5e04"),c=n("cb15"),h=n("2809"),p=_(n("3db9")),f=_(n("211b")),g=_(n("0fce")),m=n("706b"),v=_(n("8de2"));function _(e){return e&&e.__esModule?e:{default:e}}var y="dx-selection-disabled",C="dx-datagrid-group-opened",w="dx-datagrid-group-closed",x="dx-datagrid-expand",b="nodata",T={year:function(e){return e&&e.getFullYear()},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},hour:function(e){return e&&e.getHours()},minute:function(e){return e&&e.getMinutes()},second:function(e){return e&&e.getSeconds()}},I=function(){var e=arguments[1],t=this.calculateCellValue(e);if(!(0,o.isDefined)(t))return null;if(k(this.dataType)){var n=arguments[0];return T[n](t)}if("number"===this.dataType){var i=arguments[0];return Math.floor(Number(t)/i)*i}},S=function(e,t){return(0,o.isFunction)(e)&&(0,o.isFunction)(t)&&e.originalCallback&&t.originalCallback?e.originalCallback===t.originalCallback&&e.columnIndex===t.columnIndex:e===t};function k(e){return"date"===e||"datetime"===e}var E=function(e){e.get(0).textContent=" "},D=function(e){e=e||[];for(var t=f.default.normalizeSortingInfo(e),n=0;n<e.length;n++)e&&e[n]&&void 0!==e[n].isExpanded&&(t[n].isExpanded=e[n].isExpanded),e&&e[n]&&void 0!==e[n].groupInterval&&(t[n].groupInterval=e[n].groupInterval);return t},R=function(e,t){var n=g.default.format(e,t.format)||e&&e.toString()||"",i={value:e,valueText:t.getDisplayFormat?t.getDisplayFormat(n):n,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,i):i.valueText},O=function(e,t){var n=e.displayFormat||e.columnCaption&&t[e.summaryType+"OtherColumn"]||t[e.summaryType];return R(e.value,{format:e.valueFormat,getDisplayFormat:function(t){return n?(0,s.format)(n,t,e.columnCaption):t},customizeText:e.customizeText})},M=function(e){var t=e.data&&e.data(),n=t&&t.dxComponents,i=n&&n[0];return i&&t[i]},P=function e(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1;return!0}return(0,o.isFunction)(t)&&t.columnIndex>=0&&(0,o.isFunction)(n)&&n.columnIndex>=0?t.columnIndex===n.columnIndex&&(0,c.toComparable)(t.filterValue)===(0,c.toComparable)(n.filterValue):(0,c.toComparable)(t)==(0,c.toComparable)(n)},V={renderNoDataText:function(e){var t=this;if(e=e||this.element(),e){var n=t.addWidgetPrefix(b),o=e.find("."+n).last(),r=this._dataController.isEmpty(),a=this._dataController.isLoading();o.length||(o=(0,i.default)("<span>").addClass(n).appendTo(e)),r&&!a?o.removeClass("dx-hidden").text(t._getNoDataText()):o.addClass("dx-hidden")}},renderLoadPanel:function(e,t,n){var o,r=this;r._loadPanel&&r._loadPanel.$element().remove(),o=r.option("loadPanel"),o&&("auto"===o.enabled?!n:o.enabled)?(o=(0,d.extend)({shading:!1,message:o.text,position:function(){var t=(0,i.default)((0,m.getWindow)());return e.height()>t.height()?{of:t,boundary:e,collision:"fit"}:{of:e}},container:t},o),r._loadPanel=r._createComponent((0,i.default)("<div>").appendTo(t),p.default,o)):r._loadPanel=null},getIndexByKey:function(e,t,n){var i=-1;if(void 0!==e&&Array.isArray(t)){n=arguments.length<=2?"key":n;for(var r=0;r<t.length;r++){var a=(0,o.isDefined)(n)?t[r][n]:t[r];if((0,h.equalByValue)(e,a)){i=r;break}}}return i},combineFilters:function(e,t){var n=[];t=t||"and";for(var i=0;i<e.length;i++)e[i]&&(n.length&&n.push(t),n.push(e[i]));if(1===n.length&&(n=n[0]),n.length)return n},checkChanges:function(e,t){for(var n=0,i=0;i<t.length;i++)e[t[i]]&&n++;return e.length&&e.length===n},equalFilterParameters:P,proxyMethod:function(e,t,n){e[t]||(e[t]=function(){var e=this._dataSource;return e?e[t].apply(e,arguments):n})},formatValue:R,getFormatOptionsByColumn:function(e,t){return{format:e.format,getDisplayFormat:e.getDisplayFormat,customizeText:e.customizeText,target:t,trueText:e.trueText,falseText:e.falseText}},getDisplayValue:function(e,t,n,i){return e.displayValueMap&&void 0!==e.displayValueMap[t]?e.displayValueMap[t]:e.calculateDisplayValue&&n&&"group"!==i?e.calculateDisplayValue(n):!e.lookup||"group"===i&&(e.calculateGroupValue||e.calculateDisplayValue)?t:e.lookup.calculateCellValue(t)},getGroupRowSummaryText:function(e,t){for(var n="(",i=0;i<e.length;i++){var o=e[i];n+=(i>0?", ":"")+O(o,t)}return n+")"},getSummaryText:O,normalizeSortingInfo:D,getFormatByDataType:function(e){switch(e){case"date":return"shortDate";case"datetime":return"shortDateShortTime"}},getHeaderFilterGroupParameters:function(e,t){var n=[],i=e.dataField||e.name,o=a.default.getGroupInterval(e);return o?((0,l.each)(o,(function(r,a){n.push(t?{selector:i,groupInterval:a,isExpanded:r<o.length-1}:I.bind(e,a))})),n):(t?n=[{selector:i,isExpanded:!1}]:(n=function(t){var n=e.calculateCellValue(t);return void 0!==n&&""!==n||(n=null),n},e.sortingMethod&&(n=[{selector:n,compare:e.sortingMethod.bind(e)}])),n)},equalSortParameters:function(e,t,n){if(e=D(e),t=D(t),Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!S(e[i].selector,t[i].selector)||e[i].desc!==t[i].desc||e[i].groupInterval!==t[i].groupInterval||!n&&Boolean(e[i].isExpanded)!==Boolean(t[i].isExpanded))return!1;return!0}return(!e||!e.length)===(!t||!t.length)},getPointsByColumns:function(e,t,n,i){for(var o,r,a,s=e.length,l=!1,d=i||0,c=[],h=0;h<=s;h++){h<s&&(o=e.eq(h),r=o.offset(),a="rtl"===o.css("direction"));var p={index:d,x:r?r.left+(!n&&a^h===s?(0,u.getBoundingRect)(o[0]).width:0):0,y:r?r.top+(n&&h===s?(0,u.getBoundingRect)(o[0]).height:0):0,columnIndex:d};if(!n&&h>0){var f=e.eq(h-1).offset();f.top<p.y&&(p.y=f.top)}t&&(l=t(p)),l||c.push(p),d++}return c},getExpandCellTemplate:function(){return{allowRenderToDetachedContainer:!0,render:function(e,t){var n=(0,i.default)(e);if(!(0,o.isDefined)(t.value)||t.data&&t.data.isContinuation||t.row.isNewRow)E(n);else{var r=t.component.getView("rowsView");n.addClass(x).addClass(y),(0,i.default)("<div>").addClass(t.value?C:w).appendTo(n),r.setAria("label",t.value?r.localize("dxDataGrid-ariaCollapse"):r.localize("dxDataGrid-ariaExpand"),n)}}}},setEmptyText:E,isDateType:k,getSelectionRange:function(e){try{if(e)return{selectionStart:e.selectionStart,selectionEnd:e.selectionEnd}}catch(t){}return{}},setSelectionRange:function(e,t){try{e&&e.setSelectionRange&&e.setSelectionRange(t.selectionStart,t.selectionEnd)}catch(n){}},focusAndSelectElement:function(e,t){v.default.trigger(t,"focus");var n=e.option("editing.selectTextOnEditStart"),i=e.getController("keyboardNavigation"),o=i&&i._isFastEditingStarted(),a=t.get(0);if(n&&!o&&t.is(".dx-texteditor-input")&&!t.is("[readonly]")){var s=M(t.closest(".dx-texteditor"));(0,r.when)(s&&s._loadItemDeferred).done((function(){a.select()}))}},getWidgetInstance:M,getLastResizableColumnIndex:function(e,t){var n,i=e.some((function(e){return e&&!e.command&&!e.fixed&&!1!==e.allowResizing}));for(n=e.length-1;e[n];n--){var o=e[n],r=t&&t[n],a=!i||!1!==o.allowResizing;if(!o.command&&!o.fixed&&"adaptiveHidden"!==r&&a)break}return n},isElementInCurrentGrid:function(e,t){if(t&&t.length){var n=t.closest("."+e.getWidgetContainerClass()).parent();return n.is(e.component.$element())}return!1}};t.default=V,e.exports=t.default},f184:function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("7fde"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("search",o.default)},fcd5:function(e,t,n){"use strict";var i=r(n("832e")),o=r(n("066d"));function r(e){return e&&e.__esModule?e:{default:e}}i.default.registerModule("rowDragging",o.default)}}]);