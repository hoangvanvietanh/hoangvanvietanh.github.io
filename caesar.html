<!doctype html>
<html lang="en">

<head>
    <title>Bài 2</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div class="row" style="margin-top: 50px;margin-bottom: 25px;">
            <div class="col-md-3">
                <a name="" id="" class="btn btn-success" style="width: 100%;" href="/index.html" role="button">Bài 1</a>
            </div>
            <div class="col-md-2">
                <a name="" id="" class="btn btn-info" style="width: 100%;" href="/caesar.html" role="button">Bài 2</a>
            </div>
            <div class="col-md-2">
                <a name="" id="" class="btn btn-danger" style="width: 100%;" href="/maHoaThayTheDG.html"
                    role="button">Bài 3</a>
            </div>
            <div class="col-md-2">
                <a name="" id="" class="btn btn-warning" style="width: 100%;" href="/xuLyChuoi.html" role="button">Bài
                    4</a>
            </div>
            <div class="col-md-3">
                <a name="" id="" class="btn btn-primary" style="width: 100%;" href="/caculator.html" role="button">Bài
                    5</a>
            </div>
        </div>
        <div class="row">

            <div class="col-md-4">
                <div style="text-align: center;">
                    <h5>Giải mã</h5>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        Key
                    </div>
                    <div class="col-md-10">
                        Chuỗi
                    </div>
                </div>
                <div id="listDecrypt"></div>
            </div>

            <div class="col-md-4">
                <div style="text-align: center;">
                    <h5>Mã hóa Caesar</h5>
                </div>
                <div class="form-group">
                    <label for="plainText">Chuỗi chưa mã hóa:</label>
                    <textarea class="form-control" name="" id="plainText" rows="3"></textarea>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <button type="button" style="width: 100%;" onclick="btnEncrypt()" class="btn btn-success">Mã
                            hóa</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="cipherText">Chuỗi sau khi mã hóa:</label>
                    <textarea class="form-control" name="" id="cipherText" rows="3"></textarea>
                </div>
                <!-- <div class="form-group">
                    <label for="key">Key K: </label>
                    <input type="text" class="form-control" title="Nhập một kí tự từ A-Z hoặc số từ 1-25" name=""
                        id="key" aria-describedby="helpId" placeholder="" size="1" pattern="^[a-zA-Z0-9]{0,1}$">
                    <div id="errorMsg" class="error"></div>
                </div> -->
                <div class="row">
                    <div class="col-md-12">
                        <button type="button" style="width: 100%;" onclick="btnDecrypt()" class="btn btn-danger">Giải
                            mã</button>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div style="text-align: center;">
                    <h5>Mã hóa</h5>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        Key
                    </div>
                    <div class="col-md-10">
                        Chuỗi
                    </div>
                </div>
                <div id="listEncrypt"></div>
                
            </div>
        </div>
    </div>
    <section id="resultBruteforce"></section>

     <!-- Button trigger modal -->
     <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modelId">
        So sánh chuỗi
      </button>
      
      <!-- Modal -->
      <div class="modal fade" id="modelId" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                      <div class="modal-header">
                              <h5 class="modal-title">So sánh chuỗi</h5>
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                  </button>
                          </div>
                  <div class="modal-body">
                      <div class="container-fluid">
                          <div class="form-group">
                            <label for="textCompare1">Đoạn văn bản 1</label>
                            <input type="text"
                              class="form-control" name="" id="textCompare1" aria-describedby="helpId" placeholder="">
                          </div>
                          <div class="form-group">
                              <label for="textCompare2">Đoạn văn bản 2</label>
                              <input type="text"
                                class="form-control" name="" id="textCompare2" aria-describedby="helpId" placeholder="">
                            </div>
                      </div>
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
                      <button type="button" onclick="compareText()" class="btn btn-primary">So sánh</button>
                  </div>
              </div>
          </div>
      </div>
      
      <script>
          $('#exampleModal').on('show.bs.modal', event => {
              var button = $(event.relatedTarget);
              var modal = $(this);
              // Use above variables to manipulate the DOM
              
          });
      </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
        <script>
            function compareText(){
                if(textCompare1.value.replace(/\s/g, '').trim()==textCompare2.value.replace(/\s/g, '').trim())
                {
                    alert("Chuỗi giống nhau");
                }
                else{
                    alert("Chuỗi khác nhau");
                }
                
            }
        </script>
    <script>
        var shift;
        function encrypt(text, shift) {
            var result = "";

                //loop through each caharacter in the text
                for (var i = 0; i < text.length; i++) {

                    //get the character code of each letter
                    var c = text.charCodeAt(i);

                    // handle uppercase letters
                    if (c >= 65 && c <= 90) {
                        result += String.fromCharCode((c - 65 + shift) % 26 + 65);

                        // handle lowercase letters
                    } else if (c >= 97 && c <= 122) {
                        result += String.fromCharCode((c - 97 + shift) % 26 + 97);

                        // its not a letter, let it through
                    } else {
                        result += text.charAt(i);
                    }
                }
            console.log(result)
            return result;
        }

        function decrypt(text, shift) {
            var result = "";
            shift = (26 - shift) % 26;
            result = encrypt(text, shift);
            console.log(result)
            return result;
        }
        function btnEncrypt() {
            var htmlEncrypt = "";
            for(var i = 0;i<= 25;i++)
            {
                htmlEncrypt += `<div class="row">
                    <div class="col-md-2">
                       ${i}
                    </div>
                    <div class="col-md-10" style="word-wrap: break-word;">
                        ${encrypt(plainText.value,i)}
                    </div>
                </div>`
            }
            listEncrypt.innerHTML = htmlEncrypt;
            //cipherText.value =  encrypt(plainText.value,key.value);
        }
        function btnDecrypt()
        {
            var htmlDecrypt = "";
            for(var i = 0;i<= 25;i++)
            {
                htmlDecrypt += `<div class="row">
                    <div class="col-md-2">
                       ${i}
                    </div>
                    <div class="col-md-10" style="word-wrap: break-word;">
                        ${decrypt(cipherText.value,i)}
                    </div>
                </div>`
            }
            listDecrypt.innerHTML = htmlDecrypt;
            //plainText.value = decrypt(cipherText.value,key.value);
        }
    </script>
</body>

</html>